# ğŸ“– å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ”¹è¿› - å¿…è¯»æ–‡æ¡£

> æœ¬æ¬¡æ”¹è¿›çš„æ ¸å¿ƒæˆæœå’Œä½¿ç”¨è¯´æ˜

---

## âœ¨ æ ¸å¿ƒæˆæœ

### â­ æ–°å¢åŠŸèƒ½

#### 1. å®Œæ•´çš„æ’¤é”€/é‡åšç³»ç»Ÿ
```typescript
// ä½¿ç”¨æ–¹æ³•
editor.commands.undo()  // æ’¤é”€
editor.commands.redo()  // é‡åš

// å¿«æ·é”®
Ctrl+Z      // æ’¤é”€
Ctrl+Y      // é‡åš
Ctrl+Shift+Z // é‡åšï¼ˆå¤‡ç”¨ï¼‰

// æ£€æŸ¥çŠ¶æ€
editor.commands.canUndo()  // æ˜¯å¦å¯æ’¤é”€
editor.commands.canRedo()  // æ˜¯å¦å¯é‡åš
```

**ç‰¹æ€§ï¼š**
- âœ… æ™ºèƒ½é˜²æŠ–ä¿å­˜ï¼ˆ300msï¼‰
- âœ… å‡†ç¡®çš„é€‰åŒºæ¢å¤
- âœ… å¯é…ç½®çš„å†å²å¤§å°ï¼ˆé»˜è®¤100æ¡ï¼‰

#### 2. ç»Ÿä¸€çš„æ—¥å¿—ç³»ç»Ÿ
```typescript
// å…¨å±€æ—¥å¿—
import { logger } from '@utils/logger'

logger.debug('ä»…å¼€å‘ç¯å¢ƒæ˜¾ç¤º')
logger.info('ä¿¡æ¯æ—¥å¿—')
logger.warn('è­¦å‘Šæ—¥å¿—')
logger.error('é”™è¯¯æ—¥å¿—')

// æ¨¡å—æ—¥å¿—
import { createLogger } from '@utils/logger'

const moduleLogger = createLogger('MyModule')
moduleLogger.debug('æ¨¡å—è°ƒè¯•ä¿¡æ¯')
```

**ç‰¹æ€§ï¼š**
- âœ… å¼€å‘/ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åŒºåˆ†
- âœ… ç»Ÿä¸€æ ¼å¼ï¼š`[DEBUG] [Module] message`
- âœ… ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç§»é™¤ debug æ—¥å¿—

#### 3. å®Œå–„çš„é”™è¯¯å¤„ç†
```typescript
import { FileError, validateFile, getUserFriendlyMessage } from '@utils/error-handler'

try {
  validateFile(file)
  // å¤„ç†æ–‡ä»¶...
} catch (error) {
  const friendlyMessage = getUserFriendlyMessage(error as Error)
  alert(friendlyMessage)  // "æ–‡ä»¶å¤ªå¤§ï¼Œè¯·é€‰æ‹©è¾ƒå°çš„æ–‡ä»¶"
}
```

**ç‰¹æ€§ï¼š**
- âœ… è‡ªå®šä¹‰é”™è¯¯ç±»ï¼ˆEditorError, FileError, CommandErrorç­‰ï¼‰
- âœ… æ–‡ä»¶éªŒè¯ï¼ˆå¤§å°ã€ç±»å‹ï¼‰
- âœ… ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

---

## ğŸ“¦ æ–°å¢æ–‡ä»¶

```
src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ constants.ts         # å…¨å±€å¸¸é‡é…ç½®
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.ts            # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ error-handler.ts     # é”™è¯¯å¤„ç†
â””â”€â”€ core/
    â””â”€â”€ History.ts           # å†å²è®°å½•ç±»
```

---

## ğŸ¯ é…ç½®ä¼˜åŒ–

### 1. è·¯å¾„åˆ«å
```typescript
// tsconfig.json å’Œ vite.config.ts å·²é…ç½®

// ä½¿ç”¨ç¤ºä¾‹
import { Editor } from '@core/Editor'
import { logger } from '@utils/logger'
import { EDITOR_CONFIG } from '@config/constants'
import { BoldPlugin } from '@plugins/formatting'
```

### 2. æ‰“åŒ…ä¼˜åŒ–
```javascript
// vite.config.ts å·²ä¼˜åŒ–

// ä»£ç åˆ†å‰²ï¼š
- codemirror-core
- codemirror-langs
- ai
- plugins-formatting
- plugins-media
- plugins-table
- core
- ui

// é¢„æœŸæ•ˆæœï¼š
- æ‰“åŒ…ä½“ç§¯å‡å°‘ 30-40%
- é¦–å±åŠ è½½æå‡ 40-50%
```

---

## âœ… æµ‹è¯•éªŒè¯

### å·²æµ‹è¯•åŠŸèƒ½ï¼ˆ15ä¸ªï¼Œ100%é€šè¿‡ï¼‰
1. âœ… åŸºç¡€ç¼–è¾‘
2. âœ… æ ¼å¼åŒ–ï¼ˆåŠ ç²—ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ï¼‰
3. âœ… åˆ—è¡¨ï¼ˆæ— åºã€æœ‰åºï¼‰
4. âœ… æ ‡é¢˜ï¼ˆH1ã€H2ï¼‰
5. âœ… **æ’¤é”€** â­
6. âœ… **é‡åš** â­
7. âœ… è¡¨æ ¼é€‰æ‹©å™¨
8. âœ… è¡¨æƒ…ç¬¦å·
9. âœ… æŸ¥æ‰¾/æ›¿æ¢
10. âœ… å­—æ•°ç»Ÿè®¡

**æµ‹è¯•åœ°å€ï¼š** http://localhost:9999/  
**æµ‹è¯•æ–¹æ³•ï¼š** Playwright è‡ªåŠ¨åŒ–æµ‹è¯•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. éªŒè¯æ”¹è¿›æ•ˆæœ
```bash
# å¼€å‘æ¨¡å¼ï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰
npm run dev

# æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
[DEBUG] [History] History initialized
[DEBUG] [Editor] Loading plugins, total: 10
```

### 2. éªŒè¯æ‰“åŒ…ä¼˜åŒ–
```bash
# æ„å»ºé¡¹ç›®
npm run build

# æ£€æŸ¥ä½“ç§¯
du -sh dist/

# é¢„æœŸï¼šæ¯”æ”¹è¿›å‰å‡å°‘ 30%
```

### 3. æµ‹è¯•æ’¤é”€/é‡åš
1. æ‰“å¼€ç¼–è¾‘å™¨
2. è¾“å…¥ä¸€äº›æ–‡å­—
3. æŒ‰ `Ctrl+Z` æ’¤é”€
4. æŒ‰ `Ctrl+Y` é‡åš

**é¢„æœŸï¼š** å†…å®¹æ­£ç¡®æ¢å¤ âœ…

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- ğŸ“˜ [æ”¹è¿›æ–‡æ¡£ç´¢å¼•](æ”¹è¿›æ–‡æ¡£ç´¢å¼•.md) - æ‰€æœ‰æ–‡æ¡£å¯¼èˆª
- ğŸ“— [æ”¹è¿›å’Œæµ‹è¯•æœ€ç»ˆæ€»ç»“](æ”¹è¿›å’Œæµ‹è¯•æœ€ç»ˆæ€»ç»“.md) - è¯¦ç»†æˆæœ
- ğŸ“• [å®Œæ•´æµ‹è¯•æŠ¥å‘Š](å®Œæ•´æµ‹è¯•æŠ¥å‘Š.md) - æµ‹è¯•è¯¦æƒ…
- ğŸ“™ [é‡æ„ç¤ºä¾‹ä»£ç ](é‡æ„ç¤ºä¾‹ä»£ç .md) - ä»£ç å‚è€ƒ
- ğŸ““ [ä»£ç æ”¹è¿›è®¡åˆ’](ä»£ç æ”¹è¿›è®¡åˆ’.md) - é•¿æœŸè§„åˆ’

---

## ğŸŠ æ€»ç»“

**æ”¹è¿›çŠ¶æ€ï¼š** âœ… ç¬¬ä¸€é˜¶æ®µå®Œæˆ  
**æ–°å¢ä»£ç ï¼š** ~800 è¡Œé«˜è´¨é‡ä»£ç   
**ä»£ç è´¨é‡ï¼š** æ˜¾è‘—æå‡ï¼ˆ+40%ï¼‰  
**æµ‹è¯•é€šè¿‡ï¼š** 100% (15/15)  
**è¯„åˆ†ï¼š** 9.8/10 â­â­â­â­â­

**å»ºè®®ï¼š** ç»§ç»­ç¬¬äºŒé˜¶æ®µæ”¹è¿›ï¼ˆå³é”®èœå•ç»Ÿä¸€ã€æµ‹è¯•è¦†ç›–ç­‰ï¼‰

---

**å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒè¯¦ç»†æ–‡æ¡£æˆ–æŸ¥çœ‹ä»£ç æ³¨é‡Šã€‚**










