{"version":3,"file":"index.cjs","sources":["../../src/i18n/index.ts"],"sourcesContent":["/**\r\n * 国际化（i18n）系统\r\n * 支持多语言切换和动态加载\r\n */\r\n\r\nimport { EventEmitter } from '../core/EventEmitter'\r\n\r\nexport interface I18nConfig {\r\n  defaultLocale: string\r\n  fallbackLocale: string\r\n  messages: Record<string, LocaleMessages>\r\n}\r\n\r\nexport interface LocaleMessages {\r\n  [key: string]: string | LocaleMessages\r\n}\r\n\r\nexport class I18nManager extends EventEmitter {\r\n  private currentLocale: string\r\n  private fallbackLocale: string\r\n  private messages: Map<string, LocaleMessages> = new Map()\r\n  private loadedLocales: Set<string> = new Set()\r\n\r\n  constructor(config?: Partial<I18nConfig>) {\r\n    super()\r\n    this.currentLocale = config?.defaultLocale || 'zh-CN'\r\n    this.fallbackLocale = config?.fallbackLocale || 'en-US'\r\n\r\n    if (config?.messages) {\r\n      Object.entries(config.messages).forEach(([locale, messages]) => {\r\n        this.addMessages(locale, messages)\r\n      })\r\n    }\r\n\r\n    // 加载默认语言包\r\n    this.loadBuiltinLocales()\r\n  }\r\n\r\n  /**\r\n   * 加载内置语言包\r\n   */\r\n  private loadBuiltinLocales() {\r\n    // 中文\r\n    this.addMessages('zh-CN', {\r\n      editor: {\r\n        toolbar: {\r\n          bold: '加粗',\r\n          italic: '斜体',\r\n          underline: '下划线',\r\n          strikethrough: '删除线',\r\n          heading: '标题',\r\n          paragraph: '段落',\r\n          blockquote: '引用',\r\n          codeBlock: '代码块',\r\n          bulletList: '无序列表',\r\n          orderedList: '有序列表',\r\n          taskList: '任务列表',\r\n          link: '链接',\r\n          image: '图片',\r\n          video: '视频',\r\n          table: '表格',\r\n          horizontalRule: '分割线',\r\n          undo: '撤销',\r\n          redo: '重做',\r\n          alignLeft: '左对齐',\r\n          alignCenter: '居中对齐',\r\n          alignRight: '右对齐',\r\n          alignJustify: '两端对齐',\r\n          indent: '增加缩进',\r\n          outdent: '减少缩进',\r\n          textColor: '文字颜色',\r\n          backgroundColor: '背景颜色',\r\n          fontSize: '字号',\r\n          fontFamily: '字体',\r\n          lineHeight: '行高',\r\n          fullscreen: '全屏',\r\n          findReplace: '查找替换',\r\n          ai: 'AI 助手',\r\n          template: '模板',\r\n          export: '导出',\r\n          print: '打印',\r\n          help: '帮助',\r\n        },\r\n        dialog: {\r\n          confirm: '确定',\r\n          cancel: '取消',\r\n          close: '关闭',\r\n          save: '保存',\r\n          delete: '删除',\r\n          edit: '编辑',\r\n          insert: '插入',\r\n          upload: '上传',\r\n          browse: '浏览',\r\n        },\r\n        placeholder: {\r\n          search: '搜索...',\r\n          find: '查找内容',\r\n          replace: '替换为',\r\n          url: '输入链接地址',\r\n          imageUrl: '输入图片地址',\r\n          videoUrl: '输入视频地址',\r\n          altText: '替代文本',\r\n          title: '标题',\r\n          width: '宽度',\r\n          height: '高度',\r\n        },\r\n        message: {\r\n          success: '操作成功',\r\n          error: '操作失败',\r\n          warning: '警告',\r\n          info: '提示',\r\n          loading: '加载中...',\r\n          copySuccess: '已复制到剪贴板',\r\n          copyError: '复制失败',\r\n          saveSuccess: '保存成功',\r\n          saveError: '保存失败',\r\n          deleteConfirm: '确定要删除吗？',\r\n          unsavedChanges: '有未保存的更改，是否继续？',\r\n        },\r\n        ai: {\r\n          title: 'AI 助手',\r\n          optimize: '优化文本',\r\n          translate: '翻译',\r\n          summarize: '总结',\r\n          expand: '扩写',\r\n          shorten: '缩写',\r\n          fixGrammar: '修正语法',\r\n          changeTone: '改变语气',\r\n          generateIdeas: '生成创意',\r\n          loading: 'AI 正在思考...',\r\n          error: 'AI 服务出错',\r\n        },\r\n      },\r\n    })\r\n\r\n    // 英文\r\n    this.addMessages('en-US', {\r\n      editor: {\r\n        toolbar: {\r\n          bold: 'Bold',\r\n          italic: 'Italic',\r\n          underline: 'Underline',\r\n          strikethrough: 'Strikethrough',\r\n          heading: 'Heading',\r\n          paragraph: 'Paragraph',\r\n          blockquote: 'Blockquote',\r\n          codeBlock: 'Code Block',\r\n          bulletList: 'Bullet List',\r\n          orderedList: 'Ordered List',\r\n          taskList: 'Task List',\r\n          link: 'Link',\r\n          image: 'Image',\r\n          video: 'Video',\r\n          table: 'Table',\r\n          horizontalRule: 'Horizontal Rule',\r\n          undo: 'Undo',\r\n          redo: 'Redo',\r\n          alignLeft: 'Align Left',\r\n          alignCenter: 'Align Center',\r\n          alignRight: 'Align Right',\r\n          alignJustify: 'Justify',\r\n          indent: 'Indent',\r\n          outdent: 'Outdent',\r\n          textColor: 'Text Color',\r\n          backgroundColor: 'Background Color',\r\n          fontSize: 'Font Size',\r\n          fontFamily: 'Font Family',\r\n          lineHeight: 'Line Height',\r\n          fullscreen: 'Fullscreen',\r\n          findReplace: 'Find & Replace',\r\n          ai: 'AI Assistant',\r\n          template: 'Template',\r\n          export: 'Export',\r\n          print: 'Print',\r\n          help: 'Help',\r\n        },\r\n        dialog: {\r\n          confirm: 'OK',\r\n          cancel: 'Cancel',\r\n          close: 'Close',\r\n          save: 'Save',\r\n          delete: 'Delete',\r\n          edit: 'Edit',\r\n          insert: 'Insert',\r\n          upload: 'Upload',\r\n          browse: 'Browse',\r\n        },\r\n        placeholder: {\r\n          search: 'Search...',\r\n          find: 'Find',\r\n          replace: 'Replace with',\r\n          url: 'Enter URL',\r\n          imageUrl: 'Enter image URL',\r\n          videoUrl: 'Enter video URL',\r\n          altText: 'Alt text',\r\n          title: 'Title',\r\n          width: 'Width',\r\n          height: 'Height',\r\n        },\r\n        message: {\r\n          success: 'Success',\r\n          error: 'Error',\r\n          warning: 'Warning',\r\n          info: 'Info',\r\n          loading: 'Loading...',\r\n          copySuccess: 'Copied to clipboard',\r\n          copyError: 'Failed to copy',\r\n          saveSuccess: 'Saved successfully',\r\n          saveError: 'Failed to save',\r\n          deleteConfirm: 'Are you sure to delete?',\r\n          unsavedChanges: 'You have unsaved changes. Continue?',\r\n        },\r\n        ai: {\r\n          title: 'AI Assistant',\r\n          optimize: 'Optimize Text',\r\n          translate: 'Translate',\r\n          summarize: 'Summarize',\r\n          expand: 'Expand',\r\n          shorten: 'Shorten',\r\n          fixGrammar: 'Fix Grammar',\r\n          changeTone: 'Change Tone',\r\n          generateIdeas: 'Generate Ideas',\r\n          loading: 'AI is thinking...',\r\n          error: 'AI service error',\r\n        },\r\n      },\r\n    })\r\n\r\n    // 日文\r\n    this.addMessages('ja-JP', {\r\n      editor: {\r\n        toolbar: {\r\n          bold: '太字',\r\n          italic: '斜体',\r\n          underline: '下線',\r\n          strikethrough: '取り消し線',\r\n          heading: '見出し',\r\n          paragraph: '段落',\r\n          blockquote: '引用',\r\n          codeBlock: 'コードブロック',\r\n          bulletList: '箇条書き',\r\n          orderedList: '番号付きリスト',\r\n          taskList: 'タスクリスト',\r\n          link: 'リンク',\r\n          image: '画像',\r\n          video: '動画',\r\n          table: '表',\r\n          horizontalRule: '水平線',\r\n          undo: '元に戻す',\r\n          redo: 'やり直す',\r\n          alignLeft: '左揃え',\r\n          alignCenter: '中央揃え',\r\n          alignRight: '右揃え',\r\n          alignJustify: '両端揃え',\r\n          indent: 'インデント',\r\n          outdent: 'インデント解除',\r\n          textColor: '文字色',\r\n          backgroundColor: '背景色',\r\n          fontSize: 'フォントサイズ',\r\n          fontFamily: 'フォント',\r\n          lineHeight: '行の高さ',\r\n          fullscreen: '全画面',\r\n          findReplace: '検索と置換',\r\n          ai: 'AIアシスタント',\r\n          template: 'テンプレート',\r\n          export: 'エクスポート',\r\n          print: '印刷',\r\n          help: 'ヘルプ',\r\n        },\r\n        dialog: {\r\n          confirm: 'OK',\r\n          cancel: 'キャンセル',\r\n          close: '閉じる',\r\n          save: '保存',\r\n          delete: '削除',\r\n          edit: '編集',\r\n          insert: '挿入',\r\n          upload: 'アップロード',\r\n          browse: '参照',\r\n        },\r\n        placeholder: {\r\n          search: '検索...',\r\n          find: '検索',\r\n          replace: '置換',\r\n          url: 'URLを入力',\r\n          imageUrl: '画像URLを入力',\r\n          videoUrl: '動画URLを入力',\r\n          altText: '代替テキスト',\r\n          title: 'タイトル',\r\n          width: '幅',\r\n          height: '高さ',\r\n        },\r\n        message: {\r\n          success: '成功',\r\n          error: 'エラー',\r\n          warning: '警告',\r\n          info: '情報',\r\n          loading: '読み込み中...',\r\n          copySuccess: 'クリップボードにコピーしました',\r\n          copyError: 'コピーに失敗しました',\r\n          saveSuccess: '保存しました',\r\n          saveError: '保存に失敗しました',\r\n          deleteConfirm: '削除してもよろしいですか？',\r\n          unsavedChanges: '未保存の変更があります。続行しますか？',\r\n        },\r\n        ai: {\r\n          title: 'AIアシスタント',\r\n          optimize: 'テキストを最適化',\r\n          translate: '翻訳',\r\n          summarize: '要約',\r\n          expand: '拡張',\r\n          shorten: '短縮',\r\n          fixGrammar: '文法を修正',\r\n          changeTone: 'トーンを変更',\r\n          generateIdeas: 'アイデアを生成',\r\n          loading: 'AIが考えています...',\r\n          error: 'AIサービスエラー',\r\n        },\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 添加语言包\r\n   */\r\n  addMessages(locale: string, messages: LocaleMessages) {\r\n    this.messages.set(locale, messages)\r\n    this.loadedLocales.add(locale)\r\n  }\r\n\r\n  /**\r\n   * 动态加载语言包\r\n   */\r\n  async loadLocale(locale: string): Promise<void> {\r\n    if (this.loadedLocales.has(locale))\r\n      return\r\n\r\n    try {\r\n      // 动态导入语言包\r\n      const messages = await import(`./locales/${locale}.json`)\r\n      this.addMessages(locale, messages.default)\r\n    }\r\n    catch (error) {\r\n      console.error(`Failed to load locale: ${locale}`, error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 切换语言\r\n   */\r\n  async setLocale(locale: string) {\r\n    if (!this.loadedLocales.has(locale))\r\n      await this.loadLocale(locale)\r\n\r\n    const oldLocale = this.currentLocale\r\n    this.currentLocale = locale\r\n\r\n    this.emit('localeChange', { oldLocale, newLocale: locale })\r\n  }\r\n\r\n  /**\r\n   * 获取当前语言\r\n   */\r\n  getLocale(): string {\r\n    return this.currentLocale\r\n  }\r\n\r\n  /**\r\n   * 获取支持的语言列表\r\n   */\r\n  getAvailableLocales(): string[] {\r\n    return Array.from(this.loadedLocales)\r\n  }\r\n\r\n  /**\r\n   * 翻译文本\r\n   */\r\n  t(key: string, params?: Record<string, any>): string {\r\n    const keys = key.split('.')\r\n    let message = this.getMessage(this.currentLocale, keys)\r\n\r\n    if (!message && this.currentLocale !== this.fallbackLocale)\r\n      message = this.getMessage(this.fallbackLocale, keys)\r\n\r\n    if (!message)\r\n      return key\r\n\r\n    // 替换参数\r\n    if (params && typeof message === 'string') {\r\n      Object.entries(params).forEach(([param, value]) => {\r\n        message = (message as string).replace(`{${param}}`, String(value))\r\n      })\r\n    }\r\n\r\n    return message as string\r\n  }\r\n\r\n  /**\r\n   * 获取消息\r\n   */\r\n  private getMessage(locale: string, keys: string[]): string | undefined {\r\n    const messages = this.messages.get(locale)\r\n    if (!messages)\r\n      return undefined\r\n\r\n    let current: any = messages\r\n    for (const key of keys) {\r\n      if (current[key] === undefined)\r\n        return undefined\r\n\r\n      current = current[key]\r\n    }\r\n\r\n    return typeof current === 'string' ? current : undefined\r\n  }\r\n\r\n  /**\r\n   * 检查是否有某个翻译键\r\n   */\r\n  has(key: string): boolean {\r\n    const keys = key.split('.')\r\n    return !!this.getMessage(this.currentLocale, keys)\r\n  }\r\n}\r\n\r\n// 单例实例\r\nlet i18nInstance: I18nManager | null = null\r\n\r\n/**\r\n * 获取或创建 i18n 实例\r\n */\r\nexport function getI18n(config?: Partial<I18nConfig>): I18nManager {\r\n  if (!i18nInstance)\r\n    i18nInstance = new I18nManager(config)\r\n\r\n  return i18nInstance\r\n}\r\n\r\n/**\r\n * 便捷翻译函数\r\n */\r\nexport function t(key: string, params?: Record<string, any>): string {\r\n  return getI18n().t(key, params)\r\n}\r\n\r\n/**\r\n * 导出类型\r\n */\r\nexport type { I18nConfig, LocaleMessages }\r\n"],"names":["I18nManager","EventEmitter","constructor","config","messages","Map","loadedLocales","Set","currentLocale","defaultLocale","fallbackLocale","Object","entries","forEach","locale","addMessages","loadBuiltinLocales","editor","toolbar","bold","italic","underline","strikethrough","heading","paragraph","blockquote","codeBlock","bulletList","orderedList","taskList","link","image","video","table","horizontalRule","undo","redo","alignLeft","alignCenter","alignRight","alignJustify","indent","outdent","textColor","backgroundColor","fontSize","fontFamily","lineHeight","fullscreen","findReplace","ai","template","export","print","help","dialog","confirm","cancel","close","save","delete","edit","insert","upload","browse","placeholder","search","find","replace","url","imageUrl","videoUrl","altText","title","width","height","message","success","error","warning","info","loading","copySuccess","copyError","saveSuccess","saveError","deleteConfirm","unsavedChanges","optimize","translate","summarize","expand","shorten","fixGrammar","changeTone","generateIdeas","set","add","loadLocale","has","default","console","setLocale","oldLocale","emit","newLocale","getLocale","getAvailableLocales","Array","from","t","key","params","keys","split","getMessage","param","value","String","get","undefined","current","i18nInstance","getI18n"],"mappings":"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"}