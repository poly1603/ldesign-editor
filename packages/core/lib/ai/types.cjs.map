{"version":3,"file":"types.cjs","sources":["../../src/ai/types.ts"],"sourcesContent":["/**\r\n * AI 功能的类型定义\r\n */\r\n\r\n/**\r\n * AI 提供商类型\r\n */\r\nexport type AIProvider = 'deepseek' | 'openai' | 'claude' | 'azure' | 'baidu' | 'qwen' | 'spark' | 'glm' | 'custom'\r\n\r\n/**\r\n * AI 模型配置\r\n */\r\nexport interface AIModelConfig {\r\n  provider: AIProvider\r\n  model: string\r\n  apiKey: string\r\n  apiEndpoint?: string\r\n  baseURL?: string\r\n  temperature?: number\r\n  maxTokens?: number\r\n  topP?: number\r\n  stream?: boolean\r\n}\r\n\r\n/**\r\n * AI 配置选项\r\n */\r\nexport interface AIConfig {\r\n  enabled: boolean\r\n  defaultProvider: AIProvider\r\n  providers: {\r\n    [key in AIProvider]?: AIModelConfig\r\n  }\r\n  features: {\r\n    errorCorrection: boolean\r\n    autoComplete: boolean\r\n    textContinuation: boolean\r\n    textRewrite: boolean\r\n    smartSuggestions: boolean\r\n  }\r\n  shortcuts?: {\r\n    errorCorrection?: string\r\n    autoComplete?: string\r\n    textContinuation?: string\r\n    textRewrite?: string\r\n  }\r\n}\r\n\r\n/**\r\n * AI 请求类型\r\n */\r\nexport type AIRequestType = 'correct' | 'complete' | 'continue' | 'rewrite' | 'suggest' | 'custom'\r\n\r\n/**\r\n * AI 请求参数\r\n */\r\nexport interface AIRequest {\r\n  type: AIRequestType\r\n  text: string\r\n  context?: string\r\n  language?: string\r\n  options?: Record<string, any>\r\n  // Provider-specific fields\r\n  model?: string\r\n  prompt?: string\r\n  systemPrompt?: string\r\n  temperature?: number\r\n  maxTokens?: number\r\n  topP?: number\r\n  stream?: boolean\r\n}\r\n\r\n/**\r\n * AI 响应\r\n */\r\nexport interface AIResponse {\r\n  success: boolean\r\n  text?: string\r\n  content?: string\r\n  suggestions?: string[]\r\n  error?: string\r\n  usage?: {\r\n    promptTokens: number\r\n    completionTokens: number\r\n    totalTokens: number\r\n  }\r\n}\r\n\r\n/**\r\n * AI 提供商接口\r\n */\r\nexport interface AIProviderInterface {\r\n  name: AIProvider\r\n  config: AIModelConfig\r\n\r\n  /**\r\n   * 初始化提供商\r\n   */\r\n  initialize: (config: AIModelConfig) => Promise<void>\r\n\r\n  /**\r\n   * 发送请求\r\n   */\r\n  request: (request: AIRequest) => Promise<AIResponse>\r\n\r\n  /**\r\n   * 验证配置\r\n   */\r\n  validateConfig: () => boolean\r\n\r\n  /**\r\n   * 清理资源\r\n   */\r\n  cleanup: () => void\r\n}\r\n\r\n/**\r\n * 默认 AI 配置\r\n */\r\nexport const defaultAIConfig: AIConfig = {\r\n  enabled: true,\r\n  defaultProvider: 'deepseek',\r\n  providers: {\r\n    deepseek: {\r\n      provider: 'deepseek',\r\n      model: 'deepseek-chat',\r\n      apiKey: '',\r\n      apiEndpoint: 'https://api.deepseek.com/v1',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n    openai: {\r\n      provider: 'openai',\r\n      model: 'gpt-3.5-turbo',\r\n      apiKey: '',\r\n      apiEndpoint: 'https://api.openai.com/v1',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n    claude: {\r\n      provider: 'claude',\r\n      model: 'claude-3-sonnet-20240229',\r\n      apiKey: '',\r\n      apiEndpoint: 'https://api.anthropic.com/v1',\r\n      temperature: 0.7,\r\n      maxTokens: 4000,\r\n      stream: false,\r\n    },\r\n    baidu: {\r\n      provider: 'baidu',\r\n      model: 'ernie-bot',\r\n      apiKey: '', // 格式: API_KEY:SECRET_KEY\r\n      apiEndpoint: 'https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n    qwen: {\r\n      provider: 'qwen',\r\n      model: 'qwen-turbo',\r\n      apiKey: '',\r\n      apiEndpoint: 'https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n    spark: {\r\n      provider: 'spark',\r\n      model: 'spark-3.5',\r\n      apiKey: '', // 格式: APP_ID:API_KEY:API_SECRET\r\n      apiEndpoint: 'wss://spark-api.xf-yun.com/v3.5/chat',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n    glm: {\r\n      provider: 'glm',\r\n      model: 'glm-4',\r\n      apiKey: '',\r\n      apiEndpoint: 'https://open.bigmodel.cn/api/paas/v4/chat/completions',\r\n      temperature: 0.7,\r\n      maxTokens: 2000,\r\n      stream: false,\r\n    },\r\n  },\r\n  features: {\r\n    errorCorrection: true,\r\n    autoComplete: true,\r\n    textContinuation: true,\r\n    textRewrite: true,\r\n    smartSuggestions: true,\r\n  },\r\n  shortcuts: {\r\n    errorCorrection: 'Alt+F',\r\n    autoComplete: 'Ctrl+Space',\r\n    textContinuation: 'Alt+Enter',\r\n    textRewrite: 'Alt+R',\r\n  },\r\n}\r\n"],"names":["defaultAIConfig","enabled","defaultProvider","providers","deepseek","provider","model","apiKey","apiEndpoint","temperature","maxTokens","stream","openai","claude","baidu","qwen","spark","glm","features","errorCorrection","autoComplete","textContinuation","textRewrite","smartSuggestions","shortcuts"],"mappings":";;;;;;;;;;;AAuHO,MAAMA,eAAAA,GAA4B;AAAA,EACvCC,OAAAA,EAAS,IAAA;AAAA,EACTC,eAAAA,EAAiB,UAAA;AAAA,EACjBC,SAAAA,EAAW;AAAA,IACTC,QAAAA,EAAU;AAAA,MACRC,QAAAA,EAAU,UAAA;AAAA,MACVC,KAAAA,EAAO,eAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA,MACRC,WAAAA,EAAa,6BAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAC,MAAAA,EAAQ;AAAA,MACNP,QAAAA,EAAU,QAAA;AAAA,MACVC,KAAAA,EAAO,eAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA,MACRC,WAAAA,EAAa,2BAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAE,MAAAA,EAAQ;AAAA,MACNR,QAAAA,EAAU,QAAA;AAAA,MACVC,KAAAA,EAAO,0BAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA,MACRC,WAAAA,EAAa,8BAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAG,KAAAA,EAAO;AAAA,MACLT,QAAAA,EAAU,OAAA;AAAA,MACVC,KAAAA,EAAO,WAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA;AAAA,MACRC,WAAAA,EAAa,mEAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAI,IAAAA,EAAM;AAAA,MACJV,QAAAA,EAAU,MAAA;AAAA,MACVC,KAAAA,EAAO,YAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA,MACRC,WAAAA,EAAa,gFAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAK,KAAAA,EAAO;AAAA,MACLX,QAAAA,EAAU,OAAA;AAAA,MACVC,KAAAA,EAAO,WAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA;AAAA,MACRC,WAAAA,EAAa,sCAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA,KACV;AAAA,IACAM,GAAAA,EAAK;AAAA,MACHZ,QAAAA,EAAU,KAAA;AAAA,MACVC,KAAAA,EAAO,OAAA;AAAA,MACPC,MAAAA,EAAQ,EAAA;AAAA,MACRC,WAAAA,EAAa,uDAAA;AAAA,MACbC,WAAAA,EAAa,GAAA;AAAA,MACbC,SAAAA,EAAW,GAAA;AAAA,MACXC,MAAAA,EAAQ;AAAA;AACV,GACF;AAAA,EACAO,QAAAA,EAAU;AAAA,IACRC,eAAAA,EAAiB,IAAA;AAAA,IACjBC,YAAAA,EAAc,IAAA;AAAA,IACdC,gBAAAA,EAAkB,IAAA;AAAA,IAClBC,WAAAA,EAAa,IAAA;AAAA,IACbC,gBAAAA,EAAkB;AAAA,GACpB;AAAA,EACAC,SAAAA,EAAW;AAAA,IACTL,eAAAA,EAAiB,OAAA;AAAA,IACjBC,YAAAA,EAAc,YAAA;AAAA,IACdC,gBAAAA,EAAkB,WAAA;AAAA,IAClBC,WAAAA,EAAa;AAAA;AAEjB;;;;;;;"}