{"version":3,"file":"PluginsTab.cjs","sources":["../../../src/devtools/tabs/PluginsTab.ts"],"sourcesContent":["/**\r\n * æ’ä»¶è°ƒè¯•æ ‡ç­¾é¡µ\r\n * ç®¡ç†å’Œè°ƒè¯•ç¼–è¾‘å™¨æ’ä»¶\r\n */\r\n\r\nimport type { Editor } from '../../core/Editor'\r\nimport { createLogger } from '../../utils/logger'\r\n\r\nconst logger = createLogger('PluginsTab')\r\n\r\nexport interface PluginInfo {\r\n  name: string\r\n  version: string\r\n  description?: string\r\n  author?: string\r\n  enabled: boolean\r\n  loadTime?: number\r\n  size?: number\r\n  dependencies?: string[]\r\n  exports?: string[]\r\n  config?: any\r\n  errorCount: number\r\n  warningCount: number\r\n}\r\n\r\nexport class PluginsTab {\r\n  private editor: Editor\r\n  private container?: HTMLElement\r\n  private plugins: Map<string, PluginInfo> = new Map()\r\n  private selectedPlugin?: string\r\n  private detailsPanel?: HTMLElement\r\n\r\n  constructor(options: { editor: Editor }) {\r\n    this.editor = options.editor\r\n    this.loadPluginInfo()\r\n  }\r\n\r\n  /**\r\n   * åŠ è½½æ’ä»¶ä¿¡æ¯\r\n   */\r\n  private loadPluginInfo(): void {\r\n    // è·å–å·²åŠ è½½çš„æ’ä»¶\r\n    const loadedPlugins = this.editor.plugins?.getLoadedPlugins() || []\r\n\r\n    loadedPlugins.forEach((name) => {\r\n      const plugin = this.editor.plugins?.get(name)\r\n      if (plugin) {\r\n        this.plugins.set(name, {\r\n          name,\r\n          version: plugin.version || '1.0.0',\r\n          description: plugin.description,\r\n          author: plugin.author,\r\n          enabled: true,\r\n          loadTime: plugin.loadTime,\r\n          errorCount: 0,\r\n          warningCount: 0,\r\n          config: plugin.config,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æ¸²æŸ“æ ‡ç­¾é¡µ\r\n   */\r\n  render(): HTMLElement {\r\n    this.container = document.createElement('div')\r\n    this.container.className = 'plugins-tab'\r\n    this.container.style.cssText = `\r\n      display: flex;\r\n      height: 100%;\r\n    `\r\n\r\n    // æ’ä»¶åˆ—è¡¨\r\n    const listContainer = this.createPluginList()\r\n\r\n    // è¯¦æƒ…é¢æ¿\r\n    this.detailsPanel = this.createDetailsPanel()\r\n\r\n    this.container.appendChild(listContainer)\r\n    this.container.appendChild(this.detailsPanel)\r\n\r\n    return this.container\r\n  }\r\n\r\n  /**\r\n   * åˆ›å»ºæ’ä»¶åˆ—è¡¨\r\n   */\r\n  private createPluginList(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.className = 'plugins-list'\r\n    container.style.cssText = `\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      border-right: 1px solid #e0e0e0;\r\n      padding: 20px;\r\n    `\r\n\r\n    // æ ‡é¢˜\r\n    const header = document.createElement('div')\r\n    header.style.cssText = `\r\n      margin-bottom: 20px;\r\n    `\r\n    header.innerHTML = `\r\n      <h3 style=\"margin: 0 0 10px 0; font-size: 16px;\">å·²åŠ è½½æ’ä»¶</h3>\r\n      <p style=\"margin: 0; font-size: 12px; color: #666;\">\r\n        å…± ${this.plugins.size} ä¸ªæ’ä»¶\r\n      </p>\r\n    `\r\n\r\n    // æ’ä»¶å¡ç‰‡\r\n    const pluginCards = document.createElement('div')\r\n    pluginCards.className = 'plugin-cards'\r\n    pluginCards.style.cssText = `\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 12px;\r\n    `\r\n\r\n    this.plugins.forEach((plugin, name) => {\r\n      const card = this.createPluginCard(plugin)\r\n      pluginCards.appendChild(card)\r\n    })\r\n\r\n    // å¦‚æœæ²¡æœ‰æ’ä»¶\r\n    if (this.plugins.size === 0) {\r\n      pluginCards.innerHTML = `\r\n        <div style=\"\r\n          padding: 40px;\r\n          text-align: center;\r\n          color: #999;\r\n          background: #f5f5f5;\r\n          border-radius: 8px;\r\n        \">\r\n          <div style=\"font-size: 32px; margin-bottom: 10px;\">ğŸ”Œ</div>\r\n          <div>æš‚æ— å·²åŠ è½½çš„æ’ä»¶</div>\r\n        </div>\r\n      `\r\n    }\r\n\r\n    container.appendChild(header)\r\n    container.appendChild(pluginCards)\r\n\r\n    return container\r\n  }\r\n\r\n  /**\r\n   * åˆ›å»ºæ’ä»¶å¡ç‰‡\r\n   */\r\n  private createPluginCard(plugin: PluginInfo): HTMLElement {\r\n    const card = document.createElement('div')\r\n    card.className = `plugin-card plugin-${plugin.name}`\r\n    card.style.cssText = `\r\n      background: white;\r\n      border: 1px solid #e0e0e0;\r\n      border-radius: 8px;\r\n      padding: 15px;\r\n      cursor: pointer;\r\n      transition: all 0.2s;\r\n      position: relative;\r\n    `\r\n\r\n    const statusColor = plugin.errorCount > 0\r\n      ? '#f44336'\r\n      : plugin.warningCount > 0\r\n        ? '#ff9800'\r\n        : plugin.enabled ? '#4caf50' : '#999'\r\n\r\n    card.innerHTML = `\r\n      <div style=\"display: flex; align-items: start; justify-content: space-between;\">\r\n        <div style=\"flex: 1;\">\r\n          <div style=\"display: flex; align-items: center; gap: 10px; margin-bottom: 8px;\">\r\n            <h4 style=\"margin: 0; font-size: 14px; color: #333;\">${plugin.name}</h4>\r\n            <span style=\"\r\n              background: ${statusColor};\r\n              color: white;\r\n              padding: 2px 6px;\r\n              border-radius: 3px;\r\n              font-size: 10px;\r\n            \">${plugin.enabled ? 'å¯ç”¨' : 'ç¦ç”¨'}</span>\r\n            ${plugin.version\r\n              ? `\r\n              <span style=\"\r\n                background: #e0e0e0;\r\n                color: #666;\r\n                padding: 2px 6px;\r\n                border-radius: 3px;\r\n                font-size: 10px;\r\n              \">v${plugin.version}</span>\r\n            `\r\n              : ''}\r\n          </div>\r\n          ${plugin.description\r\n            ? `\r\n            <p style=\"margin: 0 0 8px 0; font-size: 12px; color: #666;\">\r\n              ${plugin.description}\r\n            </p>\r\n          `\r\n            : ''}\r\n          <div style=\"display: flex; gap: 15px; font-size: 11px; color: #999;\">\r\n            ${plugin.author ? `<span>ä½œè€…: ${plugin.author}</span>` : ''}\r\n            ${plugin.loadTime ? `<span>åŠ è½½: ${plugin.loadTime}ms</span>` : ''}\r\n            ${plugin.errorCount > 0\r\n              ? `\r\n              <span style=\"color: #f44336;\">\r\n                ${plugin.errorCount} ä¸ªé”™è¯¯\r\n              </span>\r\n            `\r\n              : ''}\r\n            ${plugin.warningCount > 0\r\n              ? `\r\n              <span style=\"color: #ff9800;\">\r\n                ${plugin.warningCount} ä¸ªè­¦å‘Š\r\n              </span>\r\n            `\r\n              : ''}\r\n          </div>\r\n        </div>\r\n        <div style=\"display: flex; gap: 8px;\">\r\n          <button onclick=\"event.stopPropagation()\" style=\"\r\n            padding: 4px 8px;\r\n            background: transparent;\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n            cursor: pointer;\r\n            font-size: 11px;\r\n          \" data-action=\"toggle\" data-plugin=\"${plugin.name}\">\r\n            ${plugin.enabled ? 'ç¦ç”¨' : 'å¯ç”¨'}\r\n          </button>\r\n          <button onclick=\"event.stopPropagation()\" style=\"\r\n            padding: 4px 8px;\r\n            background: transparent;\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n            cursor: pointer;\r\n            font-size: 11px;\r\n          \" data-action=\"reload\" data-plugin=\"${plugin.name}\">\r\n            é‡è½½\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `\r\n\r\n    // ç‚¹å‡»æ˜¾ç¤ºè¯¦æƒ…\r\n    card.onclick = () => this.showPluginDetails(plugin.name)\r\n\r\n    // æ‚¬åœæ•ˆæœ\r\n    card.onmouseenter = () => {\r\n      card.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)'\r\n      card.style.transform = 'translateY(-1px)'\r\n    }\r\n\r\n    card.onmouseleave = () => {\r\n      card.style.boxShadow = 'none'\r\n      card.style.transform = 'translateY(0)'\r\n    }\r\n\r\n    // ç»‘å®šæŒ‰é’®äº‹ä»¶\r\n    const toggleBtn = card.querySelector('[data-action=\"toggle\"]') as HTMLElement\r\n    if (toggleBtn) {\r\n      toggleBtn.onclick = (e) => {\r\n        e.stopPropagation()\r\n        this.togglePlugin(plugin.name)\r\n      }\r\n    }\r\n\r\n    const reloadBtn = card.querySelector('[data-action=\"reload\"]') as HTMLElement\r\n    if (reloadBtn) {\r\n      reloadBtn.onclick = (e) => {\r\n        e.stopPropagation()\r\n        this.reloadPlugin(plugin.name)\r\n      }\r\n    }\r\n\r\n    return card\r\n  }\r\n\r\n  /**\r\n   * åˆ›å»ºè¯¦æƒ…é¢æ¿\r\n   */\r\n  private createDetailsPanel(): HTMLElement {\r\n    const panel = document.createElement('div')\r\n    panel.className = 'plugin-details'\r\n    panel.style.cssText = `\r\n      width: 400px;\r\n      background: #fafafa;\r\n      overflow-y: auto;\r\n      padding: 20px;\r\n      display: none;\r\n    `\r\n\r\n    return panel\r\n  }\r\n\r\n  /**\r\n   * æ˜¾ç¤ºæ’ä»¶è¯¦æƒ…\r\n   */\r\n  private showPluginDetails(name: string): void {\r\n    const plugin = this.plugins.get(name)\r\n    if (!plugin || !this.detailsPanel)\r\n      return\r\n\r\n    this.selectedPlugin = name\r\n    this.detailsPanel.style.display = 'block'\r\n\r\n    this.detailsPanel.innerHTML = `\r\n      <div style=\"margin-bottom: 20px;\">\r\n        <button onclick=\"this.parentElement.parentElement.style.display='none'\" style=\"\r\n          float: right;\r\n          background: transparent;\r\n          border: none;\r\n          font-size: 18px;\r\n          cursor: pointer;\r\n          color: #999;\r\n        \">âœ•</button>\r\n        <h3 style=\"margin: 0 0 10px 0; font-size: 18px;\">${plugin.name}</h3>\r\n        ${plugin.description\r\n          ? `\r\n          <p style=\"margin: 0; font-size: 13px; color: #666;\">\r\n            ${plugin.description}\r\n          </p>\r\n        `\r\n          : ''}\r\n      </div>\r\n\r\n      <div style=\"\r\n        display: grid;\r\n        grid-template-columns: repeat(2, 1fr);\r\n        gap: 15px;\r\n        margin-bottom: 20px;\r\n      \">\r\n        <div style=\"\r\n          background: white;\r\n          padding: 12px;\r\n          border-radius: 6px;\r\n          border: 1px solid #e0e0e0;\r\n        \">\r\n          <div style=\"font-size: 11px; color: #999; margin-bottom: 4px;\">ç‰ˆæœ¬</div>\r\n          <div style=\"font-size: 14px; font-weight: bold;\">${plugin.version || 'N/A'}</div>\r\n        </div>\r\n        <div style=\"\r\n          background: white;\r\n          padding: 12px;\r\n          border-radius: 6px;\r\n          border: 1px solid #e0e0e0;\r\n        \">\r\n          <div style=\"font-size: 11px; color: #999; margin-bottom: 4px;\">çŠ¶æ€</div>\r\n          <div style=\"font-size: 14px; font-weight: bold; color: ${plugin.enabled ? '#4caf50' : '#999'};\">\r\n            ${plugin.enabled ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}\r\n          </div>\r\n        </div>\r\n        ${plugin.loadTime\r\n          ? `\r\n          <div style=\"\r\n            background: white;\r\n            padding: 12px;\r\n            border-radius: 6px;\r\n            border: 1px solid #e0e0e0;\r\n          \">\r\n            <div style=\"font-size: 11px; color: #999; margin-bottom: 4px;\">åŠ è½½æ—¶é—´</div>\r\n            <div style=\"font-size: 14px; font-weight: bold;\">${plugin.loadTime}ms</div>\r\n          </div>\r\n        `\r\n          : ''}\r\n        ${plugin.size\r\n          ? `\r\n          <div style=\"\r\n            background: white;\r\n            padding: 12px;\r\n            border-radius: 6px;\r\n            border: 1px solid #e0e0e0;\r\n          \">\r\n            <div style=\"font-size: 11px; color: #999; margin-bottom: 4px;\">å¤§å°</div>\r\n            <div style=\"font-size: 14px; font-weight: bold;\">${this.formatSize(plugin.size)}</div>\r\n          </div>\r\n        `\r\n          : ''}\r\n      </div>\r\n\r\n      ${plugin.dependencies && plugin.dependencies.length > 0\r\n        ? `\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <h4 style=\"margin: 0 0 10px 0; font-size: 14px;\">ä¾èµ–</h4>\r\n          <div style=\"\r\n            background: white;\r\n            padding: 12px;\r\n            border-radius: 6px;\r\n            border: 1px solid #e0e0e0;\r\n          \">\r\n            ${plugin.dependencies.map(dep => `\r\n              <div style=\"\r\n                padding: 4px 8px;\r\n                margin-bottom: 4px;\r\n                background: #f5f5f5;\r\n                border-radius: 4px;\r\n                font-size: 12px;\r\n                display: inline-block;\r\n                margin-right: 8px;\r\n              \">${dep}</div>\r\n            `).join('')}\r\n          </div>\r\n        </div>\r\n      `\r\n        : ''}\r\n\r\n      ${plugin.config\r\n        ? `\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <h4 style=\"margin: 0 0 10px 0; font-size: 14px;\">é…ç½®</h4>\r\n          <div style=\"\r\n            background: #2d2d2d;\r\n            color: #d4d4d4;\r\n            padding: 12px;\r\n            border-radius: 6px;\r\n            font-family: monospace;\r\n            font-size: 12px;\r\n            overflow-x: auto;\r\n          \">\r\n            <pre style=\"margin: 0;\">${JSON.stringify(plugin.config, null, 2)}</pre>\r\n          </div>\r\n        </div>\r\n      `\r\n        : ''}\r\n\r\n      <div style=\"display: flex; gap: 10px;\">\r\n        <button style=\"\r\n          flex: 1;\r\n          padding: 8px;\r\n          background: #667eea;\r\n          color: white;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 13px;\r\n        \" onclick=\"console.log('Reload plugin: ${name}')\">\r\n          é‡æ–°åŠ è½½\r\n        </button>\r\n        <button style=\"\r\n          flex: 1;\r\n          padding: 8px;\r\n          background: ${plugin.enabled ? '#f44336' : '#4caf50'};\r\n          color: white;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 13px;\r\n        \" onclick=\"console.log('Toggle plugin: ${name}')\">\r\n          ${plugin.enabled ? 'ç¦ç”¨æ’ä»¶' : 'å¯ç”¨æ’ä»¶'}\r\n        </button>\r\n      </div>\r\n    `\r\n  }\r\n\r\n  /**\r\n   * åˆ‡æ¢æ’ä»¶çŠ¶æ€\r\n   */\r\n  private togglePlugin(name: string): void {\r\n    const plugin = this.plugins.get(name)\r\n    if (!plugin)\r\n      return\r\n\r\n    plugin.enabled = !plugin.enabled\r\n\r\n    if (plugin.enabled) {\r\n      this.editor.plugins?.enable(name)\r\n      logger.info(`Plugin enabled: ${name}`)\r\n    }\r\n    else {\r\n      this.editor.plugins?.disable(name)\r\n      logger.info(`Plugin disabled: ${name}`)\r\n    }\r\n\r\n    // é‡æ–°æ¸²æŸ“\r\n    this.render()\r\n  }\r\n\r\n  /**\r\n   * é‡è½½æ’ä»¶\r\n   */\r\n  private reloadPlugin(name: string): void {\r\n    logger.info(`Reloading plugin: ${name}`)\r\n\r\n    // ç¦ç”¨å†å¯ç”¨\r\n    this.editor.plugins?.disable(name)\r\n    setTimeout(() => {\r\n      this.editor.plugins?.enable(name)\r\n\r\n      // æ›´æ–°æ’ä»¶ä¿¡æ¯\r\n      const plugin = this.plugins.get(name)\r\n      if (plugin)\r\n        plugin.loadTime = performance.now()\r\n\r\n      // é‡æ–°æ¸²æŸ“\r\n      this.render()\r\n    }, 100)\r\n  }\r\n\r\n  /**\r\n   * æ ¼å¼åŒ–å¤§å°\r\n   */\r\n  private formatSize(bytes: number): string {\r\n    if (bytes < 1024)\r\n      return `${bytes}B`\r\n    if (bytes < 1024 * 1024)\r\n      return `${(bytes / 1024).toFixed(1)}KB`\r\n    return `${(bytes / 1024 / 1024).toFixed(1)}MB`\r\n  }\r\n\r\n  /**\r\n   * æ¿€æ´»æ ‡ç­¾é¡µ\r\n   */\r\n  activate(): void {\r\n    // åˆ·æ–°æ’ä»¶ä¿¡æ¯\r\n    this.loadPluginInfo()\r\n  }\r\n\r\n  /**\r\n   * åœç”¨æ ‡ç­¾é¡µ\r\n   */\r\n  deactivate(): void {\r\n    // æ ‡ç­¾é¡µåœç”¨\r\n  }\r\n\r\n  /**\r\n   * é”€æ¯\r\n   */\r\n  destroy(): void {\r\n    this.container = undefined\r\n  }\r\n}\r\n"],"names":["logger","createLogger","PluginsTab","constructor","options","plugins","Map","editor","loadPluginInfo","loadedPlugins","getLoadedPlugins","forEach","name","plugin","get","set","version","description","author","enabled","loadTime","errorCount","warningCount","config","render","container","document","createElement","className","style","cssText","listContainer","createPluginList","detailsPanel","createDetailsPanel","appendChild","header","innerHTML","size","pluginCards","card","createPluginCard","statusColor","onclick","showPluginDetails","onmouseenter","boxShadow","transform","onmouseleave","toggleBtn","querySelector","e","stopPropagation","togglePlugin","reloadBtn","reloadPlugin","panel","selectedPlugin","display","formatSize","dependencies","length","map","dep","join","JSON","stringify","enable","info","disable","setTimeout","performance","now","bytes","toFixed","activate","deactivate","destroy","undefined"],"mappings":"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"}