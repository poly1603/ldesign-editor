{"version":3,"file":"DOMInspector.cjs","sources":["../../../src/devtools/tabs/DOMInspector.ts"],"sourcesContent":["/**\r\n * DOMÊ£ÄÊü•Âô®Ê†áÁ≠æÈ°µ\r\n * Ê£ÄÊü•ÂíåÂàÜÊûêÁºñËæëÂô®DOMÁªìÊûÑ\r\n */\r\n\r\nimport type { Editor } from '../../core/Editor'\r\nimport { createLogger } from '../../utils/logger'\r\n\r\nconst logger = createLogger('DOMInspector')\r\n\r\nexport interface DOMNodeInfo {\r\n  tagName: string\r\n  id?: string\r\n  classList?: string[]\r\n  attributes?: Record<string, string>\r\n  children?: DOMNodeInfo[]\r\n  textContent?: string\r\n  computedStyles?: Record<string, string>\r\n  rect?: DOMRect\r\n  depth: number\r\n}\r\n\r\nexport class DOMInspector {\r\n  private editor: Editor\r\n  private container?: HTMLElement\r\n  private treeContainer?: HTMLElement\r\n  private detailsContainer?: HTMLElement\r\n  private selectedNode?: HTMLElement\r\n  private highlightOverlay?: HTMLElement\r\n  private rootElement?: HTMLElement\r\n  private expandedNodes = new Set<HTMLElement>()\r\n\r\n  constructor(options: { editor: Editor }) {\r\n    this.editor = options.editor\r\n    this.rootElement = this.editor.getElement()\r\n  }\r\n\r\n  /**\r\n   * Ê∏≤ÊüìÊ†áÁ≠æÈ°µ\r\n   */\r\n  render(): HTMLElement {\r\n    this.container = document.createElement('div')\r\n    this.container.className = 'dom-inspector'\r\n    this.container.style.cssText = `\r\n      display: flex;\r\n      height: 100%;\r\n    `\r\n\r\n    // Â∑•ÂÖ∑Ê†è\r\n    const toolbar = this.createToolbar()\r\n\r\n    // ‰∏ªÂÜÖÂÆπÂå∫\r\n    const content = document.createElement('div')\r\n    content.style.cssText = `\r\n      display: flex;\r\n      flex: 1;\r\n      overflow: hidden;\r\n    `\r\n\r\n    // DOMÊ†ëÂÆπÂô®\r\n    this.treeContainer = document.createElement('div')\r\n    this.treeContainer.className = 'dom-tree'\r\n    this.treeContainer.style.cssText = `\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      padding: 10px;\r\n      font-family: 'Consolas', 'Monaco', monospace;\r\n      font-size: 12px;\r\n      background: #f8f9fa;\r\n    `\r\n\r\n    // ËØ¶ÊÉÖÂÆπÂô®\r\n    this.detailsContainer = document.createElement('div')\r\n    this.detailsContainer.className = 'dom-details'\r\n    this.detailsContainer.style.cssText = `\r\n      width: 350px;\r\n      border-left: 1px solid #e0e0e0;\r\n      overflow-y: auto;\r\n      background: white;\r\n      display: none;\r\n    `\r\n\r\n    content.appendChild(this.treeContainer)\r\n    content.appendChild(this.detailsContainer)\r\n\r\n    const wrapper = document.createElement('div')\r\n    wrapper.style.cssText = `\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n    `\r\n    wrapper.appendChild(toolbar)\r\n    wrapper.appendChild(content)\r\n\r\n    this.container.appendChild(wrapper)\r\n\r\n    // ÂàõÂª∫È´ò‰∫ÆË¶ÜÁõñÂ±Ç\r\n    this.createHighlightOverlay()\r\n\r\n    // Ê∏≤ÊüìDOMÊ†ë\r\n    this.renderDOMTree()\r\n\r\n    return this.container\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫Â∑•ÂÖ∑Ê†è\r\n   */\r\n  private createToolbar(): HTMLElement {\r\n    const toolbar = document.createElement('div')\r\n    toolbar.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px;\r\n      border-bottom: 1px solid #e0e0e0;\r\n      background: #fafafa;\r\n      gap: 10px;\r\n      flex-shrink: 0;\r\n    `\r\n\r\n    // Âà∑Êñ∞ÊåâÈíÆ\r\n    const refreshBtn = document.createElement('button')\r\n    refreshBtn.style.cssText = `\r\n      padding: 4px 8px;\r\n      background: transparent;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      font-size: 12px;\r\n    `\r\n    refreshBtn.innerHTML = 'üîÑ Âà∑Êñ∞'\r\n    refreshBtn.onclick = () => this.refresh()\r\n\r\n    // Â±ïÂºÄ/ÊäòÂè†ÊâÄÊúâ\r\n    const expandBtn = document.createElement('button')\r\n    expandBtn.style.cssText = refreshBtn.style.cssText\r\n    expandBtn.innerHTML = 'üìÇ Â±ïÂºÄÂÖ®ÈÉ®'\r\n    expandBtn.onclick = () => this.expandAll()\r\n\r\n    const collapseBtn = document.createElement('button')\r\n    collapseBtn.style.cssText = refreshBtn.style.cssText\r\n    collapseBtn.innerHTML = 'üìÅ ÊäòÂè†ÂÖ®ÈÉ®'\r\n    collapseBtn.onclick = () => this.collapseAll()\r\n\r\n    // È´ò‰∫ÆÊ®°Âºè\r\n    const highlightCheck = document.createElement('label')\r\n    highlightCheck.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      font-size: 12px;\r\n      margin-left: auto;\r\n    `\r\n    highlightCheck.innerHTML = `\r\n      <input type=\"checkbox\" id=\"highlight-mode\" checked>\r\n      <span>È´ò‰∫ÆÂÖÉÁ¥†</span>\r\n    `\r\n\r\n    // ÊêúÁ¥¢Ê°Ü\r\n    const searchInput = document.createElement('input')\r\n    searchInput.type = 'text'\r\n    searchInput.placeholder = 'ÊêúÁ¥¢ÂÖÉÁ¥†...'\r\n    searchInput.style.cssText = `\r\n      padding: 4px 8px;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      font-size: 12px;\r\n      width: 200px;\r\n    `\r\n    searchInput.oninput = e => this.searchDOM((e.target as HTMLInputElement).value)\r\n\r\n    toolbar.appendChild(refreshBtn)\r\n    toolbar.appendChild(expandBtn)\r\n    toolbar.appendChild(collapseBtn)\r\n    toolbar.appendChild(searchInput)\r\n    toolbar.appendChild(highlightCheck)\r\n\r\n    return toolbar\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫È´ò‰∫ÆË¶ÜÁõñÂ±Ç\r\n   */\r\n  private createHighlightOverlay(): void {\r\n    this.highlightOverlay = document.createElement('div')\r\n    this.highlightOverlay.className = 'dom-highlight-overlay'\r\n    this.highlightOverlay.style.cssText = `\r\n      position: absolute;\r\n      background: rgba(102, 126, 234, 0.3);\r\n      border: 2px solid #667eea;\r\n      pointer-events: none;\r\n      z-index: 9999;\r\n      display: none;\r\n      transition: all 0.2s;\r\n    `\r\n    document.body.appendChild(this.highlightOverlay)\r\n  }\r\n\r\n  /**\r\n   * Ê∏≤ÊüìDOMÊ†ë\r\n   */\r\n  private renderDOMTree(): void {\r\n    if (!this.treeContainer || !this.rootElement)\r\n      return\r\n\r\n    this.treeContainer.innerHTML = ''\r\n\r\n    const tree = this.buildDOMTree(this.rootElement, 0)\r\n    const treeElement = this.createTreeElement(tree)\r\n\r\n    this.treeContainer.appendChild(treeElement)\r\n  }\r\n\r\n  /**\r\n   * ÊûÑÂª∫DOMÊ†ëÊï∞ÊçÆ\r\n   */\r\n  private buildDOMTree(element: Element, depth: number): DOMNodeInfo {\r\n    const nodeInfo: DOMNodeInfo = {\r\n      tagName: element.tagName.toLowerCase(),\r\n      depth,\r\n    }\r\n\r\n    if (element.id)\r\n      nodeInfo.id = element.id\r\n\r\n    if (element.classList.length > 0)\r\n      nodeInfo.classList = Array.from(element.classList)\r\n\r\n    // Êî∂ÈõÜÂ±ûÊÄß\r\n    const attributes: Record<string, string> = {}\r\n    for (const attr of element.attributes)\r\n      attributes[attr.name] = attr.value\r\n\r\n    if (Object.keys(attributes).length > 0)\r\n      nodeInfo.attributes = attributes\r\n\r\n    // ÊñáÊú¨ÂÜÖÂÆπÔºà‰ªÖÂè∂Â≠êËäÇÁÇπÔºâ\r\n    if (element.childNodes.length === 1 && element.childNodes[0].nodeType === Node.TEXT_NODE) {\r\n      const text = element.textContent?.trim()\r\n      if (text && text.length < 50)\r\n        nodeInfo.textContent = text\r\n    }\r\n\r\n    // Â≠êÂÖÉÁ¥†\r\n    if (element.children.length > 0) {\r\n      nodeInfo.children = Array.from(element.children).map(child =>\r\n        this.buildDOMTree(child, depth + 1),\r\n      )\r\n    }\r\n\r\n    return nodeInfo\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫Ê†ëÂÖÉÁ¥†\r\n   */\r\n  private createTreeElement(node: DOMNodeInfo, parentElement?: Element): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = `\r\n      margin-left: ${node.depth * 20}px;\r\n      position: relative;\r\n    `\r\n\r\n    // ËäÇÁÇπË°å\r\n    const row = document.createElement('div')\r\n    row.className = 'dom-tree-node'\r\n    row.style.cssText = `\r\n      padding: 4px 8px;\r\n      cursor: pointer;\r\n      border-radius: 4px;\r\n      transition: background 0.2s;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n    `\r\n\r\n    // Â±ïÂºÄ/ÊäòÂè†ÂõæÊ†á\r\n    if (node.children && node.children.length > 0) {\r\n      const expandIcon = document.createElement('span')\r\n      expandIcon.style.cssText = `\r\n        width: 16px;\r\n        display: inline-block;\r\n        text-align: center;\r\n        user-select: none;\r\n      `\r\n      expandIcon.textContent = '‚ñ∂'\r\n      expandIcon.onclick = (e) => {\r\n        e.stopPropagation()\r\n        this.toggleNode(container, expandIcon)\r\n      }\r\n      row.appendChild(expandIcon)\r\n    }\r\n    else {\r\n      const spacer = document.createElement('span')\r\n      spacer.style.width = '16px'\r\n      spacer.style.display = 'inline-block'\r\n      row.appendChild(spacer)\r\n    }\r\n\r\n    // Ê†áÁ≠æÂêç\r\n    const tag = document.createElement('span')\r\n    tag.style.cssText = `\r\n      color: #e83e8c;\r\n      font-weight: bold;\r\n    `\r\n    tag.textContent = `<${node.tagName}`\r\n    row.appendChild(tag)\r\n\r\n    // ID\r\n    if (node.id) {\r\n      const id = document.createElement('span')\r\n      id.style.cssText = `\r\n        color: #e67e22;\r\n      `\r\n      id.textContent = ` id=\"${node.id}\"`\r\n      row.appendChild(id)\r\n    }\r\n\r\n    // Á±ªÂêç\r\n    if (node.classList && node.classList.length > 0) {\r\n      const classes = document.createElement('span')\r\n      classes.style.cssText = `\r\n        color: #27ae60;\r\n      `\r\n      classes.textContent = ` class=\"${node.classList.join(' ')}\"`\r\n      row.appendChild(classes)\r\n    }\r\n\r\n    // ÂÖ∂‰ªñÂ±ûÊÄß\r\n    if (node.attributes) {\r\n      Object.entries(node.attributes).forEach(([name, value]) => {\r\n        if (name !== 'id' && name !== 'class') {\r\n          const attr = document.createElement('span')\r\n          attr.style.cssText = `\r\n            color: #3498db;\r\n          `\r\n          attr.textContent = ` ${name}=\"${value.substring(0, 20)}${value.length > 20 ? '...' : ''}\"`\r\n          row.appendChild(attr)\r\n        }\r\n      })\r\n    }\r\n\r\n    // Èó≠ÂêàÊ†áÁ≠æ\r\n    const closeTag = document.createElement('span')\r\n    closeTag.style.color = '#e83e8c'\r\n    closeTag.textContent = '>'\r\n    row.appendChild(closeTag)\r\n\r\n    // ÊñáÊú¨ÂÜÖÂÆπ\r\n    if (node.textContent) {\r\n      const text = document.createElement('span')\r\n      text.style.cssText = `\r\n        color: #666;\r\n        font-style: italic;\r\n        margin-left: 8px;\r\n      `\r\n      text.textContent = node.textContent\r\n      row.appendChild(text)\r\n    }\r\n\r\n    // ‰∫ã‰ª∂Â§ÑÁêÜ\r\n    row.onmouseenter = () => {\r\n      row.style.background = '#e8f4f8'\r\n      this.highlightElement(node)\r\n    }\r\n\r\n    row.onmouseleave = () => {\r\n      row.style.background = 'transparent'\r\n      this.unhighlightElement()\r\n    }\r\n\r\n    row.onclick = () => {\r\n      this.selectNode(node)\r\n    }\r\n\r\n    container.appendChild(row)\r\n\r\n    // Â≠êÂÖÉÁ¥†ÂÆπÂô®\r\n    if (node.children && node.children.length > 0) {\r\n      const childrenContainer = document.createElement('div')\r\n      childrenContainer.className = 'dom-tree-children'\r\n      childrenContainer.style.display = 'none'\r\n\r\n      node.children.forEach((child) => {\r\n        const childElement = this.createTreeElement(child)\r\n        childrenContainer.appendChild(childElement)\r\n      })\r\n\r\n      container.appendChild(childrenContainer)\r\n    }\r\n\r\n    return container\r\n  }\r\n\r\n  /**\r\n   * ÂàáÊç¢ËäÇÁÇπÂ±ïÂºÄ/ÊäòÂè†\r\n   */\r\n  private toggleNode(container: HTMLElement, icon: HTMLElement): void {\r\n    const childrenContainer = container.querySelector('.dom-tree-children') as HTMLElement\r\n    if (childrenContainer) {\r\n      if (childrenContainer.style.display === 'none') {\r\n        childrenContainer.style.display = 'block'\r\n        icon.textContent = '‚ñº'\r\n      }\r\n      else {\r\n        childrenContainer.style.display = 'none'\r\n        icon.textContent = '‚ñ∂'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * È´ò‰∫ÆÂÖÉÁ¥†\r\n   */\r\n  private highlightElement(node: DOMNodeInfo): void {\r\n    const checkbox = document.querySelector('#highlight-mode') as HTMLInputElement\r\n    if (!checkbox?.checked || !this.highlightOverlay)\r\n      return\r\n\r\n    const element = this.findElementByNode(node)\r\n    if (!element)\r\n      return\r\n\r\n    const rect = element.getBoundingClientRect()\r\n\r\n    this.highlightOverlay.style.left = `${rect.left + window.scrollX}px`\r\n    this.highlightOverlay.style.top = `${rect.top + window.scrollY}px`\r\n    this.highlightOverlay.style.width = `${rect.width}px`\r\n    this.highlightOverlay.style.height = `${rect.height}px`\r\n    this.highlightOverlay.style.display = 'block'\r\n  }\r\n\r\n  /**\r\n   * ÂèñÊ∂àÈ´ò‰∫Æ\r\n   */\r\n  private unhighlightElement(): void {\r\n    if (this.highlightOverlay)\r\n      this.highlightOverlay.style.display = 'none'\r\n  }\r\n\r\n  /**\r\n   * Ê†πÊçÆËäÇÁÇπ‰ø°ÊÅØÊü•ÊâæÂÖÉÁ¥†\r\n   */\r\n  private findElementByNode(node: DOMNodeInfo): HTMLElement | null {\r\n    if (!this.rootElement)\r\n      return null\r\n\r\n    let selector = node.tagName\r\n    if (node.id)\r\n      selector += `#${node.id}`\r\n\r\n    if (node.classList && node.classList.length > 0)\r\n      selector += `.${node.classList.join('.')}`\r\n\r\n    return this.rootElement.querySelector(selector)\r\n  }\r\n\r\n  /**\r\n   * ÈÄâÊã©ËäÇÁÇπ\r\n   */\r\n  private selectNode(node: DOMNodeInfo): void {\r\n    const element = this.findElementByNode(node)\r\n    if (!element)\r\n      return\r\n\r\n    this.selectedNode = element\r\n    this.showNodeDetails(node, element)\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫ËäÇÁÇπËØ¶ÊÉÖ\r\n   */\r\n  private showNodeDetails(node: DOMNodeInfo, element: HTMLElement): void {\r\n    if (!this.detailsContainer)\r\n      return\r\n\r\n    this.detailsContainer.style.display = 'block'\r\n\r\n    const computed = window.getComputedStyle(element)\r\n    const rect = element.getBoundingClientRect()\r\n\r\n    this.detailsContainer.innerHTML = `\r\n      <div style=\"padding: 20px;\">\r\n        <h3 style=\"margin: 0 0 15px 0; font-size: 14px;\">ÂÖÉÁ¥†ËØ¶ÊÉÖ</h3>\r\n        \r\n        <!-- Âü∫Êú¨‰ø°ÊÅØ -->\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <h4 style=\"margin: 0 0 10px 0; font-size: 13px; color: #666;\">Âü∫Êú¨‰ø°ÊÅØ</h4>\r\n          <div style=\"background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 12px;\">\r\n            <div style=\"margin-bottom: 5px;\"><strong>Ê†áÁ≠æ:</strong> ${node.tagName}</div>\r\n            ${node.id ? `<div style=\"margin-bottom: 5px;\"><strong>ID:</strong> ${node.id}</div>` : ''}\r\n            ${node.classList ? `<div style=\"margin-bottom: 5px;\"><strong>Á±ªÂêç:</strong> ${node.classList.join(' ')}</div>` : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ‰ΩçÁΩÆÂíåÂ§ßÂ∞è -->\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <h4 style=\"margin: 0 0 10px 0; font-size: 13px; color: #666;\">‰ΩçÁΩÆÂíåÂ§ßÂ∞è</h4>\r\n          <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 10px;\">\r\n            <div style=\"background: #f5f5f5; padding: 8px; border-radius: 4px; font-size: 11px;\">\r\n              <strong>ÂÆΩÂ∫¶:</strong> ${rect.width.toFixed(0)}px\r\n            </div>\r\n            <div style=\"background: #f5f5f5; padding: 8px; border-radius: 4px; font-size: 11px;\">\r\n              <strong>È´òÂ∫¶:</strong> ${rect.height.toFixed(0)}px\r\n            </div>\r\n            <div style=\"background: #f5f5f5; padding: 8px; border-radius: 4px; font-size: 11px;\">\r\n              <strong>Â∑¶:</strong> ${rect.left.toFixed(0)}px\r\n            </div>\r\n            <div style=\"background: #f5f5f5; padding: 8px; border-radius: 4px; font-size: 11px;\">\r\n              <strong>‰∏ä:</strong> ${rect.top.toFixed(0)}px\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ËÆ°ÁÆóÊ†∑Âºè -->\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <h4 style=\"margin: 0 0 10px 0; font-size: 13px; color: #666;\">Â∏∏Áî®Ê†∑Âºè</h4>\r\n          <div style=\"background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 11px; max-height: 200px; overflow-y: auto;\">\r\n            <div><strong>display:</strong> ${computed.display}</div>\r\n            <div><strong>position:</strong> ${computed.position}</div>\r\n            <div><strong>color:</strong> ${computed.color}</div>\r\n            <div><strong>background:</strong> ${computed.background}</div>\r\n            <div><strong>font-size:</strong> ${computed.fontSize}</div>\r\n            <div><strong>padding:</strong> ${computed.padding}</div>\r\n            <div><strong>margin:</strong> ${computed.margin}</div>\r\n            <div><strong>border:</strong> ${computed.border}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Â±ûÊÄß -->\r\n        ${node.attributes && Object.keys(node.attributes).length > 0\r\n          ? `\r\n          <div style=\"margin-bottom: 20px;\">\r\n            <h4 style=\"margin: 0 0 10px 0; font-size: 13px; color: #666;\">Â±ûÊÄß</h4>\r\n            <div style=\"background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 11px;\">\r\n              ${Object.entries(node.attributes).map(([key, value]) =>\r\n                `<div style=\"margin-bottom: 5px;\"><strong>${key}:</strong> ${value}</div>`,\r\n              ).join('')}\r\n            </div>\r\n          </div>\r\n        `\r\n          : ''}\r\n      </div>\r\n    `\r\n  }\r\n\r\n  /**\r\n   * ÊêúÁ¥¢DOM\r\n   */\r\n  private searchDOM(query: string): void {\r\n    if (!query) {\r\n      this.renderDOMTree()\r\n      return\r\n    }\r\n\r\n    // È´ò‰∫ÆÊêúÁ¥¢ÁªìÊûú\r\n    const nodes = this.treeContainer?.querySelectorAll('.dom-tree-node')\r\n    nodes?.forEach((node) => {\r\n      const text = node.textContent?.toLowerCase() || ''\r\n      if (text.includes(query.toLowerCase()))\r\n        (node as HTMLElement).style.background = '#fff3cd'\r\n      else\r\n        (node as HTMLElement).style.background = 'transparent'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Â±ïÂºÄÂÖ®ÈÉ®\r\n   */\r\n  private expandAll(): void {\r\n    const childrenContainers = this.treeContainer?.querySelectorAll('.dom-tree-children')\r\n    childrenContainers?.forEach((container) => {\r\n      (container as HTMLElement).style.display = 'block'\r\n    })\r\n\r\n    // Êõ¥Êñ∞ÂõæÊ†á\r\n    const icons = this.treeContainer?.querySelectorAll('.dom-tree-node span:first-child')\r\n    icons?.forEach((icon) => {\r\n      if (icon.textContent === '‚ñ∂')\r\n        icon.textContent = '‚ñº'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ÊäòÂè†ÂÖ®ÈÉ®\r\n   */\r\n  private collapseAll(): void {\r\n    const childrenContainers = this.treeContainer?.querySelectorAll('.dom-tree-children')\r\n    childrenContainers?.forEach((container) => {\r\n      (container as HTMLElement).style.display = 'none'\r\n    })\r\n\r\n    // Êõ¥Êñ∞ÂõæÊ†á\r\n    const icons = this.treeContainer?.querySelectorAll('.dom-tree-node span:first-child')\r\n    icons?.forEach((icon) => {\r\n      if (icon.textContent === '‚ñº')\r\n        icon.textContent = '‚ñ∂'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Âà∑Êñ∞\r\n   */\r\n  private refresh(): void {\r\n    this.renderDOMTree()\r\n    logger.info('DOM tree refreshed')\r\n  }\r\n\r\n  /**\r\n   * ÊøÄÊ¥ªÊ†áÁ≠æÈ°µ\r\n   */\r\n  activate(): void {\r\n    this.refresh()\r\n  }\r\n\r\n  /**\r\n   * ÂÅúÁî®Ê†áÁ≠æÈ°µ\r\n   */\r\n  deactivate(): void {\r\n    this.unhighlightElement()\r\n  }\r\n\r\n  /**\r\n   * ÈîÄÊØÅ\r\n   */\r\n  destroy(): void {\r\n    this.highlightOverlay?.remove()\r\n    this.container = undefined\r\n  }\r\n}\r\n"],"names":["logger","createLogger","DOMInspector","constructor","options","expandedNodes","Set","editor","rootElement","getElement","render","container","document","createElement","className","style","cssText","toolbar","createToolbar","content","treeContainer","detailsContainer","appendChild","wrapper","createHighlightOverlay","renderDOMTree","refreshBtn","innerHTML","onclick","refresh","expandBtn","expandAll","collapseBtn","collapseAll","highlightCheck","searchInput","type","placeholder","oninput","e","searchDOM","target","value","highlightOverlay","body","tree","buildDOMTree","treeElement","createTreeElement","element","depth","nodeInfo","tagName","toLowerCase","id","classList","length","Array","from","attributes","attr","name","Object","keys","childNodes","nodeType","Node","TEXT_NODE","text","textContent","trim","children","map","child","node","parentElement","row","expandIcon","stopPropagation","toggleNode","spacer","width","display","tag","classes","join","entries","forEach","substring","closeTag","color","onmouseenter","background","highlightElement","onmouseleave","unhighlightElement","selectNode","childrenContainer","childElement","icon","querySelector","checkbox","checked","findElementByNode","rect","getBoundingClientRect","left","window","scrollX","top","scrollY","height","selector","selectedNode","showNodeDetails","computed","getComputedStyle","toFixed","position","fontSize","padding","margin","border","key","query","nodes","querySelectorAll","includes","childrenContainers","icons","info","activate","deactivate","destroy","remove","undefined"],"mappings":"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"}