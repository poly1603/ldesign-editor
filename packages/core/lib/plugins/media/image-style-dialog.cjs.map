{"version":3,"file":"image-style-dialog.cjs","sources":["../../../src/plugins/media/image-style-dialog.ts"],"sourcesContent":["/**\r\n * Image Style Dialog Plugin\r\n * 图片样式编辑弹窗 - 提供完整的图片属性设置界面\r\n */\r\n\r\nimport type { Editor } from '../../core/Editor'\r\nimport { Plugin } from '../../core/Plugin'\r\nimport { getLucideIcon } from '../../ui/icons/lucide'\r\n\r\nexport interface ImageStyleDialogOptions {\r\n  /** 默认宽度单位 */\r\n  defaultWidthUnit?: 'px' | '%' | 'auto'\r\n  /** 显示高级选项 */\r\n  showAdvanced?: boolean\r\n}\r\n\r\nexport class ImageStyleDialogPlugin extends Plugin {\r\n  name = 'imageStyleDialog'\r\n  config = {\r\n    name: 'imageStyleDialog',\r\n    commands: {},\r\n    keys: {},\r\n  }\r\n\r\n  private options: ImageStyleDialogOptions\r\n  private dialog: HTMLElement | null = null\r\n  private currentImage: HTMLImageElement | null = null\r\n  private originalStyles: Record<string, string> = {}\r\n\r\n  constructor(options: ImageStyleDialogOptions = {}) {\r\n    super()\r\n    this.options = {\r\n      defaultWidthUnit: 'px',\r\n      showAdvanced: true,\r\n      ...options,\r\n    }\r\n  }\r\n\r\n  install(editor: Editor): void {\r\n    super.install(editor)\r\n    \r\n    // 监听打开对话框事件\r\n    editor.on('image:openStyleDialog', this.handleOpenDialog.bind(this))\r\n    \r\n    // 双击图片打开对话框\r\n    editor.contentElement?.addEventListener('dblclick', this.handleDoubleClick.bind(this))\r\n    \r\n    console.log('[ImageStyleDialogPlugin] Installed')\r\n  }\r\n\r\n  private handleDoubleClick(e: MouseEvent): void {\r\n    const target = e.target as HTMLElement\r\n    if (target.tagName === 'IMG') {\r\n      e.preventDefault()\r\n      this.openDialog(target as HTMLImageElement)\r\n    }\r\n  }\r\n\r\n  private handleOpenDialog(data: { image: HTMLImageElement }): void {\r\n    this.openDialog(data.image)\r\n  }\r\n\r\n  openDialog(image: HTMLImageElement): void {\r\n    this.currentImage = image\r\n    this.saveOriginalStyles()\r\n    this.dialog = this.createDialog()\r\n    document.body.appendChild(this.dialog)\r\n  }\r\n\r\n  private saveOriginalStyles(): void {\r\n    if (!this.currentImage) return\r\n    \r\n    this.originalStyles = {\r\n      width: this.currentImage.style.width,\r\n      height: this.currentImage.style.height,\r\n      borderRadius: this.currentImage.style.borderRadius,\r\n      border: this.currentImage.style.border,\r\n      boxShadow: this.currentImage.style.boxShadow,\r\n      opacity: this.currentImage.style.opacity,\r\n      filter: this.currentImage.style.filter,\r\n      marginLeft: this.currentImage.style.marginLeft,\r\n      marginRight: this.currentImage.style.marginRight,\r\n      display: this.currentImage.style.display,\r\n    }\r\n  }\r\n\r\n  private restoreOriginalStyles(): void {\r\n    if (!this.currentImage) return\r\n    \r\n    Object.entries(this.originalStyles).forEach(([key, value]) => {\r\n      (this.currentImage!.style as any)[key] = value\r\n    })\r\n  }\r\n\r\n  private createDialog(): HTMLElement {\r\n    const overlay = document.createElement('div')\r\n    overlay.className = 'ldesign-image-style-dialog-overlay'\r\n    overlay.style.cssText = `\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba(0, 0, 0, 0.5);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      z-index: 10002;\r\n    `\r\n\r\n    const dialog = document.createElement('div')\r\n    dialog.className = 'ldesign-image-style-dialog'\r\n    dialog.style.cssText = `\r\n      background: white;\r\n      border-radius: 12px;\r\n      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);\r\n      width: 480px;\r\n      max-height: 90vh;\r\n      overflow: hidden;\r\n      display: flex;\r\n      flex-direction: column;\r\n    `\r\n\r\n    // 头部\r\n    const header = this.createHeader()\r\n    dialog.appendChild(header)\r\n\r\n    // 内容区\r\n    const content = this.createContent()\r\n    dialog.appendChild(content)\r\n\r\n    // 底部按钮\r\n    const footer = this.createFooter()\r\n    dialog.appendChild(footer)\r\n\r\n    overlay.appendChild(dialog)\r\n\r\n    // 点击遮罩关闭\r\n    overlay.addEventListener('click', (e) => {\r\n      if (e.target === overlay) {\r\n        this.closeDialog(false)\r\n      }\r\n    })\r\n\r\n    // ESC 关闭\r\n    const handleKeydown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        this.closeDialog(false)\r\n        document.removeEventListener('keydown', handleKeydown)\r\n      }\r\n    }\r\n    document.addEventListener('keydown', handleKeydown)\r\n\r\n    return overlay\r\n  }\r\n\r\n  private createHeader(): HTMLElement {\r\n    const header = document.createElement('div')\r\n    header.style.cssText = `\r\n      padding: 16px 20px;\r\n      border-bottom: 1px solid #e5e7eb;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n    `\r\n\r\n    const title = document.createElement('h3')\r\n    title.textContent = '图片设置'\r\n    title.style.cssText = 'margin: 0; font-size: 18px; font-weight: 600; color: #111827;'\r\n\r\n    const closeBtn = document.createElement('button')\r\n    closeBtn.innerHTML = getLucideIcon('x')\r\n    closeBtn.style.cssText = `\r\n      background: none;\r\n      border: none;\r\n      padding: 4px;\r\n      cursor: pointer;\r\n      color: #6b7280;\r\n      border-radius: 4px;\r\n    `\r\n    closeBtn.onclick = () => this.closeDialog(false)\r\n\r\n    header.appendChild(title)\r\n    header.appendChild(closeBtn)\r\n\r\n    return header\r\n  }\r\n\r\n  private createContent(): HTMLElement {\r\n    const content = document.createElement('div')\r\n    content.style.cssText = `\r\n      padding: 20px;\r\n      overflow-y: auto;\r\n      flex: 1;\r\n    `\r\n\r\n    // 尺寸设置\r\n    content.appendChild(this.createSection('尺寸', [\r\n      this.createSizeInput(),\r\n    ]))\r\n\r\n    // 对齐设置\r\n    content.appendChild(this.createSection('对齐', [\r\n      this.createAlignButtons(),\r\n    ]))\r\n\r\n    // 样式设置\r\n    content.appendChild(this.createSection('样式', [\r\n      this.createRangeInput('圆角', 'borderRadius', 0, 100, 'px', parseInt(this.currentImage?.style.borderRadius || '0')),\r\n      this.createRangeInput('透明度', 'opacity', 0, 100, '%', Math.round((parseFloat(this.currentImage?.style.opacity || '1')) * 100)),\r\n    ]))\r\n\r\n    // 边框设置\r\n    content.appendChild(this.createSection('边框', [\r\n      this.createBorderInput(),\r\n    ]))\r\n\r\n    // 阴影设置\r\n    content.appendChild(this.createSection('阴影', [\r\n      this.createShadowButtons(),\r\n    ]))\r\n\r\n    // Alt 文本\r\n    content.appendChild(this.createSection('替代文本 (Alt)', [\r\n      this.createTextInput('alt', this.currentImage?.alt || '', '为图片添加描述文字'),\r\n    ]))\r\n\r\n    // 标题\r\n    content.appendChild(this.createSection('标题 (Title)', [\r\n      this.createTextInput('title', this.currentImage?.title || '', '鼠标悬停时显示的文字'),\r\n    ]))\r\n\r\n    return content\r\n  }\r\n\r\n  private createSection(title: string, items: HTMLElement[]): HTMLElement {\r\n    const section = document.createElement('div')\r\n    section.style.cssText = 'margin-bottom: 20px;'\r\n\r\n    const label = document.createElement('label')\r\n    label.textContent = title\r\n    label.style.cssText = `\r\n      display: block;\r\n      font-size: 13px;\r\n      font-weight: 500;\r\n      color: #374151;\r\n      margin-bottom: 8px;\r\n    `\r\n    section.appendChild(label)\r\n\r\n    items.forEach(item => section.appendChild(item))\r\n\r\n    return section\r\n  }\r\n\r\n  private createSizeInput(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = 'display: flex; gap: 12px; align-items: center;'\r\n\r\n    // 宽度输入\r\n    const widthGroup = document.createElement('div')\r\n    widthGroup.style.cssText = 'flex: 1;'\r\n    \r\n    const widthLabel = document.createElement('span')\r\n    widthLabel.textContent = '宽度'\r\n    widthLabel.style.cssText = 'font-size: 12px; color: #6b7280; display: block; margin-bottom: 4px;'\r\n    \r\n    const widthInput = document.createElement('input')\r\n    widthInput.type = 'text'\r\n    widthInput.value = this.currentImage?.style.width || 'auto'\r\n    widthInput.style.cssText = this.getInputStyle()\r\n    widthInput.onchange = () => {\r\n      if (this.currentImage) {\r\n        this.currentImage.style.width = widthInput.value || 'auto'\r\n        this.triggerChange()\r\n      }\r\n    }\r\n    \r\n    widthGroup.appendChild(widthLabel)\r\n    widthGroup.appendChild(widthInput)\r\n\r\n    // 高度输入\r\n    const heightGroup = document.createElement('div')\r\n    heightGroup.style.cssText = 'flex: 1;'\r\n    \r\n    const heightLabel = document.createElement('span')\r\n    heightLabel.textContent = '高度'\r\n    heightLabel.style.cssText = 'font-size: 12px; color: #6b7280; display: block; margin-bottom: 4px;'\r\n    \r\n    const heightInput = document.createElement('input')\r\n    heightInput.type = 'text'\r\n    heightInput.value = this.currentImage?.style.height || 'auto'\r\n    heightInput.style.cssText = this.getInputStyle()\r\n    heightInput.onchange = () => {\r\n      if (this.currentImage) {\r\n        this.currentImage.style.height = heightInput.value || 'auto'\r\n        this.triggerChange()\r\n      }\r\n    }\r\n    \r\n    heightGroup.appendChild(heightLabel)\r\n    heightGroup.appendChild(heightInput)\r\n\r\n    // 锁定比例按钮\r\n    const lockBtn = document.createElement('button')\r\n    lockBtn.innerHTML = getLucideIcon('lock')\r\n    lockBtn.title = '锁定比例'\r\n    lockBtn.style.cssText = `\r\n      background: #f3f4f6;\r\n      border: none;\r\n      padding: 8px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      margin-top: 18px;\r\n    `\r\n\r\n    container.appendChild(widthGroup)\r\n    container.appendChild(lockBtn)\r\n    container.appendChild(heightGroup)\r\n\r\n    return container\r\n  }\r\n\r\n  private createAlignButtons(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = 'display: flex; gap: 8px;'\r\n\r\n    const alignOptions = [\r\n      { value: 'left', icon: 'alignLeft', title: '左对齐' },\r\n      { value: 'center', icon: 'alignCenter', title: '居中' },\r\n      { value: 'right', icon: 'alignRight', title: '右对齐' },\r\n    ]\r\n\r\n    alignOptions.forEach((option) => {\r\n      const btn = document.createElement('button')\r\n      btn.innerHTML = getLucideIcon(option.icon)\r\n      btn.title = option.title\r\n      btn.style.cssText = `\r\n        flex: 1;\r\n        padding: 10px;\r\n        border: 1px solid #e5e7eb;\r\n        border-radius: 6px;\r\n        background: white;\r\n        cursor: pointer;\r\n        transition: all 0.2s;\r\n      `\r\n\r\n      btn.onclick = () => {\r\n        if (!this.currentImage) return\r\n\r\n        // 清除之前的对齐\r\n        this.currentImage.style.float = ''\r\n        this.currentImage.style.marginLeft = ''\r\n        this.currentImage.style.marginRight = ''\r\n        this.currentImage.style.display = 'block'\r\n\r\n        switch (option.value) {\r\n          case 'left':\r\n            this.currentImage.style.marginRight = 'auto'\r\n            break\r\n          case 'center':\r\n            this.currentImage.style.marginLeft = 'auto'\r\n            this.currentImage.style.marginRight = 'auto'\r\n            break\r\n          case 'right':\r\n            this.currentImage.style.marginLeft = 'auto'\r\n            break\r\n        }\r\n\r\n        this.triggerChange()\r\n      }\r\n\r\n      container.appendChild(btn)\r\n    })\r\n\r\n    return container\r\n  }\r\n\r\n  private createRangeInput(label: string, property: string, min: number, max: number, unit: string, value: number): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = 'margin-bottom: 12px;'\r\n\r\n    const labelRow = document.createElement('div')\r\n    labelRow.style.cssText = 'display: flex; justify-content: space-between; margin-bottom: 4px;'\r\n\r\n    const labelText = document.createElement('span')\r\n    labelText.textContent = label\r\n    labelText.style.cssText = 'font-size: 12px; color: #6b7280;'\r\n\r\n    const valueText = document.createElement('span')\r\n    valueText.textContent = `${value}${unit}`\r\n    valueText.style.cssText = 'font-size: 12px; color: #111827; font-weight: 500;'\r\n\r\n    labelRow.appendChild(labelText)\r\n    labelRow.appendChild(valueText)\r\n\r\n    const range = document.createElement('input')\r\n    range.type = 'range'\r\n    range.min = String(min)\r\n    range.max = String(max)\r\n    range.value = String(value)\r\n    range.style.cssText = 'width: 100%; cursor: pointer;'\r\n\r\n    range.oninput = () => {\r\n      const val = range.value\r\n      valueText.textContent = `${val}${unit}`\r\n      \r\n      if (this.currentImage) {\r\n        if (property === 'opacity') {\r\n          this.currentImage.style.opacity = String(parseInt(val) / 100)\r\n        } else if (property === 'borderRadius') {\r\n          this.currentImage.style.borderRadius = `${val}px`\r\n        }\r\n        this.triggerChange()\r\n      }\r\n    }\r\n\r\n    container.appendChild(labelRow)\r\n    container.appendChild(range)\r\n\r\n    return container\r\n  }\r\n\r\n  private createBorderInput(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = 'display: flex; gap: 8px; align-items: center;'\r\n\r\n    // 边框宽度\r\n    const widthInput = document.createElement('input')\r\n    widthInput.type = 'number'\r\n    widthInput.min = '0'\r\n    widthInput.max = '20'\r\n    widthInput.value = '0'\r\n    widthInput.placeholder = '宽度'\r\n    widthInput.style.cssText = this.getInputStyle() + 'width: 80px;'\r\n\r\n    // 边框样式\r\n    const styleSelect = document.createElement('select')\r\n    styleSelect.style.cssText = this.getInputStyle() + 'width: 100px;'\r\n    const styles = ['solid', 'dashed', 'dotted', 'double']\r\n    styles.forEach((s) => {\r\n      const opt = document.createElement('option')\r\n      opt.value = s\r\n      opt.textContent = s\r\n      styleSelect.appendChild(opt)\r\n    })\r\n\r\n    // 边框颜色\r\n    const colorInput = document.createElement('input')\r\n    colorInput.type = 'color'\r\n    colorInput.value = '#000000'\r\n    colorInput.style.cssText = 'width: 40px; height: 36px; padding: 2px; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer;'\r\n\r\n    const updateBorder = () => {\r\n      if (this.currentImage) {\r\n        const width = widthInput.value\r\n        if (parseInt(width) > 0) {\r\n          this.currentImage.style.border = `${width}px ${styleSelect.value} ${colorInput.value}`\r\n        } else {\r\n          this.currentImage.style.border = ''\r\n        }\r\n        this.triggerChange()\r\n      }\r\n    }\r\n\r\n    widthInput.onchange = updateBorder\r\n    styleSelect.onchange = updateBorder\r\n    colorInput.onchange = updateBorder\r\n\r\n    container.appendChild(widthInput)\r\n    container.appendChild(styleSelect)\r\n    container.appendChild(colorInput)\r\n\r\n    return container\r\n  }\r\n\r\n  private createShadowButtons(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = 'display: flex; gap: 8px; flex-wrap: wrap;'\r\n\r\n    const shadows = [\r\n      { label: '无', value: 'none' },\r\n      { label: '小', value: '0 2px 4px rgba(0,0,0,0.1)' },\r\n      { label: '中', value: '0 4px 12px rgba(0,0,0,0.15)' },\r\n      { label: '大', value: '0 10px 30px rgba(0,0,0,0.2)' },\r\n    ]\r\n\r\n    shadows.forEach((shadow) => {\r\n      const btn = document.createElement('button')\r\n      btn.textContent = shadow.label\r\n      btn.style.cssText = `\r\n        padding: 8px 16px;\r\n        border: 1px solid #e5e7eb;\r\n        border-radius: 6px;\r\n        background: white;\r\n        cursor: pointer;\r\n        font-size: 13px;\r\n        transition: all 0.2s;\r\n      `\r\n\r\n      btn.onclick = () => {\r\n        if (this.currentImage) {\r\n          this.currentImage.style.boxShadow = shadow.value === 'none' ? '' : shadow.value\r\n          this.triggerChange()\r\n        }\r\n      }\r\n\r\n      container.appendChild(btn)\r\n    })\r\n\r\n    return container\r\n  }\r\n\r\n  private createTextInput(property: 'alt' | 'title', value: string, placeholder: string): HTMLElement {\r\n    const input = document.createElement('input')\r\n    input.type = 'text'\r\n    input.value = value\r\n    input.placeholder = placeholder\r\n    input.style.cssText = this.getInputStyle() + 'width: 100%;'\r\n\r\n    input.onchange = () => {\r\n      if (this.currentImage) {\r\n        this.currentImage[property] = input.value\r\n        this.triggerChange()\r\n      }\r\n    }\r\n\r\n    return input\r\n  }\r\n\r\n  private createFooter(): HTMLElement {\r\n    const footer = document.createElement('div')\r\n    footer.style.cssText = `\r\n      padding: 16px 20px;\r\n      border-top: 1px solid #e5e7eb;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      gap: 12px;\r\n    `\r\n\r\n    const cancelBtn = document.createElement('button')\r\n    cancelBtn.textContent = '取消'\r\n    cancelBtn.style.cssText = `\r\n      padding: 10px 20px;\r\n      border: 1px solid #d1d5db;\r\n      border-radius: 6px;\r\n      background: white;\r\n      cursor: pointer;\r\n      font-size: 14px;\r\n    `\r\n    cancelBtn.onclick = () => this.closeDialog(false)\r\n\r\n    const confirmBtn = document.createElement('button')\r\n    confirmBtn.textContent = '确定'\r\n    confirmBtn.style.cssText = `\r\n      padding: 10px 20px;\r\n      border: none;\r\n      border-radius: 6px;\r\n      background: #3b82f6;\r\n      color: white;\r\n      cursor: pointer;\r\n      font-size: 14px;\r\n    `\r\n    confirmBtn.onclick = () => this.closeDialog(true)\r\n\r\n    footer.appendChild(cancelBtn)\r\n    footer.appendChild(confirmBtn)\r\n\r\n    return footer\r\n  }\r\n\r\n  private getInputStyle(): string {\r\n    return `\r\n      padding: 8px 12px;\r\n      border: 1px solid #d1d5db;\r\n      border-radius: 6px;\r\n      font-size: 14px;\r\n      outline: none;\r\n      transition: border-color 0.2s;\r\n    `\r\n  }\r\n\r\n  private closeDialog(save: boolean): void {\r\n    if (!save) {\r\n      this.restoreOriginalStyles()\r\n    }\r\n\r\n    if (this.dialog) {\r\n      this.dialog.remove()\r\n      this.dialog = null\r\n    }\r\n\r\n    this.currentImage = null\r\n    this.originalStyles = {}\r\n  }\r\n\r\n  private triggerChange(): void {\r\n    const event = new Event('input', { bubbles: true })\r\n    this.editor?.contentElement?.dispatchEvent(event)\r\n  }\r\n\r\n  destroy(): void {\r\n    if (this.dialog) {\r\n      this.dialog.remove()\r\n    }\r\n\r\n    this.editor?.contentElement?.removeEventListener('dblclick', this.handleDoubleClick.bind(this))\r\n\r\n    console.log('[ImageStyleDialogPlugin] Destroyed')\r\n  }\r\n}\r\n\r\nexport default ImageStyleDialogPlugin\r\n"],"names":["ImageStyleDialogPlugin","Plugin","constructor","options","name","config","commands","keys","dialog","currentImage","originalStyles","defaultWidthUnit","showAdvanced","install","editor","on","handleOpenDialog","bind","contentElement","addEventListener","handleDoubleClick","console","log","e","target","tagName","preventDefault","openDialog","data","image","saveOriginalStyles","createDialog","document","body","appendChild","width","style","height","borderRadius","border","boxShadow","opacity","filter","marginLeft","marginRight","display","restoreOriginalStyles","Object","entries","forEach","key","value","overlay","createElement","className","cssText","header","createHeader","content","createContent","footer","createFooter","closeDialog","handleKeydown","removeEventListener","title","textContent","closeBtn","innerHTML","getLucideIcon","onclick","createSection","createSizeInput","createAlignButtons","createRangeInput","parseInt","Math","round","parseFloat","createBorderInput","createShadowButtons","createTextInput","alt","items","section","label","item","container","widthGroup","widthLabel","widthInput","type","getInputStyle","onchange","triggerChange","heightGroup","heightLabel","heightInput","lockBtn","alignOptions","icon","option","btn","float","property","min","max","unit","labelRow","labelText","valueText","range","String","oninput","val","placeholder","styleSelect","styles","s","opt","colorInput","updateBorder","shadows","shadow","input","cancelBtn","confirmBtn","save","remove","event","Event","bubbles","dispatchEvent","destroy"],"mappings":"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"}