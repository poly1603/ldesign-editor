{"version":3,"file":"word-count.cjs","sources":["../../../src/plugins/utils/word-count.ts"],"sourcesContent":["/**\r\n * Word count plugin\r\n * Provides word and character count functionality\r\n */\r\n\r\nimport type { Plugin } from '../../types'\r\n\r\nconst WordCountPlugin: Plugin = {\r\n  name: 'WordCount',\r\n  install(editor: any) {\r\n    let countElement: HTMLElement | null = null\r\n\r\n    // Create word count display element\r\n    function createCountElement() {\r\n      const div = document.createElement('div')\r\n      div.className = 'word-count-status'\r\n      div.style.cssText = `\r\n        position: fixed;\r\n        bottom: 10px;\r\n        right: 10px;\r\n        background: rgba(0, 0, 0, 0.7);\r\n        color: white;\r\n        padding: 5px 10px;\r\n        border-radius: 4px;\r\n        font-size: 12px;\r\n        z-index: 1000;\r\n      `\r\n      document.body.appendChild(div)\r\n      return div\r\n    }\r\n\r\n    // Count words\r\n    function countWords(text: string) {\r\n      const cleanText = text.replace(/<[^>]*>/g, '').trim()\r\n      const words = cleanText.match(/\\S+/g) || []\r\n      const chars = cleanText.length\r\n      const charsNoSpaces = cleanText.replace(/\\s/g, '').length\r\n\r\n      return {\r\n        words: words.length,\r\n        chars,\r\n        charsNoSpaces,\r\n      }\r\n    }\r\n\r\n    // Update count\r\n    function updateCount() {\r\n      const content = editor.getHTML()\r\n      const stats = countWords(content)\r\n\r\n      if (!countElement)\r\n        countElement = createCountElement()\r\n\r\n      countElement.innerHTML = `\r\n        Words: ${stats.words} | \r\n        Chars: ${stats.chars} | \r\n        Chars (no spaces): ${stats.charsNoSpaces}\r\n      `\r\n    }\r\n\r\n    // Register show/hide word count command\r\n    editor.commands.register('toggleWordCount', () => {\r\n      if (countElement)\r\n        countElement.style.display = countElement.style.display === 'none' ? 'block' : 'none'\r\n      else\r\n        updateCount()\r\n\r\n      return true\r\n    })\r\n\r\n    // Listen for content changes\r\n    editor.on('input', () => {\r\n      if (countElement && countElement.style.display !== 'none')\r\n        updateCount()\r\n    })\r\n\r\n    console.log('[WordCountPlugin] Installed')\r\n  },\r\n}\r\n\r\nexport default WordCountPlugin\r\n"],"names":["WordCountPlugin","name","install","editor","countElement","createCountElement","div","document","createElement","className","style","cssText","body","appendChild","countWords","text","cleanText","replace","trim","words","match","chars","length","charsNoSpaces","updateCount","content","getHTML","stats","innerHTML","commands","register","display","on","console","log"],"mappings":";;;;;;;;;;;;;AAOA,MAAMA,eAAAA,GAA0B;AAAA,EAC9BC,IAAAA,EAAM,WAAA;AAAA,EACNC,QAAQC,MAAAA,EAAa;AACnB,IAAA,IAAIC,YAAAA,GAAmC,IAAA;AAGvC,IAAA,SAASC,kBAAAA,GAAqB;AAC5B,MAAA,MAAMC,GAAAA,GAAMC,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACxCF,MAAAA,GAAAA,CAAIG,SAAAA,GAAY,mBAAA;AAChBH,MAAAA,GAAAA,CAAII,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAA,CAAA;AAWpBJ,MAAAA,QAAAA,CAASK,IAAAA,CAAKC,YAAYP,GAAG,CAAA;AAC7B,MAAA,OAAOA,GAAAA;AAAAA,IACT;AAGA,IAAA,SAASQ,WAAWC,IAAAA,EAAc;AAChC,MAAA,MAAMC,YAAYD,IAAAA,CAAKE,OAAAA,CAAQ,UAAA,EAAY,EAAE,EAAEC,IAAAA,EAAK;AACpD,MAAA,MAAMC,KAAAA,GAAQH,SAAAA,CAAUI,KAAAA,CAAM,MAAM,KAAK,EAAA;AACzC,MAAA,MAAMC,QAAQL,SAAAA,CAAUM,MAAAA;AACxB,MAAA,MAAMC,aAAAA,GAAgBP,SAAAA,CAAUC,OAAAA,CAAQ,KAAA,EAAO,EAAE,CAAA,CAAEK,MAAAA;AAEnD,MAAA,OAAO;AAAA,QACLH,OAAOA,KAAAA,CAAMG,MAAAA;AAAAA,QACbD,KAAAA;AAAAA,QACAE;AAAAA,OACF;AAAA,IACF;AAGA,IAAA,SAASC,WAAAA,GAAc;AACrB,MAAA,MAAMC,OAAAA,GAAUtB,OAAOuB,OAAAA,EAAQ;AAC/B,MAAA,MAAMC,KAAAA,GAAQb,WAAWW,OAAO,CAAA;AAEhC,MAAA,IAAI,CAACrB,YAAAA;AACHA,QAAAA,YAAAA,GAAeC,kBAAAA,EAAmB;AAEpCD,MAAAA,YAAAA,CAAawB,SAAAA,GAAY;AAAA,eAAA,EACdD,MAAMR,KAAK,CAAA;AAAA,eAAA,EACXQ,MAAMN,KAAK,CAAA;AAAA,2BAAA,EACCM,MAAMJ,aAAa;AAAA,MAAA,CAAA;AAAA,IAE5C;AAGApB,IAAAA,MAAAA,CAAO0B,QAAAA,CAASC,QAAAA,CAAS,iBAAA,EAAmB,MAAM;AAChD,MAAA,IAAI1B,YAAAA;AACFA,QAAAA,YAAAA,CAAaM,MAAMqB,OAAAA,GAAU3B,YAAAA,CAAaM,KAAAA,CAAMqB,OAAAA,KAAY,SAAS,OAAA,GAAU,MAAA;AAAA;AAE/EP,QAAAA,WAAAA,EAAY;AAEd,MAAA,OAAO,IAAA;AAAA,IACT,CAAC,CAAA;AAGDrB,IAAAA,MAAAA,CAAO6B,EAAAA,CAAG,SAAS,MAAM;AACvB,MAAA,IAAI5B,YAAAA,IAAgBA,YAAAA,CAAaM,KAAAA,CAAMqB,OAAAA,KAAY,MAAA;AACjDP,QAAAA,WAAAA,EAAY;AAAA,IAChB,CAAC,CAAA;AAEDS,IAAAA,OAAAA,CAAQC,IAAI,6BAA6B,CAAA;AAAA,EAC3C;AACF;;;;;;;"}