{"version":3,"file":"export-markdown.cjs","sources":["../../../src/plugins/utils/export-markdown.ts"],"sourcesContent":["/**\r\n * 导出为 Markdown 插件\r\n * 将编辑器内容转换为 Markdown 格式\r\n */\r\n\r\nimport type { Command, Plugin } from '../../types'\r\nimport { createPlugin } from '../../core/Plugin'\r\n\r\n/**\r\n * HTML 转 Markdown\r\n */\r\nexport function htmlToMarkdown(html: string): string {\r\n  // 创建临时元素来解析 HTML\r\n  const temp = document.createElement('div')\r\n  temp.innerHTML = html\r\n\r\n  return convertNodeToMarkdown(temp)\r\n}\r\n\r\n/**\r\n * 递归转换节点为 Markdown\r\n */\r\nfunction convertNodeToMarkdown(node: Node): string {\r\n  let markdown = ''\r\n\r\n  // 文本节点\r\n  if (node.nodeType === Node.TEXT_NODE)\r\n    return node.textContent || ''\r\n\r\n  // 元素节点\r\n  if (node.nodeType === Node.ELEMENT_NODE) {\r\n    const element = node as HTMLElement\r\n    const tagName = element.tagName.toLowerCase()\r\n\r\n    switch (tagName) {\r\n      // 标题\r\n      case 'h1':\r\n        markdown += `# ${getTextContent(element)}\\n\\n`\r\n        break\r\n      case 'h2':\r\n        markdown += `## ${getTextContent(element)}\\n\\n`\r\n        break\r\n      case 'h3':\r\n        markdown += `### ${getTextContent(element)}\\n\\n`\r\n        break\r\n      case 'h4':\r\n        markdown += `#### ${getTextContent(element)}\\n\\n`\r\n        break\r\n      case 'h5':\r\n        markdown += `##### ${getTextContent(element)}\\n\\n`\r\n        break\r\n      case 'h6':\r\n        markdown += `###### ${getTextContent(element)}\\n\\n`\r\n        break\r\n\r\n      // 段落\r\n      case 'p':\r\n        markdown += `${convertChildNodes(element)}\\n\\n`\r\n        break\r\n\r\n      // 换行\r\n      case 'br':\r\n        markdown += '\\n'\r\n        break\r\n\r\n      // 粗体\r\n      case 'strong':\r\n      case 'b':\r\n        markdown += `**${convertChildNodes(element)}**`\r\n        break\r\n\r\n      // 斜体\r\n      case 'em':\r\n      case 'i':\r\n        markdown += `*${convertChildNodes(element)}*`\r\n        break\r\n\r\n      // 删除线\r\n      case 'del':\r\n      case 's':\r\n      case 'strike':\r\n        markdown += `~~${convertChildNodes(element)}~~`\r\n        break\r\n\r\n      // 下划线（Markdown 不支持，使用 HTML）\r\n      case 'u':\r\n        markdown += `<u>${convertChildNodes(element)}</u>`\r\n        break\r\n\r\n      // 代码\r\n      case 'code':\r\n        if (element.classList.contains('language-')) {\r\n          // 代码块\r\n          const lang = Array.from(element.classList)\r\n            .find(c => c.startsWith('language-'))\r\n            ?.replace('language-', '') || ''\r\n          markdown += `\\`\\`\\`${lang}\\n${getTextContent(element)}\\n\\`\\`\\`\\n\\n`\r\n        }\r\n        else {\r\n          // 行内代码\r\n          markdown += `\\`${getTextContent(element)}\\``\r\n        }\r\n        break\r\n\r\n      // 代码块容器\r\n      case 'pre':\r\n        const codeElement = element.querySelector('code')\r\n        if (codeElement) {\r\n          const lang = Array.from(codeElement.classList)\r\n            .find(c => c.startsWith('language-'))\r\n            ?.replace('language-', '') || ''\r\n          markdown += `\\`\\`\\`${lang}\\n${getTextContent(codeElement)}\\n\\`\\`\\`\\n\\n`\r\n        }\r\n        else {\r\n          markdown += `\\`\\`\\`\\n${getTextContent(element)}\\n\\`\\`\\`\\n\\n`\r\n        }\r\n        break\r\n\r\n      // 链接\r\n      case 'a':\r\n        const href = element.getAttribute('href') || ''\r\n        const text = convertChildNodes(element)\r\n        markdown += `[${text}](${href})`\r\n        break\r\n\r\n      // 图片\r\n      case 'img':\r\n        const src = element.getAttribute('src') || ''\r\n        const alt = element.getAttribute('alt') || ''\r\n        markdown += `![${alt}](${src})`\r\n        break\r\n\r\n      // 列表\r\n      case 'ul':\r\n        element.childNodes.forEach((child) => {\r\n          if ((child as HTMLElement).tagName?.toLowerCase() === 'li')\r\n            markdown += `- ${convertChildNodes(child as HTMLElement)}\\n`\r\n        })\r\n        markdown += '\\n'\r\n        break\r\n\r\n      case 'ol':\r\n        let index = 1\r\n        element.childNodes.forEach((child) => {\r\n          if ((child as HTMLElement).tagName?.toLowerCase() === 'li') {\r\n            markdown += `${index}. ${convertChildNodes(child as HTMLElement)}\\n`\r\n            index++\r\n          }\r\n        })\r\n        markdown += '\\n'\r\n        break\r\n\r\n      // 引用\r\n      case 'blockquote':\r\n        const lines = convertChildNodes(element).split('\\n')\r\n        markdown += `${lines.map(line => `> ${line}`).join('\\n')}\\n\\n`\r\n        break\r\n\r\n      // 表格\r\n      case 'table':\r\n        const rows = Array.from(element.querySelectorAll('tr'))\r\n        if (rows.length > 0) {\r\n          // 表头\r\n          const headerCells = Array.from(rows[0].querySelectorAll('th, td'))\r\n          if (headerCells.length > 0) {\r\n            markdown += `| ${headerCells.map(cell => getTextContent(cell as HTMLElement)).join(' | ')} |\\n`\r\n            markdown += `| ${headerCells.map(() => '---').join(' | ')} |\\n`\r\n          }\r\n          // 表格内容\r\n          for (let i = 1; i < rows.length; i++) {\r\n            const cells = Array.from(rows[i].querySelectorAll('td'))\r\n            if (cells.length > 0)\r\n              markdown += `| ${cells.map(cell => getTextContent(cell as HTMLElement)).join(' | ')} |\\n`\r\n          }\r\n          markdown += '\\n'\r\n        }\r\n        break\r\n\r\n      // 水平线\r\n      case 'hr':\r\n        markdown += '---\\n\\n'\r\n        break\r\n\r\n      // 默认递归处理子节点\r\n      default:\r\n        markdown += convertChildNodes(element)\r\n        break\r\n    }\r\n  }\r\n\r\n  return markdown\r\n}\r\n\r\n/**\r\n * 转换子节点\r\n */\r\nfunction convertChildNodes(element: HTMLElement): string {\r\n  let markdown = ''\r\n  element.childNodes.forEach((child) => {\r\n    markdown += convertNodeToMarkdown(child)\r\n  })\r\n  return markdown\r\n}\r\n\r\n/**\r\n * 获取元素文本内容\r\n */\r\nfunction getTextContent(element: HTMLElement): string {\r\n  return element.textContent || ''\r\n}\r\n\r\n/**\r\n * 创建导出 Markdown 命令\r\n */\r\nconst exportMarkdownCommand: Command = {\r\n  id: 'exportMarkdown',\r\n  name: '导出为 Markdown',\r\n  execute: (editor) => {\r\n    const content = editor.getContent()\r\n    const markdown = htmlToMarkdown(content)\r\n\r\n    // 创建下载链接\r\n    const blob = new Blob([markdown], { type: 'text/markdown' })\r\n    const url = URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = 'document.md'\r\n    a.click()\r\n    URL.revokeObjectURL(url)\r\n\r\n    // 显示成功提示\r\n    console.log('Markdown 已复制到剪贴板')\r\n  },\r\n}\r\n\r\n/**\r\n * 创建导出 Markdown 插件\r\n */\r\nexport const ExportMarkdownPlugin: Plugin = createPlugin({\r\n  name: 'export-markdown',\r\n  version: '1.0.0',\r\n  description: '导出为 Markdown 格式',\r\n  author: 'LDesign Team',\r\n\r\n  install(editor) {\r\n    // 注册命令\r\n    editor.commands.register(exportMarkdownCommand)\r\n\r\n    // 添加工具栏按钮\r\n    editor.toolbar.add({\r\n      id: 'export-markdown',\r\n      type: 'button',\r\n      title: '导出 Markdown',\r\n      icon: 'download',\r\n      onClick: () => {\r\n        editor.commands.execute('exportMarkdown')\r\n      },\r\n    })\r\n\r\n    console.log('Markdown导出插件已复制到剪贴板')\r\n  },\r\n\r\n  destroy() {\r\n    console.log('销毁导出插件')\r\n  },\r\n})\r\n\r\nexport default ExportMarkdownPlugin\r\n"],"names":["htmlToMarkdown","html","temp","document","createElement","innerHTML","convertNodeToMarkdown","node","markdown","nodeType","Node","TEXT_NODE","textContent","ELEMENT_NODE","element","tagName","toLowerCase","getTextContent","convertChildNodes","classList","contains","lang","Array","from","find","c","startsWith","replace","codeElement","querySelector","href","getAttribute","text","src","alt","childNodes","forEach","child","index","lines","split","map","line","join","rows","querySelectorAll","length","headerCells","cell","i","cells","exportMarkdownCommand","id","name","execute","editor","content","getContent","blob","Blob","type","url","URL","createObjectURL","a","download","click","revokeObjectURL","console","log","ExportMarkdownPlugin","createPlugin","version","description","author","install","commands","register","toolbar","add","title","icon","onClick","destroy"],"mappings":"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"}