{"version":3,"file":"MobileEditorAdapter.cjs","sources":["../../src/mobile/MobileEditorAdapter.ts"],"sourcesContent":["/**\r\n * ÁßªÂä®Á´ØÁºñËæëÂô®ÈÄÇÈÖçÂô®\r\n * ‰∏∫ÁºñËæëÂô®Ê∑ªÂä†ÁßªÂä®Á´ØÁâπÂÆöÂäüËÉΩÂíå‰ºòÂåñ\r\n */\r\n\r\nimport type { Editor } from '../core/Editor'\r\nimport type { GestureEvent } from './gestures/GestureRecognizer'\r\nimport { debounce } from '../utils/helpers'\r\nimport { createLogger } from '../utils/logger'\r\nimport { ContextMenu } from './components/ContextMenu'\r\nimport { MobileToolbar } from './components/MobileToolbar'\r\nimport { SwipeMenu } from './components/SwipeMenu'\r\nimport { GestureRecognizer } from './gestures/GestureRecognizer'\r\n\r\nconst logger = createLogger('MobileEditorAdapter')\r\n\r\nexport interface MobileEditorOptions {\r\n  /** ÊòØÂê¶ÂêØÁî®ÊâãÂäø */\r\n  enableGestures?: boolean\r\n  /** ÊòØÂê¶ÂêØÁî®ÊªëÂä®ËèúÂçï */\r\n  enableSwipeMenu?: boolean\r\n  /** ÊòØÂê¶ÂêØÁî®ÈïøÊåâËèúÂçï */\r\n  enableContextMenu?: boolean\r\n  /** ÊòØÂê¶ÂêØÁî®ÁßªÂä®Á´ØÂ∑•ÂÖ∑Ê†è */\r\n  enableMobileToolbar?: boolean\r\n  /** ÊúÄÂ∞èÁº©ÊîæÊØî‰æã */\r\n  minZoom?: number\r\n  /** ÊúÄÂ§ßÁº©ÊîæÊØî‰æã */\r\n  maxZoom?: number\r\n  /** ÂàùÂßãÁº©ÊîæÊØî‰æã */\r\n  initialZoom?: number\r\n  /** ÊòØÂê¶ÂêØÁî®ÊÉØÊÄßÊªöÂä® */\r\n  enableMomentum?: boolean\r\n  /** ÊòØÂê¶ÂêØÁî®Ê©°ÁöÆÁ≠ãÊïàÊûú */\r\n  enableBounce?: boolean\r\n}\r\n\r\nexport class MobileEditorAdapter {\r\n  private editor: Editor\r\n  private options: Required<MobileEditorOptions>\r\n  private gestureRecognizer?: GestureRecognizer\r\n  private swipeMenu?: SwipeMenu\r\n  private contextMenu?: ContextMenu\r\n  private mobileToolbar?: MobileToolbar\r\n\r\n  private currentZoom = 1\r\n  private currentPanX = 0\r\n  private currentPanY = 0\r\n  private isPinching = false\r\n  private isPanning = false\r\n\r\n  private editorContainer: HTMLElement\r\n  private contentWrapper: HTMLElement\r\n  private viewportMeta?: HTMLMetaElement\r\n\r\n  constructor(editor: Editor, options: MobileEditorOptions = {}) {\r\n    this.editor = editor\r\n    this.options = {\r\n      enableGestures: true,\r\n      enableSwipeMenu: true,\r\n      enableContextMenu: true,\r\n      enableMobileToolbar: true,\r\n      minZoom: 0.5,\r\n      maxZoom: 3,\r\n      initialZoom: 1,\r\n      enableMomentum: true,\r\n      enableBounce: true,\r\n      ...options,\r\n    }\r\n\r\n    this.editorContainer = editor.getElement()\r\n    this.contentWrapper = this.createContentWrapper()\r\n\r\n    this.initialize()\r\n  }\r\n\r\n  /**\r\n   * ÂàùÂßãÂåñÁßªÂä®Á´ØÈÄÇÈÖç\r\n   */\r\n  private initialize(): void {\r\n    logger.info('Initializing mobile editor adapter')\r\n\r\n    // ËÆæÁΩÆviewport\r\n    this.setupViewport()\r\n\r\n    // Ê∑ªÂä†ÁßªÂä®Á´ØÊ†∑Âºè\r\n    this.applyMobileStyles()\r\n\r\n    // ÂàùÂßãÂåñÊâãÂäøËØÜÂà´\r\n    if (this.options.enableGestures)\r\n      this.initializeGestures()\r\n\r\n    // ÂàùÂßãÂåñÊªëÂä®ËèúÂçï\r\n    if (this.options.enableSwipeMenu)\r\n      this.initializeSwipeMenu()\r\n\r\n    // ÂàùÂßãÂåñÈïøÊåâËèúÂçï\r\n    if (this.options.enableContextMenu)\r\n      this.initializeContextMenu()\r\n\r\n    // ÂàùÂßãÂåñÁßªÂä®Á´ØÂ∑•ÂÖ∑Ê†è\r\n    if (this.options.enableMobileToolbar)\r\n      this.initializeMobileToolbar()\r\n\r\n    // ÁõëÂê¨Â±èÂπïÊñπÂêëÂèòÂåñ\r\n    this.setupOrientationListener()\r\n\r\n    // ÁõëÂê¨ÈîÆÁõò‰∫ã‰ª∂\r\n    this.setupKeyboardListener()\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫ÂÜÖÂÆπÂåÖË£ÖÂô®\r\n   */\r\n  private createContentWrapper(): HTMLElement {\r\n    const wrapper = document.createElement('div')\r\n    wrapper.className = 'mobile-content-wrapper'\r\n    wrapper.style.cssText = `\r\n      width: 100%;\r\n      height: 100%;\r\n      transform-origin: 0 0;\r\n      transition: transform 0.2s ease-out;\r\n      will-change: transform;\r\n    `\r\n\r\n    // Â∞ÜÁºñËæëÂô®ÂÜÖÂÆπÁßªÂä®Âà∞ÂåÖË£ÖÂô®‰∏≠\r\n    while (this.editorContainer.firstChild)\r\n      wrapper.appendChild(this.editorContainer.firstChild)\r\n\r\n    this.editorContainer.appendChild(wrapper)\r\n\r\n    return wrapper\r\n  }\r\n\r\n  /**\r\n   * ËÆæÁΩÆviewport\r\n   */\r\n  private setupViewport(): void {\r\n    let viewport = document.querySelector('meta[name=\"viewport\"]') as HTMLMetaElement\r\n\r\n    if (!viewport) {\r\n      viewport = document.createElement('meta')\r\n      viewport.name = 'viewport'\r\n      document.head.appendChild(viewport)\r\n    }\r\n\r\n    viewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover'\r\n    this.viewportMeta = viewport\r\n  }\r\n\r\n  /**\r\n   * Â∫îÁî®ÁßªÂä®Á´ØÊ†∑Âºè\r\n   */\r\n  private applyMobileStyles(): void {\r\n    const style = document.createElement('style')\r\n    style.textContent = `\r\n      .mobile-editor {\r\n        -webkit-tap-highlight-color: transparent;\r\n        -webkit-touch-callout: none;\r\n        -webkit-overflow-scrolling: touch;\r\n        overscroll-behavior: contain;\r\n        touch-action: none;\r\n      }\r\n      \r\n      .mobile-editor.pinching {\r\n        touch-action: pinch-zoom;\r\n      }\r\n      \r\n      .mobile-editor.panning {\r\n        touch-action: pan-x pan-y;\r\n      }\r\n      \r\n      .mobile-content-wrapper {\r\n        position: relative;\r\n      }\r\n      \r\n      .mobile-toolbar {\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: white;\r\n        border-top: 1px solid #e0e0e0;\r\n        z-index: 1000;\r\n        transform: translateY(0);\r\n        transition: transform 0.3s ease-out;\r\n      }\r\n      \r\n      .mobile-toolbar.hidden {\r\n        transform: translateY(100%);\r\n      }\r\n      \r\n      .swipe-menu {\r\n        position: fixed;\r\n        top: 0;\r\n        left: -80%;\r\n        width: 80%;\r\n        height: 100%;\r\n        background: white;\r\n        box-shadow: 2px 0 8px rgba(0,0,0,0.15);\r\n        z-index: 999;\r\n        transition: transform 0.3s ease-out;\r\n      }\r\n      \r\n      .swipe-menu.open {\r\n        transform: translateX(100%);\r\n      }\r\n      \r\n      .context-menu {\r\n        position: fixed;\r\n        background: white;\r\n        border-radius: 8px;\r\n        box-shadow: 0 2px 16px rgba(0,0,0,0.2);\r\n        padding: 8px 0;\r\n        z-index: 1001;\r\n        opacity: 0;\r\n        transform: scale(0.9);\r\n        transition: opacity 0.2s, transform 0.2s;\r\n      }\r\n      \r\n      .context-menu.visible {\r\n        opacity: 1;\r\n        transform: scale(1);\r\n      }\r\n      \r\n      @media (max-width: 768px) {\r\n        .ldesign-toolbar {\r\n          display: none;\r\n        }\r\n        \r\n        .ldesign-editor-content {\r\n          font-size: 16px;\r\n          padding: 10px;\r\n        }\r\n      }\r\n      \r\n      @supports (padding: env(safe-area-inset-bottom)) {\r\n        .mobile-toolbar {\r\n          padding-bottom: env(safe-area-inset-bottom);\r\n        }\r\n      }\r\n    `\r\n    document.head.appendChild(style)\r\n\r\n    this.editorContainer.classList.add('mobile-editor')\r\n  }\r\n\r\n  /**\r\n   * ÂàùÂßãÂåñÊâãÂäøËØÜÂà´\r\n   */\r\n  private initializeGestures(): void {\r\n    this.gestureRecognizer = new GestureRecognizer(this.editorContainer, {\r\n      longPressThreshold: 500,\r\n      doubleTapInterval: 300,\r\n      swipeThreshold: 30,\r\n      preventDefault: false,\r\n    })\r\n\r\n    // ÂèåÊåáÁº©Êîæ\r\n    this.gestureRecognizer.on('pinchstart', () => {\r\n      this.isPinching = true\r\n      this.editorContainer.classList.add('pinching')\r\n    })\r\n\r\n    this.gestureRecognizer.on('pinch', (e: GestureEvent) => {\r\n      this.handlePinch(e)\r\n    })\r\n\r\n    this.gestureRecognizer.on('pinchend', () => {\r\n      this.isPinching = false\r\n      this.editorContainer.classList.remove('pinching')\r\n    })\r\n\r\n    // ÂèåÂáªÁº©Êîæ\r\n    this.gestureRecognizer.on('doubletap', (e: GestureEvent) => {\r\n      this.handleDoubleTap(e)\r\n    })\r\n\r\n    // ÂçïÊåáÊãñÂä®\r\n    this.gestureRecognizer.on('pan', (e: GestureEvent) => {\r\n      if (!this.isPinching)\r\n        this.handlePan(e)\r\n    })\r\n\r\n    // ÊªëÂä®ÊâãÂäø\r\n    this.gestureRecognizer.on('swipeleft', () => {\r\n      if (this.swipeMenu?.isOpen())\r\n        this.swipeMenu.close()\r\n    })\r\n\r\n    this.gestureRecognizer.on('swiperight', () => {\r\n      if (this.currentPanX === 0 && !this.swipeMenu?.isOpen())\r\n        this.swipeMenu?.open()\r\n    })\r\n\r\n    // ÈïøÊåâ\r\n    this.gestureRecognizer.on('longpress', (e: GestureEvent) => {\r\n      this.handleLongPress(e)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Â§ÑÁêÜÂèåÊåáÁº©Êîæ\r\n   */\r\n  private handlePinch(e: GestureEvent): void {\r\n    const newZoom = Math.max(\r\n      this.options.minZoom,\r\n      Math.min(this.options.maxZoom, this.currentZoom * e.scale),\r\n    )\r\n\r\n    if (newZoom !== this.currentZoom) {\r\n      // ËÆ°ÁÆóÁº©Êîæ‰∏≠ÂøÉÁÇπ\r\n      const rect = this.editorContainer.getBoundingClientRect()\r\n      const centerX = e.center.x - rect.left\r\n      const centerY = e.center.y - rect.top\r\n\r\n      // Ë∞ÉÊï¥Âπ≥Áßª‰ª•‰øùÊåÅÁº©Êîæ‰∏≠ÂøÉ\r\n      const scaleDiff = newZoom - this.currentZoom\r\n      this.currentPanX -= centerX * scaleDiff\r\n      this.currentPanY -= centerY * scaleDiff\r\n\r\n      this.currentZoom = newZoom\r\n      this.updateTransform()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Â§ÑÁêÜÂèåÂáªÁº©Êîæ\r\n   */\r\n  private handleDoubleTap(e: GestureEvent): void {\r\n    if (this.currentZoom > 1.01) {\r\n      // ÈáçÁΩÆÁº©Êîæ\r\n      this.animateZoom(1, 0, 0)\r\n    }\r\n    else {\r\n      // ÊîæÂ§ßÂà∞2ÂÄç\r\n      const rect = this.editorContainer.getBoundingClientRect()\r\n      const centerX = e.center.x - rect.left\r\n      const centerY = e.center.y - rect.top\r\n\r\n      const targetPanX = -centerX\r\n      const targetPanY = -centerY\r\n\r\n      this.animateZoom(2, targetPanX, targetPanY)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Â§ÑÁêÜÊãñÂä®\r\n   */\r\n  private handlePan(e: GestureEvent): void {\r\n    if (this.currentZoom > 1) {\r\n      this.currentPanX += e.deltaX\r\n      this.currentPanY += e.deltaY\r\n\r\n      // ÈôêÂà∂ÊãñÂä®ËåÉÂõ¥\r\n      this.constrainPan()\r\n      this.updateTransform()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Â§ÑÁêÜÈïøÊåâ\r\n   */\r\n  private handleLongPress(e: GestureEvent): void {\r\n    if (this.contextMenu) {\r\n      // Ëé∑ÂèñÈÄâ‰∏≠ÁöÑÊñáÊú¨\r\n      const selection = window.getSelection()\r\n      const selectedText = selection?.toString()\r\n\r\n      // ÊòæÁ§∫‰∏ä‰∏ãÊñáËèúÂçï\r\n      this.contextMenu.show({\r\n        x: e.center.x,\r\n        y: e.center.y,\r\n        selectedText,\r\n        items: this.getContextMenuItems(selectedText),\r\n      })\r\n    }\r\n\r\n    // Ëß¶ÂèëËß¶ËßâÂèçÈ¶àÔºàÂ¶ÇÊûúÊîØÊåÅÔºâ\r\n    if ('vibrate' in navigator)\r\n      navigator.vibrate(50)\r\n  }\r\n\r\n  /**\r\n   * Ëé∑Âèñ‰∏ä‰∏ãÊñáËèúÂçïÈ°π\r\n   */\r\n  private getContextMenuItems(selectedText?: string): any[] {\r\n    const items = []\r\n\r\n    if (selectedText) {\r\n      items.push(\r\n        { label: 'Â§çÂà∂', icon: 'üìã', action: () => this.copyText(selectedText) },\r\n        { label: 'Ââ™Âàá', icon: '‚úÇÔ∏è', action: () => this.cutText() },\r\n        { type: 'separator' },\r\n      )\r\n    }\r\n\r\n    items.push(\r\n      { label: 'Á≤òË¥¥', icon: 'üìÑ', action: () => this.pasteText() },\r\n      { label: 'ÂÖ®ÈÄâ', icon: 'üî≤', action: () => this.selectAll() },\r\n      { type: 'separator' },\r\n      { label: 'Êí§ÈîÄ', icon: '‚Ü©Ô∏è', action: () => this.editor.undo() },\r\n      { label: 'ÈáçÂÅö', icon: '‚Ü™Ô∏è', action: () => this.editor.redo() },\r\n    )\r\n\r\n    return items\r\n  }\r\n\r\n  /**\r\n   * ÂàùÂßãÂåñÊªëÂä®ËèúÂçï\r\n   */\r\n  private initializeSwipeMenu(): void {\r\n    this.swipeMenu = new SwipeMenu({\r\n      container: this.editorContainer,\r\n      items: [\r\n        { label: 'Êñá‰ª∂', icon: 'üìÅ', action: () => this.showFileMenu() },\r\n        { label: 'ÁºñËæë', icon: '‚úèÔ∏è', action: () => this.showEditMenu() },\r\n        { label: 'ÊèíÂÖ•', icon: '‚ûï', action: () => this.showInsertMenu() },\r\n        { label: 'Ê†ºÂºè', icon: 'üé®', action: () => this.showFormatMenu() },\r\n        { label: 'Â∑•ÂÖ∑', icon: 'üîß', action: () => this.showToolsMenu() },\r\n        { label: 'ËÆæÁΩÆ', icon: '‚öôÔ∏è', action: () => this.showSettings() },\r\n      ],\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ÂàùÂßãÂåñÈïøÊåâ‰∏ä‰∏ãÊñáËèúÂçï\r\n   */\r\n  private initializeContextMenu(): void {\r\n    this.contextMenu = new ContextMenu({\r\n      container: this.editorContainer,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ÂàùÂßãÂåñÁßªÂä®Á´ØÂ∑•ÂÖ∑Ê†è\r\n   */\r\n  private initializeMobileToolbar(): void {\r\n    this.mobileToolbar = new MobileToolbar({\r\n      container: this.editorContainer,\r\n      editor: this.editor,\r\n      items: [\r\n        { id: 'bold', icon: 'B', title: 'Âä†Á≤ó' },\r\n        { id: 'italic', icon: 'I', title: 'Êñú‰Ωì' },\r\n        { id: 'underline', icon: 'U', title: '‰∏ãÂàíÁ∫ø' },\r\n        { type: 'separator' },\r\n        { id: 'undo', icon: '‚Ü©', title: 'Êí§ÈîÄ' },\r\n        { id: 'redo', icon: '‚Ü™', title: 'ÈáçÂÅö' },\r\n        { type: 'separator' },\r\n        { id: 'image', icon: 'üñº', title: 'ÊèíÂÖ•ÂõæÁâá' },\r\n        { id: 'link', icon: 'üîó', title: 'ÊèíÂÖ•ÈìæÊé•' },\r\n        { id: 'more', icon: '‚ãØ', title: 'Êõ¥Â§ö' },\r\n      ],\r\n    })\r\n\r\n    // ÁõëÂê¨ÈîÆÁõòÊòæÁ§∫/ÈöêËóè\r\n    this.setupKeyboardVisibilityListener()\r\n  }\r\n\r\n  /**\r\n   * ËÆæÁΩÆÂ±èÂπïÊñπÂêëÁõëÂê¨\r\n   */\r\n  private setupOrientationListener(): void {\r\n    const handleOrientationChange = debounce(() => {\r\n      logger.info('Orientation changed:', window.orientation)\r\n\r\n      // ÈáçÊñ∞ËÆ°ÁÆóËßÜÂè£\r\n      this.metrics = this.calculateMetrics()\r\n\r\n      // Ë∞ÉÊï¥UIÂ∏ÉÂ±Ä\r\n      this.adjustLayoutForOrientation()\r\n\r\n      // Ëß¶Âèë‰∫ã‰ª∂\r\n      this.editor.emit('orientationchange', {\r\n        orientation: this.getOrientation(),\r\n        angle: window.orientation,\r\n      })\r\n    }, 300)\r\n\r\n    window.addEventListener('orientationchange', handleOrientationChange)\r\n    window.addEventListener('resize', handleOrientationChange)\r\n  }\r\n\r\n  /**\r\n   * ËÆæÁΩÆÈîÆÁõòÁõëÂê¨\r\n   */\r\n  private setupKeyboardListener(): void {\r\n    // iOSËôöÊãüÈîÆÁõòÊ£ÄÊµã\r\n    if (this.isIOS()) {\r\n      let lastHeight = window.innerHeight\r\n\r\n      window.addEventListener('resize', () => {\r\n        const currentHeight = window.innerHeight\r\n        const heightDiff = lastHeight - currentHeight\r\n\r\n        if (Math.abs(heightDiff) > 100) {\r\n          if (heightDiff > 0)\r\n            this.onKeyboardShow(heightDiff)\r\n          else\r\n            this.onKeyboardHide()\r\n        }\r\n\r\n        lastHeight = currentHeight\r\n      })\r\n    }\r\n\r\n    // AndroidËôöÊãüÈîÆÁõòÊ£ÄÊµã\r\n    if (this.isAndroid()) {\r\n      window.addEventListener('resize', () => {\r\n        if (document.activeElement?.tagName === 'INPUT'\r\n          || document.activeElement?.tagName === 'TEXTAREA') \r\n          this.onKeyboardShow(0)\r\n\r\n\r\n        else \r\n          this.onKeyboardHide()\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ËÆæÁΩÆÈîÆÁõòÂèØËßÅÊÄßÁõëÂê¨\r\n   */\r\n  private setupKeyboardVisibilityListener(): void {\r\n    if ('visualViewport' in window) {\r\n      window.visualViewport?.addEventListener('resize', () => {\r\n        const hasKeyboard = window.visualViewport!.height < window.innerHeight * 0.75\r\n        if (hasKeyboard)\r\n          this.mobileToolbar?.hide()\r\n        else\r\n          this.mobileToolbar?.show()\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ÈîÆÁõòÊòæÁ§∫Êó∂ÁöÑÂ§ÑÁêÜ\r\n   */\r\n  private onKeyboardShow(keyboardHeight: number): void {\r\n    logger.info('Keyboard shown, height:', keyboardHeight)\r\n\r\n    // ÈöêËóèÂ∑•ÂÖ∑Ê†è\r\n    this.mobileToolbar?.hide()\r\n\r\n    // ÊªöÂä®Âà∞ÂÖâÊ†á‰ΩçÁΩÆ\r\n    this.scrollToCursor()\r\n\r\n    // Ëß¶Âèë‰∫ã‰ª∂\r\n    this.editor.emit('keyboardshow', { height: keyboardHeight })\r\n  }\r\n\r\n  /**\r\n   * ÈîÆÁõòÈöêËóèÊó∂ÁöÑÂ§ÑÁêÜ\r\n   */\r\n  private onKeyboardHide(): void {\r\n    logger.info('Keyboard hidden')\r\n\r\n    // ÊòæÁ§∫Â∑•ÂÖ∑Ê†è\r\n    this.mobileToolbar?.show()\r\n\r\n    // Ëß¶Âèë‰∫ã‰ª∂\r\n    this.editor.emit('keyboardhide')\r\n  }\r\n\r\n  /**\r\n   * Êõ¥Êñ∞ÂèòÊç¢\r\n   */\r\n  private updateTransform(): void {\r\n    const transform = `scale(${this.currentZoom}) translate(${this.currentPanX}px, ${this.currentPanY}px)`\r\n    this.contentWrapper.style.transform = transform\r\n  }\r\n\r\n  /**\r\n   * Âä®ÁîªÁº©Êîæ\r\n   */\r\n  private animateZoom(targetZoom: number, targetPanX: number, targetPanY: number): void {\r\n    const startZoom = this.currentZoom\r\n    const startPanX = this.currentPanX\r\n    const startPanY = this.currentPanY\r\n    const duration = 300\r\n    const startTime = Date.now()\r\n\r\n    const animate = () => {\r\n      const elapsed = Date.now() - startTime\r\n      const progress = Math.min(elapsed / duration, 1)\r\n      const easeProgress = this.easeInOutCubic(progress)\r\n\r\n      this.currentZoom = startZoom + (targetZoom - startZoom) * easeProgress\r\n      this.currentPanX = startPanX + (targetPanX - startPanX) * easeProgress\r\n      this.currentPanY = startPanY + (targetPanY - startPanY) * easeProgress\r\n\r\n      this.updateTransform()\r\n\r\n      if (progress < 1)\r\n        requestAnimationFrame(animate)\r\n    }\r\n\r\n    requestAnimationFrame(animate)\r\n  }\r\n\r\n  /**\r\n   * ÁºìÂä®ÂáΩÊï∞\r\n   */\r\n  private easeInOutCubic(t: number): number {\r\n    return t < 0.5\r\n      ? 4 * t * t * t\r\n      : 1 - (-2 * t + 2) ** 3 / 2\r\n  }\r\n\r\n  /**\r\n   * ÈôêÂà∂ÊãñÂä®ËåÉÂõ¥\r\n   */\r\n  private constrainPan(): void {\r\n    const rect = this.editorContainer.getBoundingClientRect()\r\n    const contentWidth = rect.width * this.currentZoom\r\n    const contentHeight = rect.height * this.currentZoom\r\n\r\n    const maxPanX = Math.max(0, (contentWidth - rect.width) / 2)\r\n    const maxPanY = Math.max(0, (contentHeight - rect.height) / 2)\r\n\r\n    this.currentPanX = Math.max(-maxPanX, Math.min(maxPanX, this.currentPanX))\r\n    this.currentPanY = Math.max(-maxPanY, Math.min(maxPanY, this.currentPanY))\r\n  }\r\n\r\n  /**\r\n   * ÊªöÂä®Âà∞ÂÖâÊ†á‰ΩçÁΩÆ\r\n   */\r\n  private scrollToCursor(): void {\r\n    const selection = window.getSelection()\r\n    if (selection && selection.rangeCount > 0) {\r\n      const range = selection.getRangeAt(0)\r\n      const rect = range.getBoundingClientRect()\r\n\r\n      if (rect.bottom > window.innerHeight - 100) {\r\n        window.scrollTo({\r\n          top: window.scrollY + rect.bottom - window.innerHeight + 100,\r\n          behavior: 'smooth',\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ËÆ°ÁÆóËßÜÂè£ÊåáÊ†á\r\n   */\r\n  private calculateMetrics() {\r\n    return {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      orientation: this.getOrientation(),\r\n      devicePixelRatio: window.devicePixelRatio,\r\n      isKeyboardVisible: this.isKeyboardVisible(),\r\n    }\r\n  }\r\n\r\n  private metrics = this.calculateMetrics()\r\n\r\n  /**\r\n   * Ëé∑ÂèñÂ±èÂπïÊñπÂêë\r\n   */\r\n  private getOrientation(): 'portrait' | 'landscape' {\r\n    return window.innerWidth < window.innerHeight ? 'portrait' : 'landscape'\r\n  }\r\n\r\n  /**\r\n   * Ê£ÄÊü•ÈîÆÁõòÊòØÂê¶ÂèØËßÅ\r\n   */\r\n  private isKeyboardVisible(): boolean {\r\n    if ('visualViewport' in window && window.visualViewport)\r\n      return window.visualViewport.height < window.innerHeight * 0.75\r\n\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Ë∞ÉÊï¥Â∏ÉÂ±Ä‰ª•ÈÄÇÂ∫îÊñπÂêë\r\n   */\r\n  private adjustLayoutForOrientation(): void {\r\n    const orientation = this.getOrientation()\r\n\r\n    if (orientation === 'landscape') {\r\n      // Ê®™Â±èÂ∏ÉÂ±ÄË∞ÉÊï¥\r\n      this.mobileToolbar?.setCompactMode(true)\r\n    }\r\n    else {\r\n      // Á´ñÂ±èÂ∏ÉÂ±ÄË∞ÉÊï¥\r\n      this.mobileToolbar?.setCompactMode(false)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Â§çÂà∂ÊñáÊú¨\r\n   */\r\n  private async copyText(text: string): Promise<void> {\r\n    try {\r\n      await navigator.clipboard.writeText(text)\r\n      this.showToast('Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø')\r\n    }\r\n    catch (err) {\r\n      logger.error('Failed to copy text:', err)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ââ™ÂàáÊñáÊú¨\r\n   */\r\n  private cutText(): void {\r\n    document.execCommand('cut')\r\n    this.showToast('Â∑≤Ââ™Âàá')\r\n  }\r\n\r\n  /**\r\n   * Á≤òË¥¥ÊñáÊú¨\r\n   */\r\n  private async pasteText(): Promise<void> {\r\n    try {\r\n      const text = await navigator.clipboard.readText()\r\n      this.editor.insertText(text)\r\n      this.showToast('Â∑≤Á≤òË¥¥')\r\n    }\r\n    catch (err) {\r\n      logger.error('Failed to paste text:', err)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ÂÖ®ÈÄâ\r\n   */\r\n  private selectAll(): void {\r\n    document.execCommand('selectAll')\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫ÊèêÁ§∫\r\n   */\r\n  private showToast(message: string): void {\r\n    // ÂàõÂª∫ÊèêÁ§∫ÂÖÉÁ¥†\r\n    const toast = document.createElement('div')\r\n    toast.className = 'mobile-toast'\r\n    toast.textContent = message\r\n    toast.style.cssText = `\r\n      position: fixed;\r\n      bottom: 100px;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      background: rgba(0, 0, 0, 0.8);\r\n      color: white;\r\n      padding: 10px 20px;\r\n      border-radius: 20px;\r\n      z-index: 10000;\r\n      opacity: 0;\r\n      transition: opacity 0.3s;\r\n    `\r\n\r\n    document.body.appendChild(toast)\r\n\r\n    // ÊòæÁ§∫Âä®Áîª\r\n    setTimeout(() => {\r\n      toast.style.opacity = '1'\r\n    }, 10)\r\n\r\n    // Ëá™Âä®ÈöêËóè\r\n    setTimeout(() => {\r\n      toast.style.opacity = '0'\r\n      setTimeout(() => {\r\n        document.body.removeChild(toast)\r\n      }, 300)\r\n    }, 2000)\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫Êñá‰ª∂ËèúÂçï\r\n   */\r\n  private showFileMenu(): void {\r\n    // ÂÆûÁé∞Êñá‰ª∂ËèúÂçïÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫ÁºñËæëËèúÂçï\r\n   */\r\n  private showEditMenu(): void {\r\n    // ÂÆûÁé∞ÁºñËæëËèúÂçïÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫ÊèíÂÖ•ËèúÂçï\r\n   */\r\n  private showInsertMenu(): void {\r\n    // ÂÆûÁé∞ÊèíÂÖ•ËèúÂçïÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫Ê†ºÂºèËèúÂçï\r\n   */\r\n  private showFormatMenu(): void {\r\n    // ÂÆûÁé∞Ê†ºÂºèËèúÂçïÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫Â∑•ÂÖ∑ËèúÂçï\r\n   */\r\n  private showToolsMenu(): void {\r\n    // ÂÆûÁé∞Â∑•ÂÖ∑ËèúÂçïÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * ÊòæÁ§∫ËÆæÁΩÆ\r\n   */\r\n  private showSettings(): void {\r\n    // ÂÆûÁé∞ËÆæÁΩÆÈÄªËæë\r\n  }\r\n\r\n  /**\r\n   * Ê£ÄÊµãiOS\r\n   */\r\n  private isIOS(): boolean {\r\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !(window as any).MSStream\r\n  }\r\n\r\n  /**\r\n   * Ê£ÄÊµãAndroid\r\n   */\r\n  private isAndroid(): boolean {\r\n    return /Android/.test(navigator.userAgent)\r\n  }\r\n\r\n  /**\r\n   * ÈîÄÊØÅÈÄÇÈÖçÂô®\r\n   */\r\n  destroy(): void {\r\n    this.gestureRecognizer?.destroy()\r\n    this.swipeMenu?.destroy()\r\n    this.contextMenu?.destroy()\r\n    this.mobileToolbar?.destroy()\r\n  }\r\n}\r\n"],"names":["logger","createLogger","MobileEditorAdapter","constructor","editor","options","currentZoom","currentPanX","currentPanY","isPinching","isPanning","metrics","calculateMetrics","enableGestures","enableSwipeMenu","enableContextMenu","enableMobileToolbar","minZoom","maxZoom","initialZoom","enableMomentum","enableBounce","editorContainer","getElement","contentWrapper","createContentWrapper","initialize","info","setupViewport","applyMobileStyles","initializeGestures","initializeSwipeMenu","initializeContextMenu","initializeMobileToolbar","setupOrientationListener","setupKeyboardListener","wrapper","document","createElement","className","style","cssText","firstChild","appendChild","viewport","querySelector","name","head","content","viewportMeta","textContent","classList","add","gestureRecognizer","GestureRecognizer","longPressThreshold","doubleTapInterval","swipeThreshold","preventDefault","on","e","handlePinch","remove","handleDoubleTap","handlePan","swipeMenu","isOpen","close","open","handleLongPress","newZoom","Math","max","min","scale","rect","getBoundingClientRect","centerX","center","x","left","centerY","y","top","scaleDiff","updateTransform","animateZoom","targetPanX","targetPanY","deltaX","deltaY","constrainPan","contextMenu","selection","window","getSelection","selectedText","toString","show","items","getContextMenuItems","navigator","vibrate","push","label","icon","action","copyText","cutText","type","pasteText","selectAll","undo","redo","SwipeMenu","container","showFileMenu","showEditMenu","showInsertMenu","showFormatMenu","showToolsMenu","showSettings","ContextMenu","mobileToolbar","MobileToolbar","id","title","setupKeyboardVisibilityListener","handleOrientationChange","debounce","orientation","adjustLayoutForOrientation","emit","getOrientation","angle","addEventListener","isIOS","lastHeight","innerHeight","currentHeight","heightDiff","abs","onKeyboardShow","onKeyboardHide","isAndroid","activeElement","tagName","visualViewport","hasKeyboard","height","hide","keyboardHeight","scrollToCursor","transform","targetZoom","startZoom","startPanX","startPanY","duration","startTime","Date","now","animate","elapsed","progress","easeProgress","easeInOutCubic","requestAnimationFrame","t","contentWidth","width","contentHeight","maxPanX","maxPanY","rangeCount","range","getRangeAt","bottom","scrollTo","scrollY","behavior","innerWidth","devicePixelRatio","isKeyboardVisible","setCompactMode","text","clipboard","writeText","showToast","err","error","execCommand","readText","insertText","message","toast","body","setTimeout","opacity","removeChild","test","userAgent","MSStream","destroy"],"mappings":"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"}