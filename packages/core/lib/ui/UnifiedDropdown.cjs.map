{"version":3,"file":"UnifiedDropdown.cjs","sources":["../../src/ui/UnifiedDropdown.ts"],"sourcesContent":["/**\r\n * ç»Ÿä¸€çš„ä¸‹æ‹‰æ¡†åŠŸèƒ½\r\n * ä¸ºé¢œè‰²é€‰æ‹©ã€è¡¨æƒ…é€‰æ‹©ç­‰æä¾›ä¸€è‡´çš„ä¸‹æ‹‰æ¡†ä½“éªŒ\r\n */\r\n\r\nimport type { DropdownOption } from './Dropdown'\r\nimport { PRESET_COLORS } from '../plugins/formatting/color'\r\nimport { showDropdown } from './Dropdown'\r\n\r\n// è¡¨æƒ…åˆ†ç±»æ•°æ®\r\nconst EMOJI_CATEGORIES = {\r\n  smileys: {\r\n    name: 'ç¬‘è„¸',\r\n    emojis: ['ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜…', 'ðŸ˜‚', 'ðŸ¤£', 'ðŸ˜Š', 'ðŸ˜‡', 'ðŸ™‚', 'ðŸ˜‰', 'ðŸ˜Œ', 'ðŸ˜', 'ðŸ¥°', 'ðŸ˜˜', 'ðŸ˜—', 'ðŸ˜™', 'ðŸ˜š', 'ðŸ˜‹', 'ðŸ˜›', 'ðŸ˜œ', 'ðŸ¤ª', 'ðŸ˜', 'ðŸ¤‘', 'ðŸ¤—', 'ðŸ¤­', 'ðŸ¤«', 'ðŸ¤”'],\r\n  },\r\n  gestures: {\r\n    name: 'æ‰‹åŠ¿',\r\n    emojis: ['ðŸ‘‹', 'ðŸ¤š', 'ðŸ–', 'âœ‹', 'ðŸ––', 'ðŸ‘Œ', 'ðŸ¤', 'âœŒï¸', 'ðŸ¤ž', 'ðŸ¤Ÿ', 'ðŸ¤˜', 'ðŸ¤™', 'ðŸ‘ˆ', 'ðŸ‘‰', 'ðŸ‘†', 'ðŸ‘‡', 'â˜ï¸', 'ðŸ‘', 'ðŸ‘Ž', 'âœŠ', 'ðŸ‘Š', 'ðŸ¤›', 'ðŸ¤œ', 'ðŸ‘', 'ðŸ™Œ', 'ðŸ‘', 'ðŸ¤²', 'ðŸ¤', 'ðŸ™'],\r\n  },\r\n  hearts: {\r\n    name: 'çˆ±å¿ƒ',\r\n    emojis: ['â¤ï¸', 'ðŸ§¡', 'ðŸ’›', 'ðŸ’š', 'ðŸ’™', 'ðŸ’œ', 'ðŸ–¤', 'ðŸ¤', 'ðŸ¤Ž', 'ðŸ’”', 'â£ï¸', 'ðŸ’•', 'ðŸ’ž', 'ðŸ’“', 'ðŸ’—', 'ðŸ’–', 'ðŸ’˜', 'ðŸ’'],\r\n  },\r\n  animals: {\r\n    name: 'åŠ¨ç‰©',\r\n    emojis: ['ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¹', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼', 'ðŸ¨', 'ðŸ¯', 'ðŸ¦', 'ðŸ®', 'ðŸ·', 'ðŸ¸', 'ðŸµ', 'ðŸ’', 'ðŸ”', 'ðŸ§', 'ðŸ¦', 'ðŸ¤', 'ðŸ£', 'ðŸ¦†', 'ðŸ¦…', 'ðŸ¦‰', 'ðŸ¦‡', 'ðŸº', 'ðŸ—', 'ðŸ´'],\r\n  },\r\n  food: {\r\n    name: 'é£Ÿç‰©',\r\n    emojis: ['ðŸ', 'ðŸŽ', 'ðŸ', 'ðŸŠ', 'ðŸ‹', 'ðŸŒ', 'ðŸ‰', 'ðŸ‡', 'ðŸ“', 'ðŸˆ', 'ðŸ’', 'ðŸ‘', 'ðŸ¥­', 'ðŸ', 'ðŸ¥¥', 'ðŸ¥', 'ðŸ…', 'ðŸ†', 'ðŸ¥‘', 'ðŸ¥¦', 'ðŸ¥¬', 'ðŸ¥’', 'ðŸŒ¶', 'ðŸŒ½', 'ðŸ¥•', 'ðŸ§„', 'ðŸ§…', 'ðŸ¥”'],\r\n  },\r\n}\r\n\r\n/**\r\n * æ˜¾ç¤ºé¢œè‰²é€‰æ‹©ä¸‹æ‹‰æ¡†ï¼ˆç®€åŒ–ç‰ˆï¼‰\r\n */\r\nexport function showColorDropdown(\r\n  button: HTMLElement,\r\n  onSelect: (color: string) => void,\r\n  includeCustom: boolean = true,\r\n  title: string = 'é€‰æ‹©é¢œè‰²',\r\n): void {\r\n  // åˆ›å»ºé¢œè‰²é€‰é¡¹\r\n  const colorOptions: DropdownOption[] = PRESET_COLORS.slice(0, 20).map(color => ({\r\n    label: color,\r\n    value: color,\r\n    color,\r\n  }))\r\n\r\n  if (includeCustom) {\r\n    // åˆ›å»ºè‡ªå®šä¹‰å†…å®¹åŒºåŸŸ\r\n    const customContent = document.createElement('div')\r\n    customContent.style.cssText = 'width: 100%; box-sizing: border-box;'\r\n\r\n    // æ·»åŠ æ ‡é¢˜\r\n    const titleElement = document.createElement('div')\r\n    titleElement.className = 'editor-dropdown-title'\r\n    titleElement.textContent = title\r\n    customContent.appendChild(titleElement)\r\n\r\n    // é¢œè‰²ç½‘æ ¼\r\n    const colorGrid = document.createElement('div')\r\n    colorGrid.className = 'editor-color-grid'\r\n\r\n    PRESET_COLORS.forEach((color) => {\r\n      const colorButton = document.createElement('button')\r\n      colorButton.type = 'button'\r\n      colorButton.className = 'editor-color-item-dropdown'\r\n      colorButton.style.backgroundColor = color\r\n      colorButton.title = color\r\n\r\n      // æ·»åŠ å¯¹æ¯”è¾¹æ¡†ï¼ˆç”¨äºŽæµ…è‰²ï¼‰\r\n      const rgb = hexToRgb(color)\r\n      if (rgb && (rgb.r + rgb.g + rgb.b) > 650)\r\n        colorButton.style.border = '1px solid #e5e7eb'\r\n\r\n      colorButton.addEventListener('mousedown', (e) => {\r\n        e.preventDefault()\r\n      })\r\n\r\n      colorButton.addEventListener('click', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        // è§¦å‘é€‰æ‹©å›žè°ƒ\r\n        const dropdown = customContent.closest('.editor-dropdown')\r\n        if (dropdown) {\r\n          dropdown.classList.add('closing')\r\n          setTimeout(() => {\r\n            onSelect(color)\r\n            dropdown.remove()\r\n          }, 150)\r\n        }\r\n      })\r\n\r\n      colorGrid.appendChild(colorButton)\r\n    })\r\n\r\n    customContent.appendChild(colorGrid)\r\n\r\n    // è‡ªå®šä¹‰é¢œè‰²è¾“å…¥\r\n    const customSection = document.createElement('div')\r\n    customSection.className = 'editor-color-custom-section'\r\n\r\n    const inputGroup = document.createElement('div')\r\n    inputGroup.style.cssText = 'display: flex; gap: 8px; align-items: center; width: 100%; box-sizing: border-box;'\r\n\r\n    const hexInput = document.createElement('input')\r\n    hexInput.type = 'text'\r\n    hexInput.placeholder = '#000000'\r\n    hexInput.maxLength = 7\r\n    hexInput.style.cssText = 'flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; box-sizing: border-box; min-width: 0;'\r\n\r\n    const applyButton = document.createElement('button')\r\n    applyButton.type = 'button'\r\n    applyButton.textContent = 'åº”ç”¨'\r\n    applyButton.style.cssText = 'padding: 6px 12px; border: none; border-radius: 4px; background: #3b82f6; color: white; font-size: 12px; cursor: pointer; flex-shrink: 0;'\r\n\r\n    applyButton.addEventListener('click', () => {\r\n      const color = hexInput.value.trim()\r\n      if (/^#[0-9A-F]{6}$/i.test(color)) {\r\n        const dropdown = customContent.closest('.editor-dropdown')\r\n        if (dropdown) {\r\n          dropdown.classList.add('closing')\r\n          setTimeout(() => {\r\n            onSelect(color)\r\n            dropdown.remove()\r\n          }, 150)\r\n        }\r\n      }\r\n      else {\r\n        hexInput.style.borderColor = '#ef4444'\r\n        setTimeout(() => {\r\n          hexInput.style.borderColor = ''\r\n        }, 1000)\r\n      }\r\n    })\r\n\r\n    inputGroup.appendChild(hexInput)\r\n    inputGroup.appendChild(applyButton)\r\n    customSection.appendChild(inputGroup)\r\n    customContent.appendChild(customSection)\r\n\r\n    // æ˜¾ç¤ºä¸‹æ‹‰æ¡†\r\n    showDropdown(button, {\r\n      customContent,\r\n      width: 300,\r\n      maxHeight: 420,\r\n    })\r\n  }\r\n  else {\r\n    // æ˜¾ç¤ºç®€å•çš„é¢œè‰²åˆ—è¡¨\r\n    showDropdown(button, {\r\n      options: colorOptions,\r\n      onSelect,\r\n      width: 200,\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * æ˜¾ç¤ºè¡¨æƒ…é€‰æ‹©ä¸‹æ‹‰æ¡†\r\n */\r\nexport function showEmojiDropdown(\r\n  button: HTMLElement,\r\n  onSelect: (emoji: string) => void,\r\n): void {\r\n  // åˆ›å»ºè‡ªå®šä¹‰å†…å®¹\r\n  const customContent = document.createElement('div')\r\n\r\n  // åˆ›å»ºåˆ†ç±»æ ‡ç­¾\r\n  const tabs = document.createElement('div')\r\n  tabs.className = 'editor-dropdown-tabs'\r\n\r\n  // åˆ›å»ºè¡¨æƒ…ç½‘æ ¼å®¹å™¨\r\n  const emojiGrid = document.createElement('div')\r\n  emojiGrid.className = 'editor-emoji-grid'\r\n\r\n  // åˆ›å»ºåˆ†ç±»æŒ‰é’®\r\n  let activeTab: HTMLElement | null = null\r\n\r\n  Object.entries(EMOJI_CATEGORIES).forEach(([key, category], index) => {\r\n    const tab = document.createElement('button')\r\n    tab.type = 'button'\r\n    tab.textContent = category.name\r\n    tab.className = 'editor-dropdown-tab'\r\n\r\n    if (index === 0) {\r\n      tab.classList.add('active')\r\n      activeTab = tab\r\n      // é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€ä¸ªåˆ†ç±»\r\n      showEmojiCategory(category.emojis, emojiGrid, customContent, onSelect)\r\n    }\r\n\r\n    tab.addEventListener('click', () => {\r\n      // æ›´æ–°é€‰ä¸­çŠ¶æ€\r\n      if (activeTab)\r\n        activeTab.classList.remove('active')\r\n\r\n      tab.classList.add('active')\r\n      activeTab = tab\r\n\r\n      // æ˜¾ç¤ºå¯¹åº”åˆ†ç±»çš„è¡¨æƒ…\r\n      showEmojiCategory(category.emojis, emojiGrid, customContent, onSelect)\r\n    })\r\n\r\n    tabs.appendChild(tab)\r\n  })\r\n\r\n  customContent.appendChild(tabs)\r\n  customContent.appendChild(emojiGrid)\r\n\r\n  // æ˜¾ç¤ºä¸‹æ‹‰æ¡†\r\n  showDropdown(button, {\r\n    customContent,\r\n    width: 380,\r\n    maxHeight: 320,\r\n  })\r\n}\r\n\r\n/**\r\n * æ˜¾ç¤ºè¡¨æƒ…åˆ†ç±»\r\n */\r\nfunction showEmojiCategory(\r\n  emojis: string[],\r\n  container: HTMLElement,\r\n  dropdownContent: HTMLElement,\r\n  onSelect: (emoji: string) => void,\r\n): void {\r\n  container.innerHTML = ''\r\n\r\n  emojis.forEach((emoji) => {\r\n    const emojiButton = document.createElement('button')\r\n    emojiButton.type = 'button'\r\n    emojiButton.className = 'editor-emoji-item'\r\n    emojiButton.textContent = emoji\r\n\r\n    emojiButton.addEventListener('mousedown', (e) => {\r\n      e.preventDefault()\r\n    })\r\n\r\n    emojiButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n\r\n      const dropdown = dropdownContent.closest('.editor-dropdown')\r\n      if (dropdown) {\r\n        dropdown.classList.add('closing')\r\n        setTimeout(() => {\r\n          onSelect(emoji)\r\n          dropdown.remove()\r\n        }, 150)\r\n      }\r\n    })\r\n\r\n    container.appendChild(emojiButton)\r\n  })\r\n}\r\n\r\n/**\r\n * HEX è½¬ RGB\r\n */\r\nfunction hexToRgb(hex: string): { r: number, g: number, b: number } | null {\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\r\n  return result\r\n    ? {\r\n      r: Number.parseInt(result[1], 16),\r\n      g: Number.parseInt(result[2], 16),\r\n      b: Number.parseInt(result[3], 16),\r\n    }\r\n    : null\r\n}\r\n"],"names":["EMOJI_CATEGORIES","smileys","name","emojis","gestures","hearts","animals","food","showColorDropdown","button","onSelect","includeCustom","title","colorOptions","PRESET_COLORS","slice","map","color","label","value","customContent","document","createElement","style","cssText","titleElement","className","textContent","appendChild","colorGrid","forEach","colorButton","type","backgroundColor","rgb","hexToRgb","r","g","b","border","addEventListener","e","preventDefault","stopPropagation","dropdown","closest","classList","add","setTimeout","remove","customSection","inputGroup","hexInput","placeholder","maxLength","applyButton","trim","test","borderColor","showDropdown","width","maxHeight","options","showEmojiDropdown","tabs","emojiGrid","activeTab","Object","entries","key","category","index","tab","showEmojiCategory","container","dropdownContent","innerHTML","emoji","emojiButton","hex","result","exec","Number","parseInt"],"mappings":"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"}