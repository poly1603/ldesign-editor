{"version":3,"file":"PluginMarketPanel.cjs","sources":["../../src/ui/PluginMarketPanel.ts"],"sourcesContent":["/**\r\n * Êèí‰ª∂Â∏ÇÂú∫Èù¢Êùø\r\n * ÂèØËßÜÂåñÊµèËßàÂíåÂÆâË£ÖÊèí‰ª∂\r\n */\r\n\r\nimport type { MarketplacePlugin } from '../marketplace/PluginMarket'\r\nimport { getPluginMarket } from '../marketplace/PluginMarket'\r\nimport { ui } from '../utils/simplify'\r\nimport { getComponentFactory } from './base/ComponentFactory'\r\nimport { Modal } from './base/Modal'\r\n\r\n/**\r\n * Êèí‰ª∂Â∏ÇÂú∫Èù¢ÊùøÁ±ª\r\n */\r\nexport class PluginMarketPanel {\r\n  private market = getPluginMarket()\r\n  private componentFactory = getComponentFactory()\r\n  private modal: Modal | null = null\r\n  private currentView: 'featured' | 'popular' | 'installed' | 'search' = 'featured'\r\n  private searchQuery: string = ''\r\n\r\n  /**\r\n   * ÊòæÁ§∫Â∏ÇÂú∫Èù¢Êùø\r\n   */\r\n  show(): void {\r\n    this.modal = new Modal({\r\n      title: 'Êèí‰ª∂Â∏ÇÂú∫',\r\n      width: 900,\r\n      height: 600,\r\n    })\r\n\r\n    const content = this.createContent()\r\n    this.modal.setContent(content)\r\n    this.modal.show()\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫ÂÜÖÂÆπ\r\n   */\r\n  private createContent(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = `\r\n      display: grid;\r\n      grid-template-columns: 200px 1fr;\r\n      height: 100%;\r\n    `\r\n\r\n    // ‰æßËæπÊ†è\r\n    const sidebar = this.createSidebar()\r\n    container.appendChild(sidebar)\r\n\r\n    // ‰∏ªÂÜÖÂÆπÂå∫\r\n    const main = this.createMain()\r\n    container.appendChild(main)\r\n\r\n    return container\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫‰æßËæπÊ†è\r\n   */\r\n  private createSidebar(): HTMLElement {\r\n    const sidebar = document.createElement('div')\r\n    sidebar.className = 'market-sidebar'\r\n    sidebar.style.cssText = `\r\n      border-right: 1px solid var(--editor-color-border, #e5e7eb);\r\n      padding: 16px;\r\n    `\r\n\r\n    const menuItems = [\r\n      { id: 'featured', label: 'üåü Á≤æÈÄâ', view: 'featured' as const },\r\n      { id: 'popular', label: 'üî• ÁÉ≠Èó®', view: 'popular' as const },\r\n      { id: 'installed', label: 'üì¶ Â∑≤ÂÆâË£Ö', view: 'installed' as const },\r\n    ]\r\n\r\n    menuItems.forEach((item) => {\r\n      const menuItem = document.createElement('div')\r\n      menuItem.className = 'menu-item'\r\n      menuItem.textContent = item.label\r\n      menuItem.style.cssText = `\r\n        padding: 12px;\r\n        cursor: pointer;\r\n        border-radius: 6px;\r\n        margin-bottom: 4px;\r\n        transition: all 0.2s;\r\n        ${this.currentView === item.view ? 'background: var(--editor-color-primary, #3b82f6); color: white;' : ''}\r\n      `\r\n\r\n      menuItem.addEventListener('click', () => {\r\n        this.currentView = item.view\r\n        this.refreshMain()\r\n      })\r\n\r\n      sidebar.appendChild(menuItem)\r\n    })\r\n\r\n    // ÁªüËÆ°‰ø°ÊÅØ\r\n    const stats = this.market.getStats()\r\n    const statsEl = document.createElement('div')\r\n    statsEl.style.cssText = `\r\n      margin-top: 20px;\r\n      padding: 12px;\r\n      background: var(--editor-color-background-paper, #f9fafb);\r\n      border-radius: 6px;\r\n      font-size: 12px;\r\n    `\r\n    statsEl.innerHTML = `\r\n      <div style=\"margin-bottom: 4px;\">ÊÄªÊèí‰ª∂: ${stats.total}</div>\r\n      <div style=\"margin-bottom: 4px;\">Â∑≤ÂÆâË£Ö: ${stats.installed}</div>\r\n      <div>ÂèØÁî®: ${stats.available}</div>\r\n    `\r\n    sidebar.appendChild(statsEl)\r\n\r\n    return sidebar\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫‰∏ªÂÜÖÂÆπÂå∫\r\n   */\r\n  private createMain(): HTMLElement {\r\n    const main = document.createElement('div')\r\n    main.id = 'market-main'\r\n    main.className = 'market-main'\r\n    main.style.cssText = `\r\n      padding: 20px;\r\n      overflow-y: auto;\r\n    `\r\n\r\n    // ÊêúÁ¥¢Ê°Ü\r\n    const searchBox = this.componentFactory.createInput({\r\n      placeholder: 'ÊêúÁ¥¢Êèí‰ª∂...',\r\n      onChange: (value) => {\r\n        this.searchQuery = value\r\n        if (value)\r\n          this.currentView = 'search'\r\n\r\n        this.refreshMain()\r\n      },\r\n    })\r\n    main.appendChild(searchBox)\r\n\r\n    // Êèí‰ª∂ÂàóË°®ÂÆπÂô®\r\n    const listContainer = document.createElement('div')\r\n    listContainer.id = 'plugin-list'\r\n    listContainer.style.cssText = 'margin-top: 20px;'\r\n    main.appendChild(listContainer)\r\n\r\n    this.renderPluginList(listContainer)\r\n\r\n    return main\r\n  }\r\n\r\n  /**\r\n   * Ê∏≤ÊüìÊèí‰ª∂ÂàóË°®\r\n   */\r\n  private renderPluginList(container: HTMLElement): void {\r\n    container.innerHTML = ''\r\n\r\n    let plugins: MarketplacePlugin[] = []\r\n\r\n    switch (this.currentView) {\r\n      case 'featured':\r\n        plugins = this.market.getRecommended()\r\n        break\r\n      case 'popular':\r\n        plugins = this.market.getPopular()\r\n        break\r\n      case 'installed':\r\n        plugins = this.market.getInstalled()\r\n        break\r\n      case 'search':\r\n        plugins = this.market.search(this.searchQuery)\r\n        break\r\n    }\r\n\r\n    if (plugins.length === 0) {\r\n      container.innerHTML = '<p style=\"text-align: center; color: #6b7280; padding: 40px;\">ÊöÇÊó†Êèí‰ª∂</p>'\r\n      return\r\n    }\r\n\r\n    plugins.forEach((plugin) => {\r\n      const card = this.createPluginCard(plugin)\r\n      container.appendChild(card)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫Êèí‰ª∂Âç°Áâá\r\n   */\r\n  private createPluginCard(plugin: MarketplacePlugin): HTMLElement {\r\n    const card = document.createElement('div')\r\n    card.className = 'plugin-card'\r\n    card.style.cssText = `\r\n      border: 1px solid var(--editor-color-border, #e5e7eb);\r\n      border-radius: 8px;\r\n      padding: 16px;\r\n      margin-bottom: 12px;\r\n      transition: all 0.2s;\r\n    `\r\n\r\n    card.addEventListener('mouseenter', () => {\r\n      card.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)'\r\n      card.style.borderColor = 'var(--editor-color-primary, #3b82f6)'\r\n    })\r\n\r\n    card.addEventListener('mouseleave', () => {\r\n      card.style.boxShadow = 'none'\r\n      card.style.borderColor = 'var(--editor-color-border, #e5e7eb)'\r\n    })\r\n\r\n    const isInstalled = this.market.isInstalled(plugin.id)\r\n\r\n    card.innerHTML = `\r\n      <div style=\"display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;\">\r\n        <div style=\"flex: 1;\">\r\n          <div style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 4px;\">\r\n            <span style=\"font-size: 24px;\">${plugin.icon || 'üîå'}</span>\r\n            <h3 style=\"font-size: 18px; font-weight: 600; margin: 0;\">${plugin.name}</h3>\r\n            <span style=\"font-size: 12px; color: #6b7280;\">v${plugin.version}</span>\r\n          </div>\r\n          <div style=\"font-size: 14px; color: #6b7280; margin-bottom: 8px;\">${plugin.description}</div>\r\n          <div style=\"display: flex; gap: 16px; font-size: 12px; color: #9ca3af;\">\r\n            <span>‚≠ê ${plugin.rating.toFixed(1)}</span>\r\n            <span>üì• ${plugin.downloads}</span>\r\n            <span>üì¶ ${plugin.size}KB</span>\r\n            <span>üë§ ${plugin.author}</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"btn-${plugin.id}\"></div>\r\n      </div>\r\n      <div style=\"display: flex; gap: 4px; flex-wrap: wrap;\">\r\n        ${plugin.tags.map(tag => `\r\n          <span style=\"padding: 2px 8px; background: #f3f4f6; border-radius: 3px; font-size: 11px; color: #6b7280;\">\r\n            ${tag}\r\n          </span>\r\n        `).join('')}\r\n      </div>\r\n    `\r\n\r\n    // Ê∑ªÂä†ÂÆâË£Ö/Âç∏ËΩΩÊåâÈíÆ\r\n    const btnContainer = card.querySelector(`#btn-${plugin.id}`)\r\n    if (btnContainer) {\r\n      if (isInstalled) {\r\n        const uninstallBtn = this.componentFactory.createButton({\r\n          label: 'Âç∏ËΩΩ',\r\n          type: 'secondary',\r\n          size: 'small',\r\n          onClick: () => this.uninstallPlugin(plugin.id),\r\n        })\r\n        btnContainer.appendChild(uninstallBtn)\r\n      }\r\n      else {\r\n        const installBtn = this.componentFactory.createButton({\r\n          label: 'ÂÆâË£Ö',\r\n          type: 'primary',\r\n          size: 'small',\r\n          onClick: () => this.installPlugin(plugin.id),\r\n        })\r\n        btnContainer.appendChild(installBtn)\r\n      }\r\n    }\r\n\r\n    return card\r\n  }\r\n\r\n  /**\r\n   * ÂÆâË£ÖÊèí‰ª∂\r\n   */\r\n  private async installPlugin(pluginId: string): Promise<void> {\r\n    try {\r\n      ui.toast('Ê≠£Âú®ÂÆâË£Ö...', 'info')\r\n      await this.market.install(pluginId)\r\n      ui.toast('ÂÆâË£ÖÊàêÂäüÔºÅ', 'success')\r\n      this.refreshMain()\r\n    }\r\n    catch (error) {\r\n      ui.toast(`ÂÆâË£ÖÂ§±Ë¥•Ôºö${(error as Error).message}`, 'error')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Âç∏ËΩΩÊèí‰ª∂\r\n   */\r\n  private async uninstallPlugin(pluginId: string): Promise<void> {\r\n    if (!confirm('Á°ÆÂÆöË¶ÅÂç∏ËΩΩËøô‰∏™Êèí‰ª∂ÂêóÔºü'))\r\n      return\r\n\r\n    try {\r\n      await this.market.uninstall(pluginId)\r\n      ui.toast('Âç∏ËΩΩÊàêÂäüÔºÅ', 'success')\r\n      this.refreshMain()\r\n    }\r\n    catch (error) {\r\n      ui.toast(`Âç∏ËΩΩÂ§±Ë¥•Ôºö${(error as Error).message}`, 'error')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Âà∑Êñ∞‰∏ªÂÜÖÂÆπÂå∫\r\n   */\r\n  private refreshMain(): void {\r\n    const listContainer = document.getElementById('plugin-list')\r\n    if (listContainer)\r\n      this.renderPluginList(listContainer)\r\n  }\r\n}\r\n\r\n/**\r\n * ÊòæÁ§∫Êèí‰ª∂Â∏ÇÂú∫\r\n */\r\nexport function showPluginMarket(): PluginMarketPanel {\r\n  const panel = new PluginMarketPanel()\r\n  panel.show()\r\n  return panel\r\n}\r\n"],"names":["PluginMarketPanel","market","getPluginMarket","componentFactory","getComponentFactory","modal","currentView","searchQuery","show","Modal","title","width","height","content","createContent","setContent","container","document","createElement","style","cssText","sidebar","createSidebar","appendChild","main","createMain","className","menuItems","id","label","view","forEach","item","menuItem","textContent","addEventListener","refreshMain","stats","getStats","statsEl","innerHTML","total","installed","available","searchBox","createInput","placeholder","onChange","value","listContainer","renderPluginList","plugins","getRecommended","getPopular","getInstalled","search","length","plugin","card","createPluginCard","boxShadow","borderColor","isInstalled","icon","name","version","description","rating","toFixed","downloads","size","author","tags","map","tag","join","btnContainer","querySelector","uninstallBtn","createButton","type","onClick","uninstallPlugin","installBtn","installPlugin","pluginId","ui","toast","install","error","message","confirm","uninstall","getElementById","showPluginMarket","panel"],"mappings":"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"}