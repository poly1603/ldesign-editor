{"version":3,"file":"ContextMenuSystem.cjs","sources":["../../src/ui/ContextMenuSystem.ts"],"sourcesContent":["/**\r\n * 通用多层右键菜单系统\r\n * 支持无限层级、动态菜单项、快捷键、图标、分隔符等功能\r\n */\r\n\r\nimport { getLucideIcon } from '../ui/icons/lucide'\r\n\r\nexport interface MenuItem {\r\n  id?: string\r\n  label?: string\r\n  icon?: string\r\n  shortcut?: string\r\n  action?: (context?: any) => void\r\n  submenu?: MenuItem[]\r\n  divider?: boolean\r\n  disabled?: boolean | ((context?: any) => boolean)\r\n  visible?: boolean | ((context?: any) => boolean)\r\n  checked?: boolean | ((context?: any) => boolean)\r\n  type?: 'normal' | 'checkbox' | 'radio'\r\n  group?: string // 用于radio类型的分组\r\n  className?: string\r\n  tooltip?: string\r\n}\r\n\r\nexport interface ContextMenuOptions {\r\n  items: MenuItem[]\r\n  context?: any\r\n  onBeforeShow?: (menu: ContextMenuSystem) => void\r\n  onAfterShow?: (menu: ContextMenuSystem) => void\r\n  onBeforeHide?: (menu: ContextMenuSystem) => void\r\n  onAfterHide?: (menu: ContextMenuSystem) => void\r\n  theme?: 'light' | 'dark'\r\n  animation?: boolean\r\n  maxHeight?: number\r\n  minWidth?: number\r\n  zIndex?: number\r\n}\r\n\r\nexport class ContextMenuSystem {\r\n  private container: HTMLDivElement\r\n  private options: ContextMenuOptions\r\n  private visible = false\r\n  private submenuMap = new Map<HTMLElement, HTMLDivElement>()\r\n  private activeSubmenus: HTMLDivElement[] = []\r\n  private hideTimeouts = new Map<HTMLElement, number>()\r\n\r\n  constructor(options: ContextMenuOptions) {\r\n    this.options = {\r\n      theme: 'light',\r\n      animation: true,\r\n      maxHeight: window.innerHeight * 0.7,\r\n      minWidth: 200,\r\n      zIndex: 10000,\r\n      ...options,\r\n    }\r\n\r\n    this.container = this.createContainer()\r\n    this.attachEventListeners()\r\n  }\r\n\r\n  private createContainer(): HTMLDivElement {\r\n    const container = document.createElement('div')\r\n    container.className = `context-menu-system context-menu-${this.options.theme}`\r\n    container.style.cssText = `\r\n      position: fixed;\r\n      display: none;\r\n      z-index: ${this.options.zIndex};\r\n      min-width: ${this.options.minWidth}px;\r\n      max-height: ${this.options.maxHeight}px;\r\n      overflow-y: auto;\r\n      background: var(--menu-bg, #ffffff);\r\n      border: 1px solid var(--menu-border, #e5e7eb);\r\n      border-radius: 8px;\r\n      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n      padding: 4px;\r\n      font-size: 14px;\r\n      color: var(--menu-text, #374151);\r\n      user-select: none;\r\n      backdrop-filter: blur(10px);\r\n      ${this.options.animation ? 'transition: opacity 0.15s, transform 0.15s;' : ''}\r\n    `\r\n\r\n    document.body.appendChild(container)\r\n    return container\r\n  }\r\n\r\n  private attachEventListeners(): void {\r\n    // 点击其他地方关闭菜单\r\n    document.addEventListener('mousedown', (e) => {\r\n      if (!this.visible)\r\n        return\r\n\r\n      const target = e.target as HTMLElement\r\n      if (!this.container.contains(target)\r\n        && !Array.from(this.submenuMap.values()).some(submenu => submenu.contains(target))) \r\n        this.hide()\r\n\r\n    })\r\n\r\n    // ESC键关闭菜单\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.visible)\r\n        this.hide()\r\n    })\r\n\r\n    // 滚动时处理菜单\r\n    let scrollTimeout: number | null = null\r\n    document.addEventListener('scroll', (e) => {\r\n      if (!this.visible)\r\n        return\r\n\r\n      // 如果是菜单内部的滚动，不关闭\r\n      const target = e.target as HTMLElement\r\n      if (this.container.contains(target)\r\n        || Array.from(this.submenuMap.values()).some(submenu => submenu.contains(target))) \r\n        return\r\n\r\n\r\n      // 延迟关闭，避免误触\r\n      if (scrollTimeout)\r\n        clearTimeout(scrollTimeout)\r\n      scrollTimeout = window.setTimeout(() => {\r\n        // 只有大幅滚动才关闭菜单\r\n        if (this.visible) {\r\n          const rect = this.container.getBoundingClientRect()\r\n          // 如果菜单还在视口内，不关闭\r\n          if (rect.top >= -rect.height && rect.bottom <= window.innerHeight + rect.height)\r\n            return\r\n\r\n          this.hide()\r\n        }\r\n      }, 300)\r\n    }, true)\r\n\r\n    // 窗口大小改变时关闭菜单\r\n    window.addEventListener('resize', () => {\r\n      if (this.visible)\r\n        this.hide()\r\n    })\r\n  }\r\n\r\n  public show(x: number, y: number, context?: any): void {\r\n    if (this.visible)\r\n      this.hide()\r\n\r\n    // 更新上下文\r\n    if (context !== undefined)\r\n      this.options.context = context\r\n\r\n    // 触发显示前回调\r\n    this.options.onBeforeShow?.(this)\r\n\r\n    // 渲染菜单内容\r\n    this.render()\r\n\r\n    // 显示菜单\r\n    this.container.style.display = 'block'\r\n\r\n    if (this.options.animation) {\r\n      this.container.style.opacity = '0'\r\n      this.container.style.transform = 'scale(0.95)'\r\n    }\r\n\r\n    // 计算位置\r\n    requestAnimationFrame(() => {\r\n      const rect = this.container.getBoundingClientRect()\r\n      const windowWidth = window.innerWidth\r\n      const windowHeight = window.innerHeight\r\n      const padding = 10\r\n\r\n      let posX = x\r\n      let posY = y\r\n\r\n      // 水平位置调整\r\n      if (x + rect.width + padding > windowWidth)\r\n        posX = Math.max(padding, x - rect.width)\r\n\r\n      // 垂直位置调整\r\n      if (y + rect.height + padding > windowHeight)\r\n        posY = Math.max(padding, windowHeight - rect.height - padding)\r\n\r\n      this.container.style.left = `${posX}px`\r\n      this.container.style.top = `${posY}px`\r\n\r\n      if (this.options.animation) {\r\n        this.container.style.opacity = '1'\r\n        this.container.style.transform = 'scale(1)'\r\n      }\r\n\r\n      this.visible = true\r\n\r\n      // 触发显示后回调\r\n      this.options.onAfterShow?.(this)\r\n    })\r\n  }\r\n\r\n  public hide(): void {\r\n    if (!this.visible)\r\n      return\r\n\r\n    // 触发隐藏前回调\r\n    this.options.onBeforeHide?.(this)\r\n\r\n    // 清理所有子菜单\r\n    this.cleanupSubmenus()\r\n\r\n    // 隐藏主菜单\r\n    if (this.options.animation) {\r\n      this.container.style.opacity = '0'\r\n      this.container.style.transform = 'scale(0.95)'\r\n\r\n      setTimeout(() => {\r\n        this.container.style.display = 'none'\r\n        this.container.innerHTML = ''\r\n      }, 150)\r\n    }\r\n    else {\r\n      this.container.style.display = 'none'\r\n      this.container.innerHTML = ''\r\n    }\r\n\r\n    this.visible = false\r\n\r\n    // 触发隐藏后回调\r\n    this.options.onAfterHide?.(this)\r\n  }\r\n\r\n  private cleanupSubmenus(): void {\r\n    // 清除所有定时器\r\n    this.hideTimeouts.forEach(timeout => clearTimeout(timeout))\r\n    this.hideTimeouts.clear()\r\n\r\n    // 移除所有子菜单\r\n    this.submenuMap.forEach((submenu) => {\r\n      if (document.body.contains(submenu))\r\n        document.body.removeChild(submenu)\r\n    })\r\n    this.submenuMap.clear()\r\n    this.activeSubmenus = []\r\n  }\r\n\r\n  private render(): void {\r\n    this.container.innerHTML = ''\r\n    this.renderItems(this.options.items, this.container)\r\n  }\r\n\r\n  private renderItems(items: MenuItem[], container: HTMLElement): void {\r\n    items.forEach((item) => {\r\n      // 检查可见性\r\n      if (item.visible !== undefined) {\r\n        const isVisible = typeof item.visible === 'function'\r\n          ? item.visible(this.options.context)\r\n          : item.visible\r\n        if (!isVisible)\r\n          return\r\n      }\r\n\r\n      if (item.divider)\r\n        this.renderDivider(container)\r\n      else\r\n        this.renderMenuItem(item, container)\r\n    })\r\n  }\r\n\r\n  private renderDivider(container: HTMLElement): void {\r\n    const divider = document.createElement('div')\r\n    divider.className = 'context-menu-divider'\r\n    divider.style.cssText = `\r\n      height: 1px;\r\n      background: var(--menu-divider, #e5e7eb);\r\n      margin: 4px 0;\r\n    `\r\n    container.appendChild(divider)\r\n  }\r\n\r\n  private renderMenuItem(item: MenuItem, container: HTMLElement): void {\r\n    const menuItem = document.createElement('div')\r\n    menuItem.className = 'context-menu-item'\r\n\r\n    // 检查禁用状态\r\n    const isDisabled = typeof item.disabled === 'function'\r\n      ? item.disabled(this.options.context)\r\n      : item.disabled\r\n\r\n    if (isDisabled)\r\n      menuItem.classList.add('disabled')\r\n\r\n    if (item.className)\r\n      menuItem.classList.add(...item.className.split(' '))\r\n\r\n    menuItem.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 6px 12px;\r\n      border-radius: 4px;\r\n      cursor: ${isDisabled ? 'not-allowed' : 'pointer'};\r\n      opacity: ${isDisabled ? '0.5' : '1'};\r\n      position: relative;\r\n      min-height: 32px;\r\n      transition: background-color 0.15s;\r\n    `\r\n\r\n    // 添加悬停效果\r\n    if (!isDisabled) {\r\n      menuItem.addEventListener('mouseenter', () => {\r\n        menuItem.style.backgroundColor = 'var(--menu-hover, #f3f4f6)'\r\n      })\r\n\r\n      menuItem.addEventListener('mouseleave', () => {\r\n        menuItem.style.backgroundColor = 'transparent'\r\n      })\r\n    }\r\n\r\n    // 复选框或单选框\r\n    if (item.type === 'checkbox' || item.type === 'radio') {\r\n      const checked = typeof item.checked === 'function'\r\n        ? item.checked(this.options.context)\r\n        : item.checked\r\n\r\n      const checkIcon = document.createElement('span')\r\n      checkIcon.className = 'context-menu-check'\r\n      checkIcon.style.cssText = `\r\n        width: 16px;\r\n        height: 16px;\r\n        margin-right: 8px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n      `\r\n\r\n      if (checked) {\r\n        checkIcon.innerHTML = item.type === 'radio'\r\n          ? getLucideIcon('circle')\r\n          : getLucideIcon('check')\r\n      }\r\n\r\n      menuItem.appendChild(checkIcon)\r\n    }\r\n\r\n    // 图标\r\n    if (item.icon) {\r\n      const icon = document.createElement('span')\r\n      icon.className = 'context-menu-icon'\r\n      icon.style.cssText = `\r\n        width: 16px;\r\n        height: 16px;\r\n        margin-right: 8px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-shrink: 0;\r\n      `\r\n      icon.innerHTML = item.icon\r\n      menuItem.appendChild(icon)\r\n    }\r\n\r\n    // 标签\r\n    if (item.label) {\r\n      const label = document.createElement('span')\r\n      label.className = 'context-menu-label'\r\n      label.style.cssText = `\r\n        flex: 1;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      `\r\n      label.textContent = item.label\r\n      menuItem.appendChild(label)\r\n    }\r\n\r\n    // 快捷键\r\n    if (item.shortcut) {\r\n      const shortcut = document.createElement('span')\r\n      shortcut.className = 'context-menu-shortcut'\r\n      shortcut.style.cssText = `\r\n        margin-left: 20px;\r\n        font-size: 12px;\r\n        color: var(--menu-muted, #9ca3af);\r\n      `\r\n      shortcut.textContent = item.shortcut\r\n      menuItem.appendChild(shortcut)\r\n    }\r\n\r\n    // 子菜单箭头\r\n    if (item.submenu && item.submenu.length > 0) {\r\n      const arrow = document.createElement('span')\r\n      arrow.className = 'context-menu-arrow'\r\n      arrow.style.cssText = `\r\n        width: 16px;\r\n        height: 16px;\r\n        margin-left: auto;\r\n        padding-left: 8px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n      `\r\n      arrow.innerHTML = getLucideIcon('chevronRight')\r\n      menuItem.appendChild(arrow)\r\n\r\n      // 创建子菜单\r\n      if (!isDisabled)\r\n        this.setupSubmenu(menuItem, item.submenu)\r\n    }\r\n\r\n    // 提示信息\r\n    if (item.tooltip)\r\n      menuItem.title = item.tooltip\r\n\r\n    // 点击事件\r\n    if (item.action && !isDisabled && !item.submenu) {\r\n      menuItem.addEventListener('click', (e) => {\r\n        e.stopPropagation()\r\n        item.action!(this.options.context)\r\n        this.hide()\r\n      })\r\n    }\r\n\r\n    container.appendChild(menuItem)\r\n  }\r\n\r\n  private setupSubmenu(parentItem: HTMLElement, items: MenuItem[]): void {\r\n    const submenu = this.createSubmenu(items)\r\n    this.submenuMap.set(parentItem, submenu)\r\n\r\n    let hideTimeout: number | null = null\r\n\r\n    parentItem.addEventListener('mouseenter', () => {\r\n      // 清除隐藏定时器\r\n      if (hideTimeout) {\r\n        clearTimeout(hideTimeout)\r\n        hideTimeout = null\r\n      }\r\n\r\n      // 隐藏其他同级子菜单\r\n      this.activeSubmenus.forEach((s) => {\r\n        if (s !== submenu)\r\n          s.style.display = 'none'\r\n      })\r\n\r\n      // 显示子菜单\r\n      submenu.style.display = 'block'\r\n\r\n      // 定位子菜单\r\n      const itemRect = parentItem.getBoundingClientRect()\r\n      const submenuRect = submenu.getBoundingClientRect()\r\n      const windowWidth = window.innerWidth\r\n      const windowHeight = window.innerHeight\r\n\r\n      let left = itemRect.right - 4\r\n      let top = itemRect.top\r\n\r\n      // 水平位置调整\r\n      if (left + submenuRect.width > windowWidth - 10)\r\n        left = itemRect.left - submenuRect.width + 4\r\n\r\n      // 垂直位置调整\r\n      if (top + submenuRect.height > windowHeight - 10)\r\n        top = Math.max(10, windowHeight - submenuRect.height - 10)\r\n\r\n      submenu.style.left = `${left}px`\r\n      submenu.style.top = `${top}px`\r\n\r\n      if (this.options.animation) {\r\n        submenu.style.opacity = '1'\r\n        submenu.style.transform = 'translateX(0)'\r\n      }\r\n\r\n      // 添加到活动子菜单列表\r\n      if (!this.activeSubmenus.includes(submenu))\r\n        this.activeSubmenus.push(submenu)\r\n    })\r\n\r\n    parentItem.addEventListener('mouseleave', (e) => {\r\n      const relatedTarget = e.relatedTarget as HTMLElement\r\n\r\n      if (relatedTarget && submenu.contains(relatedTarget))\r\n        return\r\n\r\n      hideTimeout = window.setTimeout(() => {\r\n        submenu.style.display = 'none'\r\n      }, 150)\r\n\r\n      this.hideTimeouts.set(parentItem, hideTimeout)\r\n    })\r\n\r\n    submenu.addEventListener('mouseenter', () => {\r\n      if (hideTimeout) {\r\n        clearTimeout(hideTimeout)\r\n        hideTimeout = null\r\n      }\r\n    })\r\n\r\n    submenu.addEventListener('mouseleave', (e) => {\r\n      const relatedTarget = e.relatedTarget as HTMLElement\r\n\r\n      if (relatedTarget && parentItem.contains(relatedTarget))\r\n        return\r\n\r\n      hideTimeout = window.setTimeout(() => {\r\n        submenu.style.display = 'none'\r\n      }, 150)\r\n\r\n      this.hideTimeouts.set(parentItem, hideTimeout)\r\n    })\r\n  }\r\n\r\n  private createSubmenu(items: MenuItem[]): HTMLDivElement {\r\n    const submenu = document.createElement('div')\r\n    submenu.className = `context-submenu context-menu-${this.options.theme}`\r\n    submenu.style.cssText = `\r\n      position: fixed;\r\n      display: none;\r\n      z-index: ${this.options.zIndex! + 1};\r\n      min-width: ${this.options.minWidth}px;\r\n      max-height: ${this.options.maxHeight}px;\r\n      overflow-y: auto;\r\n      background: var(--menu-bg, #ffffff);\r\n      border: 1px solid var(--menu-border, #e5e7eb);\r\n      border-radius: 8px;\r\n      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n      padding: 4px;\r\n      font-size: 14px;\r\n      color: var(--menu-text, #374151);\r\n      user-select: none;\r\n      backdrop-filter: blur(10px);\r\n      ${this.options.animation ? 'opacity: 0; transform: translateX(-10px); transition: opacity 0.15s, transform 0.15s;' : ''}\r\n    `\r\n\r\n    this.renderItems(items, submenu)\r\n    document.body.appendChild(submenu)\r\n\r\n    return submenu\r\n  }\r\n\r\n  // 公共方法：更新菜单项\r\n  public updateItems(items: MenuItem[]): void {\r\n    this.options.items = items\r\n    if (this.visible)\r\n      this.render()\r\n  }\r\n\r\n  // 公共方法：更新上下文\r\n  public updateContext(context: any): void {\r\n    this.options.context = context\r\n  }\r\n\r\n  // 公共方法：销毁菜单\r\n  public destroy(): void {\r\n    this.hide()\r\n    if (document.body.contains(this.container))\r\n      document.body.removeChild(this.container)\r\n  }\r\n}\r\n\r\n// 便捷函数：显示右键菜单\r\nexport function showContextMenu(e: MouseEvent, options: ContextMenuOptions): ContextMenuSystem {\r\n  e.preventDefault()\r\n  e.stopPropagation()\r\n\r\n  const menu = new ContextMenuSystem(options)\r\n  menu.show(e.clientX, e.clientY)\r\n\r\n  return menu\r\n}\r\n"],"names":["ContextMenuSystem","constructor","options","visible","submenuMap","Map","activeSubmenus","hideTimeouts","theme","animation","maxHeight","window","innerHeight","minWidth","zIndex","container","createContainer","attachEventListeners","document","createElement","className","style","cssText","body","appendChild","addEventListener","e","target","contains","Array","from","values","some","submenu","hide","key","scrollTimeout","clearTimeout","setTimeout","rect","getBoundingClientRect","top","height","bottom","show","x","y","context","undefined","onBeforeShow","render","display","opacity","transform","requestAnimationFrame","windowWidth","innerWidth","windowHeight","padding","posX","posY","width","Math","max","left","onAfterShow","onBeforeHide","cleanupSubmenus","innerHTML","onAfterHide","forEach","timeout","clear","removeChild","renderItems","items","item","isVisible","divider","renderDivider","renderMenuItem","menuItem","isDisabled","disabled","classList","add","split","backgroundColor","type","checked","checkIcon","getLucideIcon","icon","label","textContent","shortcut","length","arrow","setupSubmenu","tooltip","title","action","stopPropagation","parentItem","createSubmenu","set","hideTimeout","s","itemRect","submenuRect","right","includes","push","relatedTarget","updateItems","updateContext","destroy"],"mappings":"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"}