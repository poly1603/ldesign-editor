{"version":3,"file":"AIDialog.cjs","sources":["../../src/ui/AIDialog.ts"],"sourcesContent":["/**\r\n * 统一的AI对话框\r\n * 整合所有AI相关的对话框功能\r\n */\r\n\r\nimport { $, createElement as h } from '../utils/DOMUtils'\r\nimport { escapeHTML } from '../utils/StringUtils'\r\nimport { CommonStyles } from '../utils/StyleConstants'\r\nimport { showUnifiedDialog } from './UnifiedDialog'\r\n\r\nexport type AIDialogType = 'correct' | 'complete' | 'continue' | 'rewrite' | 'suggest'\r\n\r\ninterface AIDialogOptions {\r\n  type: AIDialogType\r\n  originalText?: string\r\n  onConfirm: (text: string) => void\r\n  onCancel?: () => void\r\n}\r\n\r\ninterface AIDialogHandle {\r\n  updateResult: (result: string, original?: string) => void\r\n  showError: (error: string) => void\r\n  close: () => void\r\n}\r\n\r\n/**\r\n * 显示AI对话框（支持加载状态）\r\n */\r\nexport function showAIDialog(options: AIDialogOptions): AIDialogHandle {\r\n  const { type, originalText = '', onConfirm, onCancel } = options\r\n\r\n  let currentTextarea: HTMLTextAreaElement | null = null\r\n  let dialogContent: HTMLElement | null = null\r\n\r\n  // 获取对话框标题\r\n  const getTitle = () => {\r\n    const titles = {\r\n      correct: 'AI 纠错',\r\n      complete: 'AI 补全',\r\n      continue: 'AI 续写',\r\n      rewrite: 'AI 重写',\r\n      suggest: 'AI 建议',\r\n    }\r\n    return titles[type] || 'AI 助手'\r\n  }\r\n\r\n  // 创建加载内容\r\n  const createLoadingContent = () => {\r\n    const content = h('div')\r\n    const messages = {\r\n      correct: 'AI 正在分析文本中的错误...',\r\n      complete: 'AI 正在生成补全内容...',\r\n      continue: 'AI 正在续写文本...',\r\n      rewrite: 'AI 正在重写文本...',\r\n      suggest: 'AI 正在生成建议...',\r\n    }\r\n\r\n    content.innerHTML = `\r\n      <div style=\"text-align: center; padding: 40px;\">\r\n        <div class=\"loading-spinner\" style=\"\r\n          display: inline-block;\r\n          width: 40px;\r\n          height: 40px;\r\n          border: 3px solid #f0f0f0;\r\n          border-top: 3px solid #409EFF;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        \"></div>\r\n        <p style=\"margin-top: 20px; color: #666; font-size: 14px;\">\r\n          ${messages[type]}\r\n        </p>\r\n        ${originalText\r\n          ? `\r\n          <div style=\"margin-top: 15px; padding: 15px; background: #f5f5f5; border-radius: 4px; text-align: left;\">\r\n            <strong style=\"color: #333;\">原文：</strong>\r\n            <p style=\"margin: 10px 0 0 0; color: #666; line-height: 1.5;\">\r\n              ${escapeHTML(originalText).substring(0, 200)}${originalText.length > 200 ? '...' : ''}\r\n            </p>\r\n          </div>\r\n        `\r\n          : ''}\r\n      </div>\r\n      <style>\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      </style>\r\n    `\r\n    return content\r\n  }\r\n\r\n  // 创建结果内容\r\n  const createResultContent = (result: string, original?: string) => {\r\n    const content = h('div', { style: 'max-height: 500px; overflow-y: auto;' })\r\n\r\n    // 纠错类型显示对比\r\n    if (type === 'correct' && original) {\r\n      const diffHTML = generateDiffHTML(original, result)\r\n      content.innerHTML = `\r\n        <p style=\"margin-bottom: 15px; color: #666; font-size: 14px;\">\r\n          AI 已完成纠错，<span style=\"color: #f56c6c; font-weight: bold;\">红色删除线</span>表示错误，\r\n          <span style=\"color: #67c23a; font-weight: bold;\">绿色</span>表示修正内容：\r\n        </p>\r\n        <div style=\"background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 4px; padding: 15px; margin-bottom: 15px;\">\r\n          <div style=\"line-height: 1.8; font-size: 14px;\">\r\n            ${diffHTML}\r\n          </div>\r\n        </div>\r\n      `\r\n    }\r\n    else {\r\n      // 其他类型直接显示结果\r\n      content.innerHTML = `\r\n        <p style=\"margin-bottom: 15px; color: #666; font-size: 14px;\">\r\n          AI 生成的内容如下，您可以编辑后确认使用：\r\n        </p>\r\n      `\r\n    }\r\n\r\n    // 添加文本编辑区\r\n    const textareaContainer = h('div', { style: 'margin-top: 15px' })\r\n    textareaContainer.style.marginTop = '15px'\r\n    textareaContainer.innerHTML = `\r\n      <p style=\"margin-bottom: 8px; font-size: 14px; color: #666;\">\r\n        ${type === 'correct' ? '纠正后的文本' : '生成的文本'}（可继续编辑）：\r\n      </p>\r\n    `\r\n\r\n    const textarea = h('textarea', {\r\n      value: result,\r\n      style: CommonStyles.textarea,\r\n    })\r\n    currentTextarea = textarea\r\n    textareaContainer.appendChild(textarea)\r\n    content.appendChild(textareaContainer)\r\n\r\n    return content\r\n  }\r\n\r\n  // 创建错误内容\r\n  const createErrorContent = (error: string) => {\r\n    const content = h('div')\r\n    content.innerHTML = `\r\n      <div style=\"text-align: center; padding: 30px;\">\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"#f56c6c\" style=\"margin-bottom: 15px;\">\r\n          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n        </svg>\r\n        <p style=\"color: #f56c6c; font-weight: bold; margin-bottom: 10px;\">操作失败</p>\r\n        <p style=\"color: #666; font-size: 14px;\">${escapeHTML(error)}</p>\r\n      </div>\r\n    `\r\n    return content\r\n  }\r\n\r\n  // 初始显示加载状态\r\n  dialogContent = createLoadingContent()\r\n\r\n  const dialogInstance = showUnifiedDialog({\r\n    title: getTitle(),\r\n    content: dialogContent,\r\n    showCancel: true,\r\n    confirmText: '等待中...',\r\n    cancelText: '取消',\r\n    width: type === 'correct' ? '700px' : '600px',\r\n    confirmDisabled: true,\r\n    onConfirm: () => {\r\n      if (currentTextarea) {\r\n        const text = currentTextarea.value.trim()\r\n        if (text)\r\n          onConfirm(text)\r\n      }\r\n    },\r\n    onCancel,\r\n  })\r\n\r\n  // 返回控制句柄\r\n  return {\r\n    updateResult: (result: string, original?: string) => {\r\n      const resultContent = createResultContent(result, original || originalText)\r\n\r\n      // 更新对话框内容\r\n      const dialogBody = $('.unified-dialog-body')\r\n      if (dialogBody) {\r\n        dialogBody.innerHTML = ''\r\n        dialogBody.appendChild(resultContent)\r\n      }\r\n\r\n      // 启用确认按钮\r\n      const confirmBtn = $('.unified-dialog-confirm') as HTMLButtonElement\r\n      if (confirmBtn) {\r\n        confirmBtn.textContent = type === 'correct' ? '应用纠正' : '使用'\r\n        confirmBtn.disabled = false\r\n      }\r\n\r\n      // 自动聚焦文本框\r\n      setTimeout(() => {\r\n        currentTextarea?.focus()\r\n      }, 100)\r\n    },\r\n\r\n    showError: (error: string) => {\r\n      const errorContent = createErrorContent(error)\r\n\r\n      const dialogBody = $('.unified-dialog-body')\r\n      if (dialogBody) {\r\n        dialogBody.innerHTML = ''\r\n        dialogBody.appendChild(errorContent)\r\n      }\r\n\r\n      const confirmBtn = $('.unified-dialog-confirm') as HTMLButtonElement\r\n      if (confirmBtn) {\r\n        confirmBtn.textContent = '关闭'\r\n        confirmBtn.disabled = false\r\n      }\r\n    },\r\n\r\n    close: () => {\r\n      const closeBtn = $('.unified-dialog-close') as HTMLElement\r\n      closeBtn?.click()\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 生成差异对比HTML（用于纠错显示）\r\n */\r\nfunction generateDiffHTML(original: string, corrected: string): string {\r\n  if (original === corrected)\r\n    return `<span style=\"color: #666;\">${escapeHTML(original)}</span>`\r\n\r\n  // 常见错误模式\r\n  const patterns = [\r\n    { from: /的地得/g, to: '的' },\r\n    { from: /在哪/g, to: '在那' },\r\n    { from: /因该/g, to: '应该' },\r\n    { from: /既使/g, to: '即使' },\r\n  ]\r\n\r\n  let html = escapeHTML(original)\r\n  let hasChanges = false\r\n\r\n  for (const pattern of patterns) {\r\n    if (pattern.from.test(original)) {\r\n      hasChanges = true\r\n      html = html.replace(pattern.from, (match) => {\r\n        return `<span style=\"text-decoration: line-through; color: #f56c6c; background: #ffe6e6; padding: 2px 4px; border-radius: 2px;\">${match}</span>\r\n        <span style=\"color: #67c23a; background: #e6ffe6; padding: 2px 4px; border-radius: 2px; font-weight: bold; margin-left: 5px;\">${pattern.to}</span>`\r\n      })\r\n    }\r\n  }\r\n\r\n  if (!hasChanges && original !== corrected) {\r\n    return `\r\n      <div><strong>原文：</strong> <span style=\"color: #999; text-decoration: line-through;\">${escapeHTML(original)}</span></div>\r\n      <div style=\"margin-top: 10px;\"><strong>纠正后：</strong> <span style=\"color: #67c23a;\">${escapeHTML(corrected)}</span></div>\r\n    `\r\n  }\r\n\r\n  return html\r\n}\r\n\r\n/**\r\n * AI模拟响应工具\r\n */\r\nexport const AIMockUtils = {\r\n  // 模拟纠错\r\n  mockCorrect: (text: string): string => {\r\n    return text\r\n      .replace(/的地得/g, '的')\r\n      .replace(/在哪/g, '在那')\r\n      .replace(/因该/g, '应该')\r\n      .replace(/既使/g, '即使')\r\n      .replace(/偶而/g, '偶尔')\r\n  },\r\n\r\n  // 模拟补全\r\n  mockComplete: (context: string): string => {\r\n    const completions = [\r\n      '的重要组成部分',\r\n      '具有重要意义',\r\n      '发挥着关键作用',\r\n      '产生了深远影响',\r\n    ]\r\n    return completions[Math.floor(Math.random() * completions.length)]\r\n  },\r\n\r\n  // 模拟续写\r\n  mockContinue: (context: string): string => {\r\n    return '\\n\\n这一创新性的解决方案不仅提高了效率，还带来了更好的用户体验。通过持续优化和改进，我们相信未来会有更大的发展空间。'\r\n  },\r\n\r\n  // 模拟重写\r\n  mockRewrite: (text: string): string => {\r\n    return `[优化后] ${text}\\n\\n此内容经过专业润色，语言更加精练，表达更加准确。`\r\n  },\r\n}\r\n"],"names":["showAIDialog","options","type","originalText","onConfirm","onCancel","currentTextarea","dialogContent","getTitle","titles","correct","complete","continue","rewrite","suggest","createLoadingContent","content","h","messages","innerHTML","escapeHTML","substring","length","createResultContent","result","original","style","diffHTML","generateDiffHTML","textareaContainer","marginTop","textarea","value","CommonStyles","appendChild","createErrorContent","error","showUnifiedDialog","title","showCancel","confirmText","cancelText","width","confirmDisabled","text","trim","updateResult","resultContent","dialogBody","$","confirmBtn","textContent","disabled","setTimeout","focus","showError","errorContent","close","closeBtn","click","corrected","patterns","from","to","html","hasChanges","pattern","test","replace","match","AIMockUtils","mockCorrect","mockComplete","context","completions","Math","floor","random","mockContinue","mockRewrite"],"mappings":"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"}