{"version":3,"file":"StringUtils.cjs","sources":["../../src/utils/StringUtils.ts"],"sourcesContent":["/**\r\n * 字符串工具函数\r\n * 统一管理字符串处理相关功能\r\n */\r\n\r\n/**\r\n * HTML转义\r\n */\r\nexport function escapeHTML(text: string): string {\r\n  const div = document.createElement('div')\r\n  div.textContent = text\r\n  return div.innerHTML\r\n}\r\n\r\n/**\r\n * HTML反转义\r\n */\r\nexport function unescapeHTML(html: string): string {\r\n  const div = document.createElement('div')\r\n  div.innerHTML = html\r\n  return div.textContent || ''\r\n}\r\n\r\n/**\r\n * 驼峰命名转换\r\n */\r\nexport function toCamelCase(str: string): string {\r\n  return str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase())\r\n}\r\n\r\n/**\r\n * 短横线命名转换\r\n */\r\nexport function toKebabCase(str: string): string {\r\n  return str.replace(/([A-Z])/g, '-$1').toLowerCase()\r\n}\r\n\r\n/**\r\n * 首字母大写\r\n */\r\nexport function capitalize(str: string): string {\r\n  return str.charAt(0).toUpperCase() + str.slice(1)\r\n}\r\n\r\n/**\r\n * 截断字符串\r\n */\r\nexport function truncate(str: string, length: number, suffix = '...'): string {\r\n  if (str.length <= length)\r\n    return str\r\n  return str.substring(0, length - suffix.length) + suffix\r\n}\r\n\r\n/**\r\n * 生成随机字符串\r\n */\r\nexport function randomString(length: number = 8, chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'): string {\r\n  let result = ''\r\n  for (let i = 0; i < length; i++)\r\n    result += chars.charAt(Math.floor(Math.random() * chars.length))\r\n\r\n  return result\r\n}\r\n\r\n/**\r\n * 格式化文件大小\r\n */\r\nexport function formatFileSize(bytes: number): string {\r\n  const units = ['B', 'KB', 'MB', 'GB', 'TB']\r\n  let index = 0\r\n  let size = bytes\r\n\r\n  while (size >= 1024 && index < units.length - 1) {\r\n    size /= 1024\r\n    index++\r\n  }\r\n\r\n  return `${size.toFixed(2)} ${units[index]}`\r\n}\r\n\r\n/**\r\n * 格式化时间\r\n */\r\nexport function formatTime(date: Date | number | string): string {\r\n  const d = new Date(date)\r\n  const year = d.getFullYear()\r\n  const month = String(d.getMonth() + 1).padStart(2, '0')\r\n  const day = String(d.getDate()).padStart(2, '0')\r\n  const hour = String(d.getHours()).padStart(2, '0')\r\n  const minute = String(d.getMinutes()).padStart(2, '0')\r\n  const second = String(d.getSeconds()).padStart(2, '0')\r\n\r\n  return `${year}-${month}-${day} ${hour}:${minute}:${second}`\r\n}\r\n\r\n/**\r\n * 生成UUID\r\n */\r\nexport function uuid(): string {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n    const r = Math.random() * 16 | 0\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\r\n    return v.toString(16)\r\n  })\r\n}\r\n\r\n/**\r\n * 判断是否为URL\r\n */\r\nexport function isURL(str: string): boolean {\r\n  try {\r\n    new URL(str)\r\n    return true\r\n  }\r\n  catch {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * 判断是否为Email\r\n */\r\nexport function isEmail(str: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@][^\\s.@]*\\.[^\\s@]+$/\r\n  return emailRegex.test(str)\r\n}\r\n\r\n/**\r\n * 清理空白字符\r\n */\r\nexport function cleanWhitespace(str: string): string {\r\n  return str.replace(/\\s+/g, ' ').trim()\r\n}\r\n\r\n/**\r\n * 计算字符串中文字符数\r\n */\r\nexport function countChineseChars(str: string): number {\r\n  const matches = str.match(/[\\u4E00-\\u9FA5]/g)\r\n  return matches ? matches.length : 0\r\n}\r\n\r\n/**\r\n * 计算字数（中文算一个，英文单词算一个）\r\n */\r\nexport function countWords(str: string): number {\r\n  // 统计中文字符\r\n  const chineseCount = countChineseChars(str)\r\n  // 移除中文字符后统计英文单词\r\n  const withoutChinese = str.replace(/[\\u4E00-\\u9FA5]/g, ' ')\r\n  const englishWords = withoutChinese.match(/\\b\\w+\\b/g)\r\n  const englishCount = englishWords ? englishWords.length : 0\r\n\r\n  return chineseCount + englishCount\r\n}\r\n"],"names":["escapeHTML","text","div","document","createElement","textContent","innerHTML"],"mappings":";;;;;;;;;;;AAQO,SAASA,WAAWC,IAAAA,EAAsB;AAC/C,EAAA,MAAMC,GAAAA,GAAMC,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACxCF,EAAAA,GAAAA,CAAIG,WAAAA,GAAcJ,IAAAA;AAClB,EAAA,OAAOC,GAAAA,CAAII,SAAAA;AACb;;;;;;;"}