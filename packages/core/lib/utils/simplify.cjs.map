{"version":3,"file":"simplify.cjs","sources":["../../src/utils/simplify.ts"],"sourcesContent":["/**\r\n * 代码简化工具\r\n * 提供更简洁的API，减少样板代码\r\n */\r\n\r\nimport type { Editor } from '../core/Editor'\r\nimport { getIconManager } from '../icons/IconManager'\r\n\r\n/**\r\n * DOM快捷操作\r\n */\r\nexport const $ = {\r\n  /**\r\n   * 创建元素\r\n   */\r\n  create<K extends keyof HTMLElementTagNameMap>(\r\n    tag: K,\r\n    props?: Partial<HTMLElementTagNameMap[K]> & { className?: string, style?: string, html?: string, text?: string },\r\n    children?: (HTMLElement | string)[],\r\n  ): HTMLElementTagNameMap[K] {\r\n    const el = document.createElement(tag)\r\n\r\n    if (props) {\r\n      Object.entries(props).forEach(([key, value]) => {\r\n        if (key === 'className')\r\n          el.className = value as string\r\n        else if (key === 'style' && typeof value === 'string')\r\n          el.style.cssText = value\r\n        else if (key === 'html')\r\n          el.innerHTML = value as string\r\n        else if (key === 'text')\r\n          el.textContent = value as string\r\n        else\r\n          (el as any)[key] = value\r\n      })\r\n    }\r\n\r\n    if (children) {\r\n      children.forEach((child) => {\r\n        if (typeof child === 'string')\r\n          el.appendChild(document.createTextNode(child))\r\n        else\r\n          el.appendChild(child)\r\n      })\r\n    }\r\n\r\n    return el\r\n  },\r\n\r\n  /**\r\n   * 选择元素\r\n   */\r\n  select<T extends HTMLElement = HTMLElement>(selector: string): T | null {\r\n    return document.querySelector(selector) as T | null\r\n  },\r\n\r\n  /**\r\n   * 选择所有元素\r\n   */\r\n  selectAll<T extends HTMLElement = HTMLElement>(selector: string): T[] {\r\n    return Array.from(document.querySelectorAll(selector)) as T[]\r\n  },\r\n\r\n  /**\r\n   * 添加样式\r\n   */\r\n  style(el: HTMLElement, styles: Partial<CSSStyleDeclaration> | string): void {\r\n    if (typeof styles === 'string')\r\n      el.style.cssText = styles\r\n    else\r\n      Object.assign(el.style, styles)\r\n  },\r\n\r\n  /**\r\n   * 添加类\r\n   */\r\n  addClass(el: HTMLElement, ...classes: string[]): void {\r\n    el.classList.add(...classes)\r\n  },\r\n\r\n  /**\r\n   * 移除类\r\n   */\r\n  removeClass(el: HTMLElement, ...classes: string[]): void {\r\n    el.classList.remove(...classes)\r\n  },\r\n\r\n  /**\r\n   * 切换类\r\n   */\r\n  toggleClass(el: HTMLElement, className: string, force?: boolean): void {\r\n    el.classList.toggle(className, force)\r\n  },\r\n\r\n  /**\r\n   * 移除元素\r\n   */\r\n  remove(el: HTMLElement): void {\r\n    el.remove()\r\n  },\r\n\r\n  /**\r\n   * 清空内容\r\n   */\r\n  empty(el: HTMLElement): void {\r\n    el.innerHTML = ''\r\n  },\r\n\r\n  /**\r\n   * 显示/隐藏\r\n   */\r\n  show(el: HTMLElement): void {\r\n    el.style.display = ''\r\n  },\r\n\r\n  hide(el: HTMLElement): void {\r\n    el.style.display = 'none'\r\n  },\r\n\r\n  toggle(el: HTMLElement): void {\r\n    el.style.display = el.style.display === 'none' ? '' : 'none'\r\n  },\r\n}\r\n\r\n/**\r\n * 事件快捷操作\r\n */\r\nexport const on = {\r\n  /**\r\n   * 绑定事件\r\n   */\r\n  click(el: HTMLElement, handler: (e: MouseEvent) => void): void {\r\n    el.addEventListener('click', handler)\r\n  },\r\n\r\n  change(el: HTMLElement, handler: (e: Event) => void): void {\r\n    el.addEventListener('change', handler)\r\n  },\r\n\r\n  input(el: HTMLElement, handler: (e: Event) => void): void {\r\n    el.addEventListener('input', handler)\r\n  },\r\n\r\n  keydown(el: HTMLElement, handler: (e: KeyboardEvent) => void): void {\r\n    el.addEventListener('keydown', handler)\r\n  },\r\n\r\n  /**\r\n   * 绑定一次性事件\r\n   */\r\n  once(el: HTMLElement, event: string, handler: EventListener): void {\r\n    el.addEventListener(event, handler, { once: true })\r\n  },\r\n\r\n  /**\r\n   * 解绑事件\r\n   */\r\n  off(el: HTMLElement, event: string, handler: EventListener): void {\r\n    el.removeEventListener(event, handler)\r\n  },\r\n}\r\n\r\n/**\r\n * 编辑器命令快捷操作\r\n */\r\nexport function cmd(editor: Editor) {\r\n  return {\r\n    /**\r\n     * 切换格式\r\n     */\r\n    toggle(format: string): boolean {\r\n      return editor.commands.execute(`toggle${capitalize(format)}`)\r\n    },\r\n\r\n    /**\r\n     * 插入内容\r\n     */\r\n    insert(type: string, data?: any): boolean {\r\n      return editor.commands.execute(`insert${capitalize(type)}`, data)\r\n    },\r\n\r\n    /**\r\n     * 设置格式\r\n     */\r\n    set(property: string, value: any): boolean {\r\n      return editor.commands.execute(`set${capitalize(property)}`, value)\r\n    },\r\n\r\n    /**\r\n     * 执行命令\r\n     */\r\n    exec(command: string, ...args: any[]): boolean {\r\n      return editor.commands.execute(command, ...args)\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * UI快捷操作\r\n */\r\nexport const ui = {\r\n  /**\r\n   * 创建按钮\r\n   */\r\n  button(text: string, onClick: () => void, icon?: string): HTMLButtonElement {\r\n    const btn = $.create('button', {\r\n      text,\r\n      className: 'btn',\r\n      style: `\r\n        padding: 8px 16px;\r\n        border: none;\r\n        border-radius: 6px;\r\n        background: var(--editor-color-primary, #3b82f6);\r\n        color: white;\r\n        cursor: pointer;\r\n        display: inline-flex;\r\n        align-items: center;\r\n        gap: 6px;\r\n      `,\r\n    })\r\n\r\n    if (icon) {\r\n      const iconEl = getIconManager().createIconElement(icon, { size: 16 })\r\n      btn.insertBefore(iconEl, btn.firstChild)\r\n    }\r\n\r\n    on.click(btn, onClick)\r\n\r\n    return btn\r\n  },\r\n\r\n  /**\r\n   * 创建输入框\r\n   */\r\n  input(placeholder: string, onChange?: (value: string) => void): HTMLInputElement {\r\n    const input = $.create('input', {\r\n      type: 'text',\r\n      placeholder,\r\n      className: 'input',\r\n      style: `\r\n        padding: 8px 12px;\r\n        border: 1px solid var(--editor-color-border, #d1d5db);\r\n        border-radius: 6px;\r\n        font-size: 14px;\r\n      `,\r\n    })\r\n\r\n    if (onChange)\r\n      on.input(input, e => onChange((e.target as HTMLInputElement).value))\r\n\r\n    return input\r\n  },\r\n\r\n  /**\r\n   * 创建对话框\r\n   */\r\n  dialog(title: string, content: HTMLElement | string): HTMLElement {\r\n    const overlay = $.create('div', {\r\n      className: 'dialog-overlay',\r\n      style: `\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: rgba(0, 0, 0, 0.5);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 10000;\r\n      `,\r\n    })\r\n\r\n    const dialog = $.create('div', {\r\n      className: 'dialog',\r\n      style: `\r\n        background: white;\r\n        border-radius: 8px;\r\n        min-width: 400px;\r\n        max-width: 600px;\r\n        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n      `,\r\n    })\r\n\r\n    const header = $.create('div', {\r\n      html: `<h2 style=\"margin: 0;\">${title}</h2>`,\r\n      style: `\r\n        padding: 20px;\r\n        border-bottom: 1px solid #e5e7eb;\r\n      `,\r\n    })\r\n\r\n    const body = $.create('div', {\r\n      className: 'dialog-body',\r\n      style: 'padding: 20px;',\r\n    })\r\n\r\n    if (typeof content === 'string')\r\n      body.innerHTML = content\r\n    else\r\n      body.appendChild(content)\r\n\r\n    dialog.appendChild(header)\r\n    dialog.appendChild(body)\r\n    overlay.appendChild(dialog)\r\n\r\n    on.click(overlay, (e) => {\r\n      if (e.target === overlay)\r\n        $.remove(overlay)\r\n    })\r\n\r\n    return overlay\r\n  },\r\n\r\n  /**\r\n   * 显示提示\r\n   */\r\n  toast(message: string, type: 'success' | 'error' | 'info' = 'info'): void {\r\n    const colors = {\r\n      success: '#10b981',\r\n      error: '#ef4444',\r\n      info: '#3b82f6',\r\n    }\r\n\r\n    const toast = $.create('div', {\r\n      text: message,\r\n      className: 'toast',\r\n      style: `\r\n        position: fixed;\r\n        bottom: 20px;\r\n        right: 20px;\r\n        padding: 12px 20px;\r\n        background: ${colors[type]};\r\n        color: white;\r\n        border-radius: 6px;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        z-index: 10001;\r\n        animation: slideIn 0.3s ease;\r\n      `,\r\n    })\r\n\r\n    document.body.appendChild(toast)\r\n\r\n    setTimeout(() => {\r\n      toast.style.animation = 'slideOut 0.3s ease'\r\n      setTimeout(() => $.remove(toast), 300)\r\n    }, 3000)\r\n  },\r\n}\r\n\r\n/**\r\n * 字符串工具\r\n */\r\nexport const str = {\r\n  /**\r\n   * 首字母大写\r\n   */\r\n  capitalize(s: string): string {\r\n    return s.charAt(0).toUpperCase() + s.slice(1)\r\n  },\r\n\r\n  /**\r\n   * 驼峰转短横线\r\n   */\r\n  kebab(s: string): string {\r\n    return s.replace(/[A-Z]/g, m => `-${m.toLowerCase()}`)\r\n  },\r\n\r\n  /**\r\n   * 短横线转驼峰\r\n   */\r\n  camel(s: string): string {\r\n    return s.replace(/-([a-z])/g, (_, m) => m.toUpperCase())\r\n  },\r\n\r\n  /**\r\n   * 截断\r\n   */\r\n  truncate(s: string, maxLength: number, suffix: string = '...'): string {\r\n    if (s.length <= maxLength)\r\n      return s\r\n    return s.slice(0, maxLength - suffix.length) + suffix\r\n  },\r\n}\r\n\r\n/**\r\n * 首字母大写\r\n */\r\nfunction capitalize(s: string): string {\r\n  return s.charAt(0).toUpperCase() + s.slice(1)\r\n}\r\n\r\n/**\r\n * 创建样式对象\r\n */\r\nexport function css(styles: Record<string, string | number>): string {\r\n  return Object.entries(styles)\r\n    .map(([key, value]) => {\r\n      const cssKey = key.replace(/[A-Z]/g, m => `-${m.toLowerCase()}`)\r\n      return `${cssKey}: ${value}${typeof value === 'number' && key !== 'opacity' && key !== 'zIndex' ? 'px' : ''}`\r\n    })\r\n    .join('; ')\r\n}\r\n\r\n/**\r\n * 组合类名\r\n */\r\nexport function classNames(...args: (string | false | undefined | null)[]): string {\r\n  return args.filter(Boolean).join(' ')\r\n}\r\n"],"names":["$","create","tag","props","children","el","document","createElement","Object","entries","forEach","key","value","className","style","cssText","innerHTML","textContent","child","appendChild","createTextNode","select","selector","querySelector","selectAll","Array","from","querySelectorAll","styles","assign","addClass","classes","classList","add","removeClass","remove","toggleClass","force","toggle","empty","show","display","hide","on","click","handler","addEventListener","change","input","keydown","once","event","off","removeEventListener","cmd","editor","format","commands","execute","capitalize","insert","type","data","set","property","exec","command","args","ui","button","text","onClick","icon","btn","iconEl","getIconManager","createIconElement","size","insertBefore","firstChild","placeholder","onChange","e","target","dialog","title","content","overlay","header","html","body","toast","message","colors","success","error","info","setTimeout","animation","str","s","charAt","toUpperCase","slice","kebab","replace","m","toLowerCase","camel","_","truncate","maxLength","suffix","length","css","map","cssKey","join","classNames","filter","Boolean"],"mappings":"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"}