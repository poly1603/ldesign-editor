{"version":3,"file":"history.js","sources":["../../../src/plugins/utils/history.ts"],"sourcesContent":["/**\r\n * History plugin\r\n * Provides undo and redo functionality\r\n *\r\n * NOTE: The actual History implementation is in src/core/History.ts\r\n * This plugin just registers the keyboard shortcuts and commands\r\n */\r\n\r\nimport type { Plugin } from '../../types'\r\nimport { createLogger } from '../../utils/logger'\r\n\r\nconst logger = createLogger('HistoryPlugin')\r\n\r\nconst HistoryPlugin: Plugin = {\r\n  name: 'History',\r\n  install(editor: any) {\r\n    // Register undo command (uses CommandManager's undo method)\r\n    editor.commands.register('undo', () => {\r\n      return editor.commands.undo()\r\n    })\r\n\r\n    // Register redo command (uses CommandManager's redo method)\r\n    editor.commands.register('redo', () => {\r\n      return editor.commands.redo()\r\n    })\r\n\r\n    // Add keyboard shortcuts\r\n    if (editor.keymap) {\r\n      editor.keymap.register({\r\n        key: 'Ctrl+Z',\r\n        command: 'undo',\r\n        description: 'Undo',\r\n      })\r\n\r\n      editor.keymap.register({\r\n        key: 'Ctrl+Shift+Z',\r\n        command: 'redo',\r\n        description: 'Redo',\r\n      })\r\n\r\n      editor.keymap.register({\r\n        key: 'Ctrl+Y',\r\n        command: 'redo',\r\n        description: 'Redo',\r\n      })\r\n    }\r\n\r\n    logger.debug('Installed - using CommandManager History')\r\n  },\r\n}\r\n\r\nexport default HistoryPlugin\r\n"],"names":["logger","createLogger","HistoryPlugin","name","install","editor","commands","register","undo","redo","keymap","key","command","description","debug"],"mappings":";;;;;;;;;;;AAWA,MAAMA,MAAAA,GAASC,aAAa,eAAe,CAAA;AAE3C,MAAMC,aAAAA,GAAwB;AAAA,EAC5BC,IAAAA,EAAM,SAAA;AAAA,EACNC,QAAQC,MAAAA,EAAa;AAEnBA,IAAAA,MAAAA,CAAOC,QAAAA,CAASC,QAAAA,CAAS,MAAA,EAAQ,MAAM;AACrC,MAAA,OAAOF,MAAAA,CAAOC,SAASE,IAAAA,EAAK;AAAA,IAC9B,CAAC,CAAA;AAGDH,IAAAA,MAAAA,CAAOC,QAAAA,CAASC,QAAAA,CAAS,MAAA,EAAQ,MAAM;AACrC,MAAA,OAAOF,MAAAA,CAAOC,SAASG,IAAAA,EAAK;AAAA,IAC9B,CAAC,CAAA;AAGD,IAAA,IAAIJ,OAAOK,MAAAA,EAAQ;AACjBL,MAAAA,MAAAA,CAAOK,OAAOH,QAAAA,CAAS;AAAA,QACrBI,GAAAA,EAAK,QAAA;AAAA,QACLC,OAAAA,EAAS,MAAA;AAAA,QACTC,WAAAA,EAAa;AAAA,OACd,CAAA;AAEDR,MAAAA,MAAAA,CAAOK,OAAOH,QAAAA,CAAS;AAAA,QACrBI,GAAAA,EAAK,cAAA;AAAA,QACLC,OAAAA,EAAS,MAAA;AAAA,QACTC,WAAAA,EAAa;AAAA,OACd,CAAA;AAEDR,MAAAA,MAAAA,CAAOK,OAAOH,QAAAA,CAAS;AAAA,QACrBI,GAAAA,EAAK,QAAA;AAAA,QACLC,OAAAA,EAAS,MAAA;AAAA,QACTC,WAAAA,EAAa;AAAA,OACd,CAAA;AAAA,IACH;AAEAb,IAAAA,MAAAA,CAAOc,MAAM,0CAA0C,CAAA;AAAA,EACzD;AACF;;;;;;;"}