{"version":3,"file":"ConsoleTab.js","sources":["../../../src/devtools/tabs/ConsoleTab.ts"],"sourcesContent":["/**\r\n * ÊéßÂà∂Âè∞Ê†áÁ≠æÈ°µ\r\n * ÊòæÁ§∫Êó•Âøó„ÄÅÈîôËØØ„ÄÅË≠¶ÂëäÁ≠â‰ø°ÊÅØ\r\n */\r\n\r\nimport type { Editor } from '../../core/Editor'\r\nimport { createLogger } from '../../utils/logger'\r\n\r\nconst logger = createLogger('ConsoleTab')\r\n\r\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error'\r\n\r\nexport interface LogEntry {\r\n  id: string\r\n  level: LogLevel\r\n  message: string\r\n  details?: any\r\n  stack?: string\r\n  timestamp: number\r\n  source?: string\r\n  count: number\r\n}\r\n\r\nexport class ConsoleTab {\r\n  private editor: Editor\r\n  private container?: HTMLElement\r\n  private logs: LogEntry[] = []\r\n  private filters = {\r\n    debug: true,\r\n    info: true,\r\n    warn: true,\r\n    error: true,\r\n  }\r\n\r\n  private searchQuery = ''\r\n  private maxLogs = 1000\r\n  private logContainer?: HTMLElement\r\n  private isActive = false\r\n\r\n  constructor(options: { editor: Editor }) {\r\n    this.editor = options.editor\r\n    this.interceptConsole()\r\n  }\r\n\r\n  /**\r\n   * Ê∏≤ÊüìÊ†áÁ≠æÈ°µ\r\n   */\r\n  render(): HTMLElement {\r\n    this.container = document.createElement('div')\r\n    this.container.className = 'console-tab'\r\n    this.container.style.cssText = `\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n    `\r\n\r\n    // Â∑•ÂÖ∑Ê†è\r\n    const toolbar = this.createToolbar()\r\n\r\n    // Êó•ÂøóÂÆπÂô®\r\n    this.logContainer = this.createLogContainer()\r\n\r\n    this.container.appendChild(toolbar)\r\n    this.container.appendChild(this.logContainer)\r\n\r\n    // Ê∏≤ÊüìÁé∞ÊúâÊó•Âøó\r\n    this.renderLogs()\r\n\r\n    return this.container\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫Â∑•ÂÖ∑Ê†è\r\n   */\r\n  private createToolbar(): HTMLElement {\r\n    const toolbar = document.createElement('div')\r\n    toolbar.className = 'console-toolbar'\r\n    toolbar.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px;\r\n      border-bottom: 1px solid #e0e0e0;\r\n      background: #fafafa;\r\n      gap: 10px;\r\n      flex-shrink: 0;\r\n    `\r\n\r\n    // Ê∏ÖÁ©∫ÊåâÈíÆ\r\n    const clearBtn = document.createElement('button')\r\n    clearBtn.style.cssText = `\r\n      padding: 4px 8px;\r\n      background: transparent;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      font-size: 12px;\r\n    `\r\n    clearBtn.innerHTML = 'üóëÔ∏è Ê∏ÖÁ©∫'\r\n    clearBtn.onclick = () => this.clear()\r\n\r\n    // ËøáÊª§Âô®\r\n    const filters = this.createFilters()\r\n\r\n    // ÊêúÁ¥¢Ê°Ü\r\n    const searchBox = this.createSearchBox()\r\n\r\n    // ÁªüËÆ°‰ø°ÊÅØ\r\n    const stats = document.createElement('div')\r\n    stats.className = 'console-stats'\r\n    stats.style.cssText = `\r\n      margin-left: auto;\r\n      display: flex;\r\n      gap: 10px;\r\n      font-size: 12px;\r\n      color: #666;\r\n    `\r\n    stats.innerHTML = `\r\n      <span id=\"console-total\">ÂÖ± 0 Êù°</span>\r\n    `\r\n\r\n    toolbar.appendChild(clearBtn)\r\n    toolbar.appendChild(filters)\r\n    toolbar.appendChild(searchBox)\r\n    toolbar.appendChild(stats)\r\n\r\n    return toolbar\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫ËøáÊª§Âô®\r\n   */\r\n  private createFilters(): HTMLElement {\r\n    const filters = document.createElement('div')\r\n    filters.className = 'console-filters'\r\n    filters.style.cssText = `\r\n      display: flex;\r\n      gap: 8px;\r\n    `\r\n\r\n    const levels: Array<{ level: LogLevel, icon: string, color: string }> = [\r\n      { level: 'debug', icon: 'üîç', color: '#9e9e9e' },\r\n      { level: 'info', icon: '‚ÑπÔ∏è', color: '#2196f3' },\r\n      { level: 'warn', icon: '‚ö†Ô∏è', color: '#ff9800' },\r\n      { level: 'error', icon: '‚ùå', color: '#f44336' },\r\n    ]\r\n\r\n    levels.forEach(({ level, icon, color }) => {\r\n      const button = document.createElement('button')\r\n      button.className = `filter-${level}`\r\n      button.style.cssText = `\r\n        padding: 4px 8px;\r\n        background: ${this.filters[level] ? color : 'transparent'};\r\n        color: ${this.filters[level] ? 'white' : color};\r\n        border: 1px solid ${color};\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        font-size: 12px;\r\n        transition: all 0.2s;\r\n      `\r\n\r\n      const count = this.logs.filter(log => log.level === level).length\r\n      button.innerHTML = `${icon} ${level} (${count})`\r\n\r\n      button.onclick = () => {\r\n        this.filters[level] = !this.filters[level]\r\n        button.style.background = this.filters[level] ? color : 'transparent'\r\n        button.style.color = this.filters[level] ? 'white' : color\r\n        this.renderLogs()\r\n      }\r\n\r\n      filters.appendChild(button)\r\n    })\r\n\r\n    return filters\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫ÊêúÁ¥¢Ê°Ü\r\n   */\r\n  private createSearchBox(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.style.cssText = `\r\n      position: relative;\r\n    `\r\n\r\n    const input = document.createElement('input')\r\n    input.type = 'text'\r\n    input.placeholder = 'ÊêúÁ¥¢Êó•Âøó...'\r\n    input.style.cssText = `\r\n      padding: 4px 8px 4px 28px;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      font-size: 12px;\r\n      width: 200px;\r\n    `\r\n\r\n    const icon = document.createElement('span')\r\n    icon.style.cssText = `\r\n      position: absolute;\r\n      left: 8px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      font-size: 14px;\r\n    `\r\n    icon.textContent = 'üîç'\r\n\r\n    input.oninput = (e) => {\r\n      this.searchQuery = (e.target as HTMLInputElement).value\r\n      this.renderLogs()\r\n    }\r\n\r\n    container.appendChild(icon)\r\n    container.appendChild(input)\r\n\r\n    return container\r\n  }\r\n\r\n  /**\r\n   * ÂàõÂª∫Êó•ÂøóÂÆπÂô®\r\n   */\r\n  private createLogContainer(): HTMLElement {\r\n    const container = document.createElement('div')\r\n    container.className = 'console-logs'\r\n    container.style.cssText = `\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      font-family: 'Consolas', 'Monaco', monospace;\r\n      font-size: 12px;\r\n      background: #1e1e1e;\r\n      color: #d4d4d4;\r\n    `\r\n\r\n    return container\r\n  }\r\n\r\n  /**\r\n   * Êã¶Êà™ÊéßÂà∂Âè∞\r\n   */\r\n  private interceptConsole(): void {\r\n    const originalLog = console.log\r\n    const originalInfo = console.info\r\n    const originalWarn = console.warn\r\n    const originalError = console.error\r\n    const originalDebug = console.debug\r\n\r\n    console.log = (...args) => {\r\n      this.log('info', ...args)\r\n      originalLog.apply(console, args)\r\n    }\r\n\r\n    console.info = (...args) => {\r\n      this.log('info', ...args)\r\n      originalInfo.apply(console, args)\r\n    }\r\n\r\n    console.warn = (...args) => {\r\n      this.log('warn', ...args)\r\n      originalWarn.apply(console, args)\r\n    }\r\n\r\n    console.error = (...args) => {\r\n      this.log('error', ...args)\r\n      originalError.apply(console, args)\r\n    }\r\n\r\n    console.debug = (...args) => {\r\n      this.log('debug', ...args)\r\n      originalDebug.apply(console, args)\r\n    }\r\n\r\n    // Êã¶Êà™Êú™ÊçïËé∑ÁöÑÈîôËØØ\r\n    window.addEventListener('error', (event) => {\r\n      this.log('error', event.message, {\r\n        filename: event.filename,\r\n        lineno: event.lineno,\r\n        colno: event.colno,\r\n        stack: event.error?.stack,\r\n      })\r\n    })\r\n\r\n    // Êã¶Êà™PromiseÈîôËØØ\r\n    window.addEventListener('unhandledrejection', (event) => {\r\n      this.log('error', 'Unhandled Promise Rejection', event.reason)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ËÆ∞ÂΩïÊó•Âøó\r\n   */\r\n  log(level: LogLevel, ...args: any[]): void {\r\n    const message = args.map((arg) => {\r\n      if (typeof arg === 'object') {\r\n        try {\r\n          return JSON.stringify(arg, null, 2)\r\n        }\r\n        catch {\r\n          return String(arg)\r\n        }\r\n      }\r\n      return String(arg)\r\n    }).join(' ')\r\n\r\n    // Êü•ÊâæÈáçÂ§çÊó•Âøó\r\n    const lastLog = this.logs[this.logs.length - 1]\r\n    if (lastLog\r\n      && lastLog.level === level\r\n      && lastLog.message === message\r\n      && Date.now() - lastLog.timestamp < 100) {\r\n      lastLog.count++\r\n      lastLog.timestamp = Date.now()\r\n      this.updateLogEntry(lastLog)\r\n      return\r\n    }\r\n\r\n    const entry: LogEntry = {\r\n      id: `log-${Date.now()}-${Math.random()}`,\r\n      level,\r\n      message,\r\n      details: args.length > 1 ? args.slice(1) : undefined,\r\n      stack: level === 'error' ? new Error().stack : undefined,\r\n      timestamp: Date.now(),\r\n      source: this.getSource(),\r\n      count: 1,\r\n    }\r\n\r\n    this.logs.push(entry)\r\n\r\n    // ÈôêÂà∂Êó•ÂøóÊï∞Èáè\r\n    if (this.logs.length > this.maxLogs)\r\n      this.logs.shift()\r\n\r\n    // Â¶ÇÊûúÊ†áÁ≠æÈ°µÊøÄÊ¥ªÔºåÁ´ãÂç≥Ê∏≤Êüì\r\n    if (this.isActive) {\r\n      this.addLogEntry(entry)\r\n      this.updateStats()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÊó•ÂøóÊù•Ê∫ê\r\n   */\r\n  private getSource(): string {\r\n    const stack = new Error().stack\r\n    if (!stack)\r\n      return 'unknown'\r\n\r\n    const lines = stack.split('\\n')\r\n    // Ë∑≥ËøáÂâç3Ë°åÔºàError„ÄÅlogÊñπÊ≥ï„ÄÅÊã¶Êà™ÊñπÊ≥ïÔºâ\r\n    const sourceLine = lines[3]\r\n    if (!sourceLine)\r\n      return 'unknown'\r\n\r\n    // ÊèêÂèñÊñá‰ª∂ÂêçÂíåË°åÂè∑\r\n    const match = sourceLine.match(/at(?:\\s+\\S.*(?:[\\n\\r\\u2028\\u2029]\\s*|[\\t\\v\\f \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000\\uFEFF])|\\s{2,})\\((.*):(\\d+):(\\d+)\\)/)\r\n      || sourceLine.match(/at\\s+(.*):(\\d+):(\\d+)/)\r\n\r\n    if (match) {\r\n      const file = match[1].split('/').pop()\r\n      return `${file}:${match[2]}`\r\n    }\r\n\r\n    return 'unknown'\r\n  }\r\n\r\n  /**\r\n   * Ê∏≤ÊüìÊâÄÊúâÊó•Âøó\r\n   */\r\n  private renderLogs(): void {\r\n    if (!this.logContainer)\r\n      return\r\n\r\n    this.logContainer.innerHTML = ''\r\n\r\n    const filteredLogs = this.logs.filter((log) => {\r\n      // Á∫ßÂà´ËøáÊª§\r\n      if (!this.filters[log.level])\r\n        return false\r\n\r\n      // ÊêúÁ¥¢ËøáÊª§\r\n      if (this.searchQuery) {\r\n        const query = this.searchQuery.toLowerCase()\r\n        return log.message.toLowerCase().includes(query)\r\n          || log.source?.toLowerCase().includes(query)\r\n      }\r\n\r\n      return true\r\n    })\r\n\r\n    if (filteredLogs.length === 0) {\r\n      this.logContainer.innerHTML = `\r\n        <div style=\"padding: 20px; text-align: center; color: #666;\">\r\n          ÊöÇÊó†Êó•Âøó\r\n        </div>\r\n      `\r\n      return\r\n    }\r\n\r\n    filteredLogs.forEach((log) => {\r\n      this.addLogEntry(log)\r\n    })\r\n\r\n    // ÊªöÂä®Âà∞Â∫ïÈÉ®\r\n    this.logContainer.scrollTop = this.logContainer.scrollHeight\r\n\r\n    this.updateStats()\r\n  }\r\n\r\n  /**\r\n   * Ê∑ªÂä†Êó•ÂøóÊù°ÁõÆ\r\n   */\r\n  private addLogEntry(entry: LogEntry): void {\r\n    if (!this.logContainer)\r\n      return\r\n\r\n    const logElement = document.createElement('div')\r\n    logElement.className = `log-entry log-${entry.level}`\r\n    logElement.dataset.id = entry.id\r\n    logElement.style.cssText = `\r\n      padding: 6px 12px;\r\n      border-bottom: 1px solid #2a2a2a;\r\n      display: flex;\r\n      align-items: flex-start;\r\n      gap: 10px;\r\n      position: relative;\r\n      transition: background 0.2s;\r\n    `\r\n\r\n    const levelColors = {\r\n      debug: '#858585',\r\n      info: '#d4d4d4',\r\n      warn: '#ce9178',\r\n      error: '#f48771',\r\n    }\r\n\r\n    const levelIcons = {\r\n      debug: 'üîç',\r\n      info: '‚ÑπÔ∏è',\r\n      warn: '‚ö†Ô∏è',\r\n      error: '‚ùå',\r\n    }\r\n\r\n    logElement.innerHTML = `\r\n      <span style=\"color: ${levelColors[entry.level]}; font-size: 14px; flex-shrink: 0;\">\r\n        ${levelIcons[entry.level]}\r\n      </span>\r\n      <span style=\"color: #858585; font-size: 11px; flex-shrink: 0;\">\r\n        ${new Date(entry.timestamp).toLocaleTimeString()}\r\n      </span>\r\n      <div style=\"flex: 1; word-break: break-all;\">\r\n        <span style=\"color: ${levelColors[entry.level]};\">\r\n          ${this.escapeHtml(entry.message)}\r\n        </span>\r\n        ${entry.count > 1\r\n          ? `\r\n          <span style=\"\r\n            background: #ff9800;\r\n            color: white;\r\n            padding: 1px 6px;\r\n            border-radius: 10px;\r\n            font-size: 10px;\r\n            margin-left: 8px;\r\n          \">${entry.count}</span>\r\n        `\r\n          : ''}\r\n        ${entry.details\r\n          ? `\r\n          <div style=\"margin-top: 4px; opacity: 0.8; font-size: 11px;\">\r\n            ${this.formatDetails(entry.details)}\r\n          </div>\r\n        `\r\n          : ''}\r\n        ${entry.stack && entry.level === 'error'\r\n          ? `\r\n          <div style=\"\r\n            margin-top: 4px;\r\n            padding: 8px;\r\n            background: #2a2a2a;\r\n            border-radius: 4px;\r\n            font-size: 11px;\r\n            color: #f48771;\r\n            display: none;\r\n          \" class=\"stack-trace\">\r\n            <pre style=\"margin: 0; white-space: pre-wrap;\">${this.escapeHtml(entry.stack)}</pre>\r\n          </div>\r\n        `\r\n          : ''}\r\n      </div>\r\n      <span style=\"color: #608b4e; font-size: 10px; flex-shrink: 0;\">\r\n        ${entry.source || ''}\r\n      </span>\r\n    `\r\n\r\n    // ÈîôËØØÊó•ÂøóÁÇπÂáªÂ±ïÂºÄÂ†ÜÊ†à\r\n    if (entry.level === 'error' && entry.stack) {\r\n      logElement.style.cursor = 'pointer'\r\n      logElement.onclick = () => {\r\n        const stackTrace = logElement.querySelector('.stack-trace') as HTMLElement\r\n        if (stackTrace)\r\n          stackTrace.style.display = stackTrace.style.display === 'none' ? 'block' : 'none'\r\n      }\r\n    }\r\n\r\n    // ÊÇ¨ÂÅúÊïàÊûú\r\n    logElement.onmouseenter = () => {\r\n      logElement.style.background = '#2a2a2a'\r\n    }\r\n\r\n    logElement.onmouseleave = () => {\r\n      logElement.style.background = 'transparent'\r\n    }\r\n\r\n    this.logContainer.appendChild(logElement)\r\n  }\r\n\r\n  /**\r\n   * Êõ¥Êñ∞Êó•ÂøóÊù°ÁõÆ\r\n   */\r\n  private updateLogEntry(entry: LogEntry): void {\r\n    const element = this.logContainer?.querySelector(`[data-id=\"${entry.id}\"]`)\r\n    if (element) {\r\n      const countBadge = element.querySelector('.count-badge')\r\n      if (countBadge)\r\n        countBadge.textContent = String(entry.count)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ê†ºÂºèÂåñËØ¶ÁªÜ‰ø°ÊÅØ\r\n   */\r\n  private formatDetails(details: any): string {\r\n    if (typeof details === 'object') {\r\n      try {\r\n        return `<pre style=\"margin: 0;\">${this.escapeHtml(JSON.stringify(details, null, 2))}</pre>`\r\n      }\r\n      catch {\r\n        return this.escapeHtml(String(details))\r\n      }\r\n    }\r\n    return this.escapeHtml(String(details))\r\n  }\r\n\r\n  /**\r\n   * ËΩ¨‰πâHTML\r\n   */\r\n  private escapeHtml(text: string): string {\r\n    const div = document.createElement('div')\r\n    div.textContent = text\r\n    return div.innerHTML\r\n  }\r\n\r\n  /**\r\n   * Êõ¥Êñ∞ÁªüËÆ°‰ø°ÊÅØ\r\n   */\r\n  private updateStats(): void {\r\n    const total = this.container?.querySelector('#console-total')\r\n    if (total) {\r\n      const filteredCount = this.logs.filter(log => this.filters[log.level]).length\r\n      total.textContent = `ÂÖ± ${filteredCount} Êù°`\r\n    }\r\n\r\n    // Êõ¥Êñ∞ËøáÊª§Âô®ÊåâÈíÆËÆ°Êï∞\r\n    const levels: LogLevel[] = ['debug', 'info', 'warn', 'error']\r\n    levels.forEach((level) => {\r\n      const button = this.container?.querySelector(`.filter-${level}`)\r\n      if (button) {\r\n        const count = this.logs.filter(log => log.level === level).length\r\n        const icon = button.textContent?.split(' ')[0] || ''\r\n        button.textContent = `${icon} ${level} (${count})`\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Ê∏ÖÁ©∫Êó•Âøó\r\n   */\r\n  clear(): void {\r\n    this.logs = []\r\n    this.renderLogs()\r\n    logger.info('Console cleared')\r\n  }\r\n\r\n  /**\r\n   * ÊøÄÊ¥ªÊ†áÁ≠æÈ°µ\r\n   */\r\n  activate(): void {\r\n    this.isActive = true\r\n    this.renderLogs()\r\n  }\r\n\r\n  /**\r\n   * ÂÅúÁî®Ê†áÁ≠æÈ°µ\r\n   */\r\n  deactivate(): void {\r\n    this.isActive = false\r\n  }\r\n\r\n  /**\r\n   * ÈîÄÊØÅ\r\n   */\r\n  destroy(): void {\r\n    this.container = undefined\r\n  }\r\n}\r\n"],"names":["logger","createLogger","ConsoleTab","constructor","options","logs","filters","debug","info","warn","error","searchQuery","maxLogs","isActive","editor","interceptConsole","render","container","document","createElement","className","style","cssText","toolbar","createToolbar","logContainer","createLogContainer","appendChild","renderLogs","clearBtn","innerHTML","onclick","clear","createFilters","searchBox","createSearchBox","stats","levels","level","icon","color","forEach","button","count","filter","log","length","background","input","type","placeholder","textContent","oninput","e","target","value","originalLog","console","originalInfo","originalWarn","originalError","originalDebug","args","apply","window","addEventListener","event","message","filename","lineno","colno","stack","reason","map","arg","JSON","stringify","String","join","lastLog","Date","now","timestamp","updateLogEntry","entry","id","Math","random","details","slice","undefined","Error","source","getSource","push","shift","addLogEntry","updateStats","lines","split","sourceLine","match","file","pop","filteredLogs","query","toLowerCase","includes","scrollTop","scrollHeight","logElement","dataset","levelColors","levelIcons","toLocaleTimeString","escapeHtml","formatDetails","cursor","stackTrace","querySelector","display","onmouseenter","onmouseleave","element","countBadge","text","div","total","filteredCount","activate","deactivate","destroy"],"mappings":"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"}