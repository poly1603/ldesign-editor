{"version":3,"file":"HistoryTab.js","sources":["../../../src/devtools/tabs/HistoryTab.ts"],"sourcesContent":["/**\r\n * å†å²è®°å½•æ ‡ç­¾é¡µ\r\n * æ˜¾ç¤ºç¼–è¾‘å™¨æ“ä½œå†å²å’Œæ’¤é”€/é‡åšæ ˆ\r\n */\r\n\r\nimport type { Editor } from '../../core/Editor'\r\nimport { createLogger } from '../../utils/logger'\r\n\r\nconst logger = createLogger('HistoryTab')\r\n\r\nexport interface HistoryEntry {\r\n  id: string\r\n  timestamp: number\r\n  type: string\r\n  description: string\r\n  data?: any\r\n  snapshot?: string\r\n  canUndo: boolean\r\n  canRedo: boolean\r\n  size?: number\r\n}\r\n\r\nexport class HistoryTab {\r\n  private editor: Editor\r\n  private container?: HTMLElement\r\n  private history: HistoryEntry[] = []\r\n  private currentIndex = -1\r\n  private maxHistory = 100\r\n  private listContainer?: HTMLElement\r\n  private detailsContainer?: HTMLElement\r\n  private selectedEntry?: HistoryEntry\r\n\r\n  constructor(options: { editor: Editor }) {\r\n    this.editor = options.editor\r\n    this.setupHistoryTracking()\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®å†å²è®°å½•è¿½è¸ª\r\n   */\r\n  private setupHistoryTracking(): void {\r\n    // ç›‘å¬ç¼–è¾‘å™¨å˜åŒ–\r\n    this.editor.on('change', (change: any) => {\r\n      this.addHistoryEntry({\r\n        type: 'edit',\r\n        description: this.getChangeDescription(change),\r\n        data: change,\r\n        snapshot: this.editor.getContent?.(),\r\n      })\r\n    })\r\n\r\n    // ç›‘å¬æ’¤é”€/é‡åš\r\n    this.editor.on('undo', () => {\r\n      this.currentIndex = Math.max(0, this.currentIndex - 1)\r\n      this.render()\r\n    })\r\n\r\n    this.editor.on('redo', () => {\r\n      this.currentIndex = Math.min(this.history.length - 1, this.currentIndex + 1)\r\n      this.render()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æ¸²æŸ“æ ‡ç­¾é¡µ\r\n   */\r\n  render(): HTMLElement {\r\n    this.container = document.createElement('div')\r\n    this.container.className = 'history-tab'\r\n    this.container.style.cssText = `\r\n      display: flex;\r\n      height: 100%;\r\n    `\r\n\r\n    // å·¥å…·æ \r\n    const toolbar = this.createToolbar()\r\n\r\n    // ä¸»å†…å®¹åŒº\r\n    const content = document.createElement('div')\r\n    content.style.cssText = `\r\n      display: flex;\r\n      flex: 1;\r\n      overflow: hidden;\r\n    `\r\n\r\n    // å†å²åˆ—è¡¨\r\n    this.listContainer = document.createElement('div')\r\n    this.listContainer.className = 'history-list'\r\n    this.listContainer.style.cssText = `\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      border-right: 1px solid #e0e0e0;\r\n    `\r\n\r\n    // è¯¦æƒ…é¢æ¿\r\n    this.detailsContainer = document.createElement('div')\r\n    this.detailsContainer.className = 'history-details'\r\n    this.detailsContainer.style.cssText = `\r\n      width: 350px;\r\n      overflow-y: auto;\r\n      background: #fafafa;\r\n      display: none;\r\n    `\r\n\r\n    content.appendChild(this.listContainer)\r\n    content.appendChild(this.detailsContainer)\r\n\r\n    const wrapper = document.createElement('div')\r\n    wrapper.style.cssText = `\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n    `\r\n    wrapper.appendChild(toolbar)\r\n    wrapper.appendChild(content)\r\n\r\n    this.container.appendChild(wrapper)\r\n\r\n    // æ¸²æŸ“å†å²åˆ—è¡¨\r\n    this.renderHistory()\r\n\r\n    return this.container\r\n  }\r\n\r\n  /**\r\n   * åˆ›å»ºå·¥å…·æ \r\n   */\r\n  private createToolbar(): HTMLElement {\r\n    const toolbar = document.createElement('div')\r\n    toolbar.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px;\r\n      border-bottom: 1px solid #e0e0e0;\r\n      background: #fafafa;\r\n      gap: 10px;\r\n      flex-shrink: 0;\r\n    `\r\n\r\n    // æ’¤é”€æŒ‰é’®\r\n    const undoBtn = document.createElement('button')\r\n    undoBtn.style.cssText = `\r\n      padding: 4px 8px;\r\n      background: transparent;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      font-size: 12px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n    `\r\n    undoBtn.innerHTML = 'â†¶ æ’¤é”€'\r\n    undoBtn.onclick = () => this.undo()\r\n    undoBtn.disabled = !this.canUndo()\r\n\r\n    // é‡åšæŒ‰é’®\r\n    const redoBtn = document.createElement('button')\r\n    redoBtn.style.cssText = undoBtn.style.cssText\r\n    redoBtn.innerHTML = 'â†· é‡åš'\r\n    redoBtn.onclick = () => this.redo()\r\n    redoBtn.disabled = !this.canRedo()\r\n\r\n    // æ¸…ç©ºå†å²\r\n    const clearBtn = document.createElement('button')\r\n    clearBtn.style.cssText = undoBtn.style.cssText\r\n    clearBtn.innerHTML = 'ğŸ—‘ï¸ æ¸…ç©ºå†å²'\r\n    clearBtn.onclick = () => this.clearHistory()\r\n\r\n    // ç»Ÿè®¡ä¿¡æ¯\r\n    const stats = document.createElement('div')\r\n    stats.className = 'history-stats'\r\n    stats.style.cssText = `\r\n      margin-left: auto;\r\n      font-size: 12px;\r\n      color: #666;\r\n      display: flex;\r\n      gap: 15px;\r\n    `\r\n    stats.innerHTML = `\r\n      <span>å…± ${this.history.length} æ¡è®°å½•</span>\r\n      <span>å½“å‰ä½ç½®: ${this.currentIndex + 1}</span>\r\n      <span>å†…å­˜å ç”¨: ${this.calculateMemoryUsage()}</span>\r\n    `\r\n\r\n    toolbar.appendChild(undoBtn)\r\n    toolbar.appendChild(redoBtn)\r\n    toolbar.appendChild(clearBtn)\r\n    toolbar.appendChild(stats)\r\n\r\n    return toolbar\r\n  }\r\n\r\n  /**\r\n   * æ¸²æŸ“å†å²åˆ—è¡¨\r\n   */\r\n  private renderHistory(): void {\r\n    if (!this.listContainer)\r\n      return\r\n\r\n    this.listContainer.innerHTML = ''\r\n\r\n    if (this.history.length === 0) {\r\n      this.listContainer.innerHTML = `\r\n        <div style=\"\r\n          padding: 40px;\r\n          text-align: center;\r\n          color: #999;\r\n        \">\r\n          <div style=\"font-size: 32px; margin-bottom: 10px;\">ğŸ“œ</div>\r\n          <div>æš‚æ— æ“ä½œå†å²</div>\r\n        </div>\r\n      `\r\n      return\r\n    }\r\n\r\n    // åˆ›å»ºæ—¶é—´çº¿\r\n    const timeline = document.createElement('div')\r\n    timeline.className = 'history-timeline'\r\n    timeline.style.cssText = `\r\n      padding: 20px;\r\n    `\r\n\r\n    this.history.forEach((entry, index) => {\r\n      const item = this.createHistoryItem(entry, index)\r\n      timeline.appendChild(item)\r\n    })\r\n\r\n    this.listContainer.appendChild(timeline)\r\n\r\n    // æ»šåŠ¨åˆ°å½“å‰ä½ç½®\r\n    if (this.currentIndex >= 0) {\r\n      const currentItem = this.listContainer.querySelector(`[data-index=\"${this.currentIndex}\"]`)\r\n      currentItem?.scrollIntoView({ behavior: 'smooth', block: 'center' })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åˆ›å»ºå†å²æ¡ç›®\r\n   */\r\n  private createHistoryItem(entry: HistoryEntry, index: number): HTMLElement {\r\n    const item = document.createElement('div')\r\n    item.className = 'history-item'\r\n    item.dataset.index = String(index)\r\n    item.style.cssText = `\r\n      display: flex;\r\n      align-items: start;\r\n      gap: 15px;\r\n      margin-bottom: 20px;\r\n      cursor: pointer;\r\n      transition: all 0.2s;\r\n      position: relative;\r\n      padding-left: 30px;\r\n    `\r\n\r\n    // æ—¶é—´çº¿\r\n    const timeline = document.createElement('div')\r\n    timeline.style.cssText = `\r\n      position: absolute;\r\n      left: 10px;\r\n      top: 0;\r\n      bottom: ${index === this.history.length - 1 ? '50%' : '-20px'};\r\n      width: 2px;\r\n      background: ${index <= this.currentIndex ? '#667eea' : '#e0e0e0'};\r\n    `\r\n\r\n    // æ—¶é—´ç‚¹\r\n    const dot = document.createElement('div')\r\n    dot.style.cssText = `\r\n      position: absolute;\r\n      left: 6px;\r\n      top: 8px;\r\n      width: 10px;\r\n      height: 10px;\r\n      border-radius: 50%;\r\n      background: ${index === this.currentIndex ? '#667eea' : index < this.currentIndex ? '#667eea' : '#e0e0e0'};\r\n      border: 2px solid white;\r\n      box-shadow: 0 0 0 1px #e0e0e0;\r\n      z-index: 1;\r\n    `\r\n\r\n    // å†…å®¹å¡ç‰‡\r\n    const card = document.createElement('div')\r\n    card.style.cssText = `\r\n      flex: 1;\r\n      background: ${index === this.currentIndex ? '#f0f4ff' : 'white'};\r\n      border: 1px solid ${index === this.currentIndex ? '#667eea' : '#e0e0e0'};\r\n      border-radius: 6px;\r\n      padding: 12px 15px;\r\n      box-shadow: 0 1px 3px rgba(0,0,0,0.05);\r\n      transition: all 0.2s;\r\n    `\r\n\r\n    // æ ‡é¢˜è¡Œ\r\n    const header = document.createElement('div')\r\n    header.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 8px;\r\n    `\r\n\r\n    const title = document.createElement('div')\r\n    title.style.cssText = `\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    `\r\n\r\n    const icon = this.getTypeIcon(entry.type)\r\n    const typeSpan = document.createElement('span')\r\n    typeSpan.style.cssText = `\r\n      font-size: 16px;\r\n    `\r\n    typeSpan.textContent = icon\r\n\r\n    const descSpan = document.createElement('span')\r\n    descSpan.style.cssText = `\r\n      font-size: 13px;\r\n      font-weight: 500;\r\n      color: #333;\r\n    `\r\n    descSpan.textContent = entry.description\r\n\r\n    title.appendChild(typeSpan)\r\n    title.appendChild(descSpan)\r\n\r\n    const time = document.createElement('span')\r\n    time.style.cssText = `\r\n      font-size: 11px;\r\n      color: #999;\r\n    `\r\n    time.textContent = this.formatTime(entry.timestamp)\r\n\r\n    header.appendChild(title)\r\n    header.appendChild(time)\r\n\r\n    // çŠ¶æ€æŒ‡ç¤º\r\n    if (index === this.currentIndex) {\r\n      const current = document.createElement('div')\r\n      current.style.cssText = `\r\n        font-size: 11px;\r\n        color: #667eea;\r\n        margin-top: 4px;\r\n      `\r\n      current.textContent = 'å½“å‰ä½ç½®'\r\n      card.appendChild(current)\r\n    }\r\n    else if (index > this.currentIndex) {\r\n      card.style.opacity = '0.5'\r\n    }\r\n\r\n    card.appendChild(header)\r\n\r\n    // æ‚¬åœæ•ˆæœ\r\n    card.onmouseenter = () => {\r\n      if (index !== this.currentIndex) {\r\n        card.style.transform = 'translateX(5px)'\r\n        card.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)'\r\n      }\r\n    }\r\n\r\n    card.onmouseleave = () => {\r\n      card.style.transform = 'translateX(0)'\r\n      card.style.boxShadow = '0 1px 3px rgba(0,0,0,0.05)'\r\n    }\r\n\r\n    // ç‚¹å‡»äº‹ä»¶\r\n    card.onclick = () => {\r\n      this.selectEntry(entry, index)\r\n    }\r\n\r\n    item.appendChild(timeline)\r\n    item.appendChild(dot)\r\n    item.appendChild(card)\r\n\r\n    return item\r\n  }\r\n\r\n  /**\r\n   * è·å–ç±»å‹å›¾æ ‡\r\n   */\r\n  private getTypeIcon(type: string): string {\r\n    const icons: Record<string, string> = {\r\n      edit: 'âœï¸',\r\n      insert: 'â•',\r\n      delete: 'â–',\r\n      format: 'ğŸ¨',\r\n      paste: 'ğŸ“‹',\r\n      cut: 'âœ‚ï¸',\r\n      undo: 'â†¶',\r\n      redo: 'â†·',\r\n      plugin: 'ğŸ”Œ',\r\n      default: 'ğŸ“',\r\n    }\r\n    return icons[type] || icons.default\r\n  }\r\n\r\n  /**\r\n   * æ ¼å¼åŒ–æ—¶é—´\r\n   */\r\n  private formatTime(timestamp: number): string {\r\n    const now = Date.now()\r\n    const diff = now - timestamp\r\n\r\n    if (diff < 60000) {\r\n      return 'åˆšåˆš'\r\n    }\r\n    else if (diff < 3600000) {\r\n      const minutes = Math.floor(diff / 60000)\r\n      return `${minutes} åˆ†é’Ÿå‰`\r\n    }\r\n    else if (diff < 86400000) {\r\n      const hours = Math.floor(diff / 3600000)\r\n      return `${hours} å°æ—¶å‰`\r\n    }\r\n    else {\r\n      const date = new Date(timestamp)\r\n      return date.toLocaleString()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * é€‰æ‹©å†å²æ¡ç›®\r\n   */\r\n  private selectEntry(entry: HistoryEntry, index: number): void {\r\n    this.selectedEntry = entry\r\n\r\n    if (!this.detailsContainer)\r\n      return\r\n\r\n    this.detailsContainer.style.display = 'block'\r\n    this.detailsContainer.innerHTML = `\r\n      <div style=\"padding: 20px;\">\r\n        <h3 style=\"margin: 0 0 15px 0; font-size: 14px;\">æ“ä½œè¯¦æƒ…</h3>\r\n        \r\n        <div style=\"margin-bottom: 20px;\">\r\n          <div style=\"font-size: 12px; color: #999; margin-bottom: 5px;\">ç±»å‹</div>\r\n          <div style=\"font-size: 13px;\">\r\n            ${this.getTypeIcon(entry.type)} ${entry.type}\r\n          </div>\r\n        </div>\r\n        \r\n        <div style=\"margin-bottom: 20px;\">\r\n          <div style=\"font-size: 12px; color: #999; margin-bottom: 5px;\">æè¿°</div>\r\n          <div style=\"font-size: 13px;\">${entry.description}</div>\r\n        </div>\r\n        \r\n        <div style=\"margin-bottom: 20px;\">\r\n          <div style=\"font-size: 12px; color: #999; margin-bottom: 5px;\">æ—¶é—´</div>\r\n          <div style=\"font-size: 13px;\">${new Date(entry.timestamp).toLocaleString()}</div>\r\n        </div>\r\n        \r\n        ${entry.size\r\n          ? `\r\n          <div style=\"margin-bottom: 20px;\">\r\n            <div style=\"font-size: 12px; color: #999; margin-bottom: 5px;\">å¤§å°</div>\r\n            <div style=\"font-size: 13px;\">${this.formatSize(entry.size)}</div>\r\n          </div>\r\n        `\r\n          : ''}\r\n        \r\n        ${entry.data\r\n          ? `\r\n          <div style=\"margin-bottom: 20px;\">\r\n            <div style=\"font-size: 12px; color: #999; margin-bottom: 5px;\">æ•°æ®</div>\r\n            <div style=\"\r\n              background: #f5f5f5;\r\n              padding: 10px;\r\n              border-radius: 4px;\r\n              font-family: monospace;\r\n              font-size: 11px;\r\n              max-height: 200px;\r\n              overflow-y: auto;\r\n            \">\r\n              <pre style=\"margin: 0;\">${JSON.stringify(entry.data, null, 2)}</pre>\r\n            </div>\r\n          </div>\r\n        `\r\n          : ''}\r\n        \r\n        <div style=\"display: flex; gap: 10px;\">\r\n          <button onclick=\"console.log('Goto:', ${index})\" style=\"\r\n            flex: 1;\r\n            padding: 8px;\r\n            background: #667eea;\r\n            color: white;\r\n            border: none;\r\n            border-radius: 4px;\r\n            cursor: pointer;\r\n            font-size: 13px;\r\n          \">è·³è½¬åˆ°æ­¤çŠ¶æ€</button>\r\n          <button onclick=\"this.parentElement.parentElement.parentElement.style.display='none'\" style=\"\r\n            flex: 1;\r\n            padding: 8px;\r\n            background: #666;\r\n            color: white;\r\n            border: none;\r\n            border-radius: 4px;\r\n            cursor: pointer;\r\n            font-size: 13px;\r\n          \">å…³é—­</button>\r\n        </div>\r\n      </div>\r\n    `\r\n  }\r\n\r\n  /**\r\n   * æ·»åŠ å†å²è®°å½•\r\n   */\r\n  private addHistoryEntry(entry: Omit<HistoryEntry, 'id' | 'timestamp' | 'canUndo' | 'canRedo'>): void {\r\n    // å¦‚æœå½“å‰ä¸åœ¨æœ€æ–°ä½ç½®ï¼Œåˆ é™¤åé¢çš„å†å²\r\n    if (this.currentIndex < this.history.length - 1)\r\n      this.history = this.history.slice(0, this.currentIndex + 1)\r\n\r\n    const newEntry: HistoryEntry = {\r\n      ...entry,\r\n      id: `history-${Date.now()}-${Math.random()}`,\r\n      timestamp: Date.now(),\r\n      canUndo: true,\r\n      canRedo: false,\r\n      size: entry.snapshot ? new Blob([entry.snapshot]).size : undefined,\r\n    }\r\n\r\n    this.history.push(newEntry)\r\n\r\n    // é™åˆ¶å†å²è®°å½•æ•°é‡\r\n    if (this.history.length > this.maxHistory) \r\n      this.history.shift()\r\n\r\n\r\n    else {\r\n      this.currentIndex++\r\n    }\r\n\r\n    // æ›´æ–°UI\r\n    if (this.container) {\r\n      this.renderHistory()\r\n      this.updateToolbar()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·å–å˜æ›´æè¿°\r\n   */\r\n  private getChangeDescription(change: any): string {\r\n    if (change.type === 'insert')\r\n      return `æ’å…¥ ${change.text?.length || 0} ä¸ªå­—ç¬¦`\r\n    else if (change.type === 'delete')\r\n      return `åˆ é™¤ ${change.removedLength || 0} ä¸ªå­—ç¬¦`\r\n    else if (change.type === 'format')\r\n      return 'æ ¼å¼åŒ–æ–‡æœ¬'\r\n    else\r\n      return 'ç¼–è¾‘æ–‡æ¡£'\r\n  }\r\n\r\n  /**\r\n   * æ’¤é”€\r\n   */\r\n  private undo(): void {\r\n    if (!this.canUndo())\r\n      return\r\n\r\n    this.editor.undo?.()\r\n    logger.info('Undo performed')\r\n  }\r\n\r\n  /**\r\n   * é‡åš\r\n   */\r\n  private redo(): void {\r\n    if (!this.canRedo())\r\n      return\r\n\r\n    this.editor.redo?.()\r\n    logger.info('Redo performed')\r\n  }\r\n\r\n  /**\r\n   * åˆ¤æ–­æ˜¯å¦å¯ä»¥æ’¤é”€\r\n   */\r\n  private canUndo(): boolean {\r\n    return this.currentIndex > 0\r\n  }\r\n\r\n  /**\r\n   * åˆ¤æ–­æ˜¯å¦å¯ä»¥é‡åš\r\n   */\r\n  private canRedo(): boolean {\r\n    return this.currentIndex < this.history.length - 1\r\n  }\r\n\r\n  /**\r\n   * æ¸…ç©ºå†å²\r\n   */\r\n  private clearHistory(): void {\r\n    if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {\r\n      this.history = []\r\n      this.currentIndex = -1\r\n      this.renderHistory()\r\n      this.updateToolbar()\r\n      logger.info('History cleared')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ›´æ–°å·¥å…·æ \r\n   */\r\n  private updateToolbar(): void {\r\n    const toolbar = this.container?.querySelector('.history-stats')\r\n    if (toolbar) {\r\n      toolbar.innerHTML = `\r\n        <span>å…± ${this.history.length} æ¡è®°å½•</span>\r\n        <span>å½“å‰ä½ç½®: ${this.currentIndex + 1}</span>\r\n        <span>å†…å­˜å ç”¨: ${this.calculateMemoryUsage()}</span>\r\n      `\r\n    }\r\n\r\n    // æ›´æ–°æŒ‰é’®çŠ¶æ€\r\n    const undoBtn = this.container?.querySelector('button:nth-child(1)') as HTMLButtonElement\r\n    const redoBtn = this.container?.querySelector('button:nth-child(2)') as HTMLButtonElement\r\n\r\n    if (undoBtn)\r\n      undoBtn.disabled = !this.canUndo()\r\n    if (redoBtn)\r\n      redoBtn.disabled = !this.canRedo()\r\n  }\r\n\r\n  /**\r\n   * è®¡ç®—å†…å­˜å ç”¨\r\n   */\r\n  private calculateMemoryUsage(): string {\r\n    const totalSize = this.history.reduce((sum, entry) => sum + (entry.size || 0), 0)\r\n    return this.formatSize(totalSize)\r\n  }\r\n\r\n  /**\r\n   * æ ¼å¼åŒ–å¤§å°\r\n   */\r\n  private formatSize(bytes: number): string {\r\n    if (bytes < 1024)\r\n      return `${bytes}B`\r\n    if (bytes < 1024 * 1024)\r\n      return `${(bytes / 1024).toFixed(1)}KB`\r\n    return `${(bytes / 1024 / 1024).toFixed(1)}MB`\r\n  }\r\n\r\n  /**\r\n   * æ¿€æ´»æ ‡ç­¾é¡µ\r\n   */\r\n  activate(): void {\r\n    this.renderHistory()\r\n  }\r\n\r\n  /**\r\n   * åœç”¨æ ‡ç­¾é¡µ\r\n   */\r\n  deactivate(): void {\r\n    // æ ‡ç­¾é¡µåœç”¨\r\n  }\r\n\r\n  /**\r\n   * é”€æ¯\r\n   */\r\n  destroy(): void {\r\n    this.container = undefined\r\n  }\r\n}\r\n"],"names":["logger","createLogger","HistoryTab","constructor","options","history","currentIndex","maxHistory","editor","setupHistoryTracking","on","change","addHistoryEntry","type","description","getChangeDescription","data","snapshot","getContent","Math","max","render","min","length","container","document","createElement","className","style","cssText","toolbar","createToolbar","content","listContainer","detailsContainer","appendChild","wrapper","renderHistory","undoBtn","innerHTML","onclick","undo","disabled","canUndo","redoBtn","redo","canRedo","clearBtn","clearHistory","stats","calculateMemoryUsage","timeline","forEach","entry","index","item","createHistoryItem","currentItem","querySelector","scrollIntoView","behavior","block","dataset","String","dot","card","header","title","icon","getTypeIcon","typeSpan","textContent","descSpan","time","formatTime","timestamp","current","opacity","onmouseenter","transform","boxShadow","onmouseleave","selectEntry","icons","edit","insert","delete","format","paste","cut","plugin","default","now","Date","diff","minutes","floor","hours","date","toLocaleString","selectedEntry","display","size","formatSize","JSON","stringify","slice","newEntry","id","random","Blob","undefined","push","shift","updateToolbar","text","removedLength","info","confirm","totalSize","reduce","sum","bytes","toFixed","activate","deactivate","destroy"],"mappings":"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"}