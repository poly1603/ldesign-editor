{"version":3,"file":"PluginMarket.js","sources":["../../src/marketplace/PluginMarket.ts"],"sourcesContent":["/**\r\n * Êèí‰ª∂Â∏ÇÂú∫Á≥ªÁªü\r\n * ÊµèËßà„ÄÅÊêúÁ¥¢ÂíåÂÆâË£ÖÁ§æÂå∫Êèí‰ª∂ÔºàÊ¶ÇÂøµÂÆûÁé∞Ôºâ\r\n */\r\n\r\nimport { EventEmitter } from '../core/EventEmitter'\r\nimport { getPluginRegistry } from '../core/PluginRegistry'\r\n\r\n/**\r\n * Êèí‰ª∂‰ø°ÊÅØ\r\n */\r\nexport interface MarketplacePlugin {\r\n  id: string\r\n  name: string\r\n  version: string\r\n  author: string\r\n  description: string\r\n  category: string\r\n  tags: string[]\r\n  downloads: number\r\n  rating: number\r\n  size: number\r\n  icon?: string\r\n  homepage?: string\r\n  repository?: string\r\n  license: string\r\n  dependencies?: string[]\r\n  config?: Record<string, any>\r\n}\r\n\r\n/**\r\n * Êèí‰ª∂Â∏ÇÂú∫Á±ª\r\n */\r\nexport class PluginMarket extends EventEmitter {\r\n  private registry = getPluginRegistry()\r\n  private plugins: Map<string, MarketplacePlugin> = new Map()\r\n  private installed: Set<string> = new Set()\r\n\r\n  constructor() {\r\n    super()\r\n    this.loadFeaturedPlugins()\r\n  }\r\n\r\n  /**\r\n   * Âä†ËΩΩÁ≤æÈÄâÊèí‰ª∂\r\n   */\r\n  private loadFeaturedPlugins(): void {\r\n    const featured: MarketplacePlugin[] = [\r\n      {\r\n        id: 'markdown-import',\r\n        name: 'MarkdownÂØºÂÖ•',\r\n        version: '1.0.0',\r\n        author: 'LDesign',\r\n        description: 'ÂØºÂÖ•MarkdownÊñá‰ª∂Âπ∂Ëá™Âä®ËΩ¨Êç¢‰∏∫ÂØåÊñáÊú¨',\r\n        category: 'import-export',\r\n        tags: ['markdown', 'import', 'converter'],\r\n        downloads: 1250,\r\n        rating: 4.8,\r\n        size: 25,\r\n        icon: 'üìÑ',\r\n        license: 'MIT',\r\n        config: {\r\n          preserveFormatting: true,\r\n          convertTables: true,\r\n        },\r\n      },\r\n      {\r\n        id: 'word-export',\r\n        name: 'WordÂØºÂá∫',\r\n        version: '1.2.0',\r\n        author: 'Community',\r\n        description: 'Â∞ÜÂÜÖÂÆπÂØºÂá∫‰∏∫WordÊñáÊ°£(.docx)',\r\n        category: 'import-export',\r\n        tags: ['word', 'export', 'docx'],\r\n        downloads: 2100,\r\n        rating: 4.6,\r\n        size: 180,\r\n        icon: 'üìù',\r\n        license: 'MIT',\r\n      },\r\n      {\r\n        id: 'latex-math',\r\n        name: 'LaTeXÊï∞Â≠¶ÂÖ¨Âºè',\r\n        version: '2.0.0',\r\n        author: 'MathTeam',\r\n        description: 'ÊîØÊåÅLaTeXÊï∞Â≠¶ÂÖ¨ÂºèÁºñËæëÂíåÊ∏≤Êüì',\r\n        category: 'formatting',\r\n        tags: ['latex', 'math', 'formula'],\r\n        downloads: 890,\r\n        rating: 4.9,\r\n        size: 120,\r\n        icon: '‚àë',\r\n        license: 'MIT',\r\n        dependencies: ['katex'],\r\n      },\r\n      {\r\n        id: 'syntax-highlight',\r\n        name: 'ËØ≠Ê≥ïÈ´ò‰∫ÆÂ¢ûÂº∫',\r\n        version: '1.5.0',\r\n        author: 'CodeTeam',\r\n        description: 'ÊîØÊåÅ50+ÁºñÁ®ãËØ≠Ë®ÄÁöÑËØ≠Ê≥ïÈ´ò‰∫Æ',\r\n        category: 'code',\r\n        tags: ['code', 'highlight', 'syntax'],\r\n        downloads: 3200,\r\n        rating: 4.7,\r\n        size: 250,\r\n        icon: 'üíª',\r\n        license: 'MIT',\r\n        dependencies: ['prism'],\r\n      },\r\n      {\r\n        id: 'chart-diagram',\r\n        name: 'ÂõæË°®ÁªòÂà∂',\r\n        version: '1.0.0',\r\n        author: 'DataViz',\r\n        description: 'ÊèíÂÖ•ÂíåÁºñËæëÂêÑÁßçÂõæË°®ÔºàÊäòÁ∫øÂõæ„ÄÅÊü±Áä∂Âõæ„ÄÅÈ•ºÂõæÁ≠âÔºâ',\r\n        category: 'media',\r\n        tags: ['chart', 'diagram', 'visualization'],\r\n        downloads: 750,\r\n        rating: 4.5,\r\n        size: 200,\r\n        icon: 'üìä',\r\n        license: 'Apache-2.0',\r\n        dependencies: ['chart.js'],\r\n      },\r\n      {\r\n        id: 'git-sync',\r\n        name: 'GitÂêåÊ≠•',\r\n        version: '0.9.0',\r\n        author: 'DevTools',\r\n        description: 'Ëá™Âä®ÂêåÊ≠•ÂÜÖÂÆπÂà∞Git‰ªìÂ∫ì',\r\n        category: 'advanced',\r\n        tags: ['git', 'sync', 'version-control'],\r\n        downloads: 520,\r\n        rating: 4.3,\r\n        size: 85,\r\n        icon: 'üîÑ',\r\n        license: 'MIT',\r\n      },\r\n      {\r\n        id: 'spell-check',\r\n        name: 'ÊãºÂÜôÊ£ÄÊü•',\r\n        version: '2.1.0',\r\n        author: 'LanguageTools',\r\n        description: 'ÂÆûÊó∂ÊãºÂÜôÂíåËØ≠Ê≥ïÊ£ÄÊü•',\r\n        category: 'tool',\r\n        tags: ['spell', 'grammar', 'check'],\r\n        downloads: 1800,\r\n        rating: 4.4,\r\n        size: 60,\r\n        icon: '‚úì',\r\n        license: 'MIT',\r\n      },\r\n      {\r\n        id: 'voice-input',\r\n        name: 'ËØ≠Èü≥ËæìÂÖ•',\r\n        version: '1.0.0',\r\n        author: 'VoiceTech',\r\n        description: 'ÊîØÊåÅËØ≠Èü≥ËæìÂÖ•ÂíåËØ≠Èü≥ËΩ¨ÊñáÂ≠ó',\r\n        category: 'input',\r\n        tags: ['voice', 'speech', 'input'],\r\n        downloads: 650,\r\n        rating: 4.2,\r\n        size: 110,\r\n        icon: 'üé§',\r\n        license: 'MIT',\r\n      },\r\n    ]\r\n\r\n    featured.forEach((plugin) => {\r\n      this.plugins.set(plugin.id, plugin)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * ÊêúÁ¥¢Êèí‰ª∂\r\n   */\r\n  search(query: string): MarketplacePlugin[] {\r\n    const lowerQuery = query.toLowerCase()\r\n\r\n    return Array.from(this.plugins.values()).filter(plugin =>\r\n      plugin.name.toLowerCase().includes(lowerQuery)\r\n      || plugin.description.toLowerCase().includes(lowerQuery)\r\n      || plugin.tags.some(tag => tag.toLowerCase().includes(lowerQuery)),\r\n    )\r\n  }\r\n\r\n  /**\r\n   * ÊåâÂàÜÁ±ªËé∑ÂèñÊèí‰ª∂\r\n   */\r\n  getByCategory(category: string): MarketplacePlugin[] {\r\n    return Array.from(this.plugins.values()).filter(p => p.category === category)\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÊé®ËçêÊèí‰ª∂\r\n   */\r\n  getRecommended(limit: number = 6): MarketplacePlugin[] {\r\n    return Array.from(this.plugins.values())\r\n      .sort((a, b) => b.rating * b.downloads - a.rating * a.downloads)\r\n      .slice(0, limit)\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÁÉ≠Èó®Êèí‰ª∂\r\n   */\r\n  getPopular(limit: number = 6): MarketplacePlugin[] {\r\n    return Array.from(this.plugins.values())\r\n      .sort((a, b) => b.downloads - a.downloads)\r\n      .slice(0, limit)\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÊúÄÊñ∞Êèí‰ª∂\r\n   */\r\n  getLatest(limit: number = 6): MarketplacePlugin[] {\r\n    return Array.from(this.plugins.values())\r\n      .slice(-limit)\r\n      .reverse()\r\n  }\r\n\r\n  /**\r\n   * ÂÆâË£ÖÊèí‰ª∂ÔºàÊ®°ÊãüÔºâ\r\n   */\r\n  async install(pluginId: string): Promise<boolean> {\r\n    const plugin = this.plugins.get(pluginId)\r\n\r\n    if (!plugin)\r\n      throw new Error(`Plugin ${pluginId} not found`)\r\n\r\n    if (this.installed.has(pluginId))\r\n      throw new Error(`Plugin ${pluginId} is already installed`)\r\n\r\n    // Ê£ÄÊü•‰æùËµñ\r\n    if (plugin.dependencies) {\r\n      for (const dep of plugin.dependencies) {\r\n        // Ê£ÄÊü•‰æùËµñÊòØÂê¶Â∑≤ÂÆâË£Ö\r\n        console.log(`Checking dependency: ${dep}`)\r\n      }\r\n    }\r\n\r\n    // Ê®°ÊãüÂÆâË£ÖËøáÁ®ã\r\n    await new Promise(resolve => setTimeout(resolve, 1000))\r\n\r\n    this.installed.add(pluginId)\r\n    this.emit('plugin:installed', plugin)\r\n\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Âç∏ËΩΩÊèí‰ª∂\r\n   */\r\n  async uninstall(pluginId: string): Promise<boolean> {\r\n    if (!this.installed.has(pluginId))\r\n      throw new Error(`Plugin ${pluginId} is not installed`)\r\n\r\n    this.installed.delete(pluginId)\r\n    this.emit('plugin:uninstalled', { id: pluginId })\r\n\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Ê£ÄÊü•ÊòØÂê¶Â∑≤ÂÆâË£Ö\r\n   */\r\n  isInstalled(pluginId: string): boolean {\r\n    return this.installed.has(pluginId)\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÂ∑≤ÂÆâË£ÖÊèí‰ª∂\r\n   */\r\n  getInstalled(): MarketplacePlugin[] {\r\n    return Array.from(this.installed)\r\n      .map(id => this.plugins.get(id))\r\n      .filter(Boolean) as MarketplacePlugin[]\r\n  }\r\n\r\n  /**\r\n   * Ëé∑ÂèñÁªüËÆ°‰ø°ÊÅØ\r\n   */\r\n  getStats(): {\r\n    total: number\r\n    installed: number\r\n    available: number\r\n    categories: string[]\r\n  } {\r\n    const categories = new Set(Array.from(this.plugins.values()).map(p => p.category))\r\n\r\n    return {\r\n      total: this.plugins.size,\r\n      installed: this.installed.size,\r\n      available: this.plugins.size - this.installed.size,\r\n      categories: Array.from(categories),\r\n    }\r\n  }\r\n}\r\n\r\n// ÂÖ®Â±ÄÂÆû‰æã\r\nlet marketInstance: PluginMarket | null = null\r\n\r\n/**\r\n * Ëé∑ÂèñÊèí‰ª∂Â∏ÇÂú∫ÂÆû‰æã\r\n */\r\nexport function getPluginMarket(): PluginMarket {\r\n  if (!marketInstance)\r\n    marketInstance = new PluginMarket()\r\n\r\n  return marketInstance\r\n}\r\n"],"names":["PluginMarket","EventEmitter","constructor","registry","getPluginRegistry","plugins","Map","installed","Set","loadFeaturedPlugins","featured","id","name","version","author","description","category","tags","downloads","rating","size","icon","license","config","preserveFormatting","convertTables","dependencies","forEach","plugin","set","search","query","lowerQuery","toLowerCase","Array","from","values","filter","includes","some","tag","getByCategory","p","getRecommended","limit","sort","a","b","slice","getPopular","getLatest","reverse","install","pluginId","get","Error","has","dep","console","log","Promise","resolve","setTimeout","add","emit","uninstall","delete","isInstalled","getInstalled","map","Boolean","getStats","categories","total","available","marketInstance","getPluginMarket"],"mappings":"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"}