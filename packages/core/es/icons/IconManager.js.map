{"version":3,"file":"IconManager.js","sources":["../../src/icons/IconManager.ts"],"sourcesContent":["/**\r\n * 图标管理器\r\n * 负责管理、渲染和切换图标集\r\n */\r\n\r\nimport type {\r\n  EditorIconMap,\r\n  IconCategory,\r\n  IconDefinition,\r\n  IconManagerConfig,\r\n  IconRenderOptions,\r\n  IconSet,\r\n  IconSetType,\r\n  IconStyle,\r\n  IIconManager,\r\n} from './types'\r\nimport { EventEmitter } from '../core/EventEmitter'\r\nimport { FeatherIconSet } from './sets/feather'\r\nimport { LucideIconSet } from './sets/lucide'\r\nimport { MaterialIconSet } from './sets/material'\r\n\r\nexport class IconManager extends EventEmitter implements IIconManager {\r\n  private iconSets: Map<IconSetType, IconSet> = new Map()\r\n  private currentSet: IconSetType = 'lucide'\r\n  private defaultStyle: IconStyle = {\r\n    size: 20,\r\n    strokeWidth: 2,\r\n    color: 'currentColor',\r\n  }\r\n\r\n  private iconCache: Map<string, string> = new Map()\r\n  private config: IconManagerConfig\r\n  private editorIconMap?: EditorIconMap\r\n\r\n  constructor(config: IconManagerConfig = {}) {\r\n    super()\r\n    this.config = {\r\n      defaultSet: 'lucide',\r\n      enableCache: true,\r\n      ...config,\r\n    }\r\n\r\n    // 设置默认样式\r\n    if (config.defaultStyle)\r\n      this.defaultStyle = { ...this.defaultStyle, ...config.defaultStyle }\r\n\r\n    // 初始化内置图标集\r\n    this.initializeBuiltinSets()\r\n\r\n    // 注册自定义图标集\r\n    if (config.customSets) {\r\n      config.customSets.forEach((set, name) => {\r\n        this.registerIconSet(set)\r\n      })\r\n    }\r\n\r\n    // 设置默认图标集\r\n    this.currentSet = config.defaultSet || 'lucide'\r\n  }\r\n\r\n  /**\r\n   * 初始化内置图标集\r\n   */\r\n  private initializeBuiltinSets(): void {\r\n    // 注册Lucide图标集\r\n    this.registerIconSet(new LucideIconSet())\r\n\r\n    // 注册Feather图标集\r\n    this.registerIconSet(new FeatherIconSet())\r\n\r\n    // 注册Material图标集\r\n    this.registerIconSet(new MaterialIconSet())\r\n  }\r\n\r\n  /**\r\n   * 获取图标定义\r\n   */\r\n  getIcon(name: string, set?: IconSetType): IconDefinition | null {\r\n    const targetSet = set || this.currentSet\r\n    const iconSet = this.iconSets.get(targetSet)\r\n\r\n    if (!iconSet) {\r\n      console.warn(`Icon set \"${targetSet}\" not found`)\r\n      return null\r\n    }\r\n\r\n    // 首先尝试从编辑器映射中获取图标名\r\n    const mappedName = this.getMappedIconName(name, targetSet)\r\n\r\n    // 尝试获取图标\r\n    let icon = iconSet.getIcon(mappedName)\r\n\r\n    // 如果没找到，尝试原始名称\r\n    if (!icon && mappedName !== name)\r\n      icon = iconSet.getIcon(name)\r\n\r\n    // 如果还没找到，尝试fallback图标\r\n    if (!icon && this.config.fallbackIcon)\r\n      icon = iconSet.getIcon(this.config.fallbackIcon)\r\n\r\n    return icon\r\n  }\r\n\r\n  /**\r\n   * 渲染图标为HTML字符串\r\n   */\r\n  renderIcon(name: string, options: IconRenderOptions = {}): string {\r\n    // 检查缓存\r\n    const cacheKey = this.getCacheKey(name, options)\r\n    if (this.config.enableCache && this.iconCache.has(cacheKey))\r\n      return this.iconCache.get(cacheKey)!\r\n\r\n    const icon = this.getIcon(name)\r\n    if (!icon) {\r\n      console.warn(`Icon \"${name}\" not found in set \"${this.currentSet}\"`)\r\n      return this.renderFallbackIcon(name, options)\r\n    }\r\n\r\n    // 合并样式选项\r\n    const style = { ...this.defaultStyle, ...options }\r\n\r\n    // 构建SVG\r\n    const svg = this.buildSvg(icon, style)\r\n\r\n    // 缓存结果\r\n    if (this.config.enableCache)\r\n      this.iconCache.set(cacheKey, svg)\r\n\r\n    return svg\r\n  }\r\n\r\n  /**\r\n   * 创建图标DOM元素\r\n   */\r\n  createIconElement(name: string, options: IconRenderOptions = {}): HTMLElement {\r\n    const wrapper = document.createElement('span')\r\n    wrapper.className = `icon icon-${name}`\r\n\r\n    if (options.className)\r\n      wrapper.className += ` ${options.className}`\r\n\r\n    if (options.inline) {\r\n      wrapper.style.display = 'inline-block'\r\n      wrapper.style.verticalAlign = 'middle'\r\n    }\r\n\r\n    wrapper.innerHTML = this.renderIcon(name, options)\r\n\r\n    // 添加旋转动画\r\n    if (options.spinning) {\r\n      wrapper.classList.add('icon-spinning')\r\n      this.addSpinningStyles()\r\n    }\r\n\r\n    return wrapper\r\n  }\r\n\r\n  /**\r\n   * 设置默认图标集\r\n   */\r\n  setDefaultIconSet(set: IconSetType): void {\r\n    if (!this.iconSets.has(set))\r\n      throw new Error(`Icon set \"${set}\" is not registered`)\r\n\r\n    const oldSet = this.currentSet\r\n    this.currentSet = set\r\n\r\n    // 清空缓存\r\n    this.iconCache.clear()\r\n\r\n    // 触发事件\r\n    this.emit('iconset:changed', {\r\n      oldSet,\r\n      newSet: set,\r\n    })\r\n\r\n    // 批量替换页面上的图标\r\n    if (typeof window !== 'undefined')\r\n      this.replaceAllIcons(set)\r\n  }\r\n\r\n  /**\r\n   * 获取当前图标集\r\n   */\r\n  getCurrentIconSet(): IconSetType {\r\n    return this.currentSet\r\n  }\r\n\r\n  /**\r\n   * 注册自定义图标\r\n   */\r\n  registerIcon(name: string, svg: string, set: IconSetType = 'custom'): void {\r\n    let iconSet = this.iconSets.get(set)\r\n\r\n    // 如果是custom集且不存在，创建一个\r\n    if (!iconSet && set === 'custom') {\r\n      iconSet = this.createCustomIconSet()\r\n      this.registerIconSet(iconSet)\r\n    }\r\n\r\n    if (!iconSet)\r\n      throw new Error(`Icon set \"${set}\" not found`)\r\n\r\n    // 添加图标到集合\r\n    const icon: IconDefinition = {\r\n      name,\r\n      svg,\r\n      viewBox: '0 0 24 24',\r\n    }\r\n\r\n    iconSet.icons.set(name, icon)\r\n\r\n    // 清空缓存\r\n    this.clearIconCache(name)\r\n\r\n    this.emit('icon:registered', { name, set })\r\n  }\r\n\r\n  /**\r\n   * 注册图标集\r\n   */\r\n  registerIconSet(set: IconSet): void {\r\n    this.iconSets.set(set.name, set)\r\n    this.emit('iconset:registered', set.name)\r\n  }\r\n\r\n  /**\r\n   * 获取所有可用的图标集\r\n   */\r\n  getAvailableIconSets(): IconSetType[] {\r\n    return Array.from(this.iconSets.keys())\r\n  }\r\n\r\n  /**\r\n   * 搜索图标\r\n   */\r\n  searchIcons(query: string, set?: IconSetType): IconDefinition[] {\r\n    const targetSet = set || this.currentSet\r\n    const iconSet = this.iconSets.get(targetSet)\r\n\r\n    if (!iconSet)\r\n      return []\r\n\r\n    return iconSet.searchIcons(query)\r\n  }\r\n\r\n  /**\r\n   * 按分类获取图标\r\n   */\r\n  getIconsByCategory(category: IconCategory, set?: IconSetType): IconDefinition[] {\r\n    const targetSet = set || this.currentSet\r\n    const iconSet = this.iconSets.get(targetSet)\r\n\r\n    if (!iconSet)\r\n      return []\r\n\r\n    return iconSet.getIconsByCategory(category)\r\n  }\r\n\r\n  /**\r\n   * 批量替换所有图标\r\n   */\r\n  replaceAllIcons(set: IconSetType): void {\r\n    if (!this.iconSets.has(set)) {\r\n      console.warn(`Icon set \"${set}\" not found`)\r\n      return\r\n    }\r\n\r\n    // 查找所有图标元素\r\n    const iconElements = document.querySelectorAll('.icon[data-icon-name]')\r\n\r\n    iconElements.forEach((element) => {\r\n      const iconName = element.getAttribute('data-icon-name')\r\n      if (!iconName)\r\n        return\r\n\r\n      // 获取原有选项\r\n      const options = this.extractOptionsFromElement(element as HTMLElement)\r\n\r\n      // 重新渲染图标\r\n      const newIcon = this.renderIcon(iconName, options)\r\n      element.innerHTML = newIcon\r\n    })\r\n\r\n    this.emit('icons:replaced', { set, count: iconElements.length })\r\n  }\r\n\r\n  /**\r\n   * 设置编辑器图标映射\r\n   */\r\n  setEditorIconMap(map: Partial<EditorIconMap>): void {\r\n    this.editorIconMap = { ...this.getDefaultEditorIconMap(), ...map }\r\n    this.emit('iconmap:updated', this.editorIconMap)\r\n  }\r\n\r\n  /**\r\n   * 构建SVG字符串\r\n   */\r\n  private buildSvg(icon: IconDefinition, style: IconStyle): string {\r\n    const size = typeof style.size === 'number' ? `${style.size}px` : style.size || '20px'\r\n    const viewBox = icon.viewBox || '0 0 24 24'\r\n\r\n    // 提取路径内容\r\n    let pathContent = icon.svg\r\n\r\n    // 如果svg是完整的SVG标签，提取内部内容\r\n    if (icon.svg.includes('<svg')) {\r\n      const match = icon.svg.match(/<svg[^>]*>(.*)<\\/svg>/s)\r\n      if (match)\r\n        pathContent = match[1]\r\n    }\r\n\r\n    return `\r\n      <svg \r\n        xmlns=\"http://www.w3.org/2000/svg\" \r\n        width=\"${size}\" \r\n        height=\"${size}\" \r\n        viewBox=\"${viewBox}\"\r\n        fill=\"${style.fill || 'none'}\"\r\n        stroke=\"${style.color || 'currentColor'}\"\r\n        stroke-width=\"${style.strokeWidth || 2}\"\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        class=\"icon-svg\"\r\n        data-icon-name=\"${icon.name}\"\r\n      >\r\n        ${pathContent}\r\n      </svg>\r\n    `.trim()\r\n  }\r\n\r\n  /**\r\n   * 渲染后备图标\r\n   */\r\n  private renderFallbackIcon(name: string, options: IconRenderOptions): string {\r\n    const size = typeof options.size === 'number' ? `${options.size}px` : options.size || '20px'\r\n\r\n    return `\r\n      <svg \r\n        xmlns=\"http://www.w3.org/2000/svg\" \r\n        width=\"${size}\" \r\n        height=\"${size}\" \r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        stroke-width=\"2\"\r\n        class=\"icon-svg icon-fallback\"\r\n      >\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n        <text x=\"12\" y=\"16\" text-anchor=\"middle\" font-size=\"12\" fill=\"currentColor\" stroke=\"none\">?</text>\r\n      </svg>\r\n    `.trim()\r\n  }\r\n\r\n  /**\r\n   * 获取缓存键\r\n   */\r\n  private getCacheKey(name: string, options: IconRenderOptions): string {\r\n    return `${this.currentSet}:${name}:${JSON.stringify(options)}`\r\n  }\r\n\r\n  /**\r\n   * 清空特定图标的缓存\r\n   */\r\n  private clearIconCache(name: string): void {\r\n    const keysToDelete: string[] = []\r\n    this.iconCache.forEach((_, key) => {\r\n      if (key.includes(`:${name}:`))\r\n        keysToDelete.push(key)\r\n    })\r\n    keysToDelete.forEach(key => this.iconCache.delete(key))\r\n  }\r\n\r\n  /**\r\n   * 从元素提取选项\r\n   */\r\n  private extractOptionsFromElement(element: HTMLElement): IconRenderOptions {\r\n    const svg = element.querySelector('svg')\r\n    if (!svg)\r\n      return {}\r\n\r\n    return {\r\n      size: svg.getAttribute('width') || undefined,\r\n      color: svg.getAttribute('stroke') || undefined,\r\n      strokeWidth: svg.getAttribute('stroke-width')\r\n        ? Number.parseFloat(svg.getAttribute('stroke-width')!)\r\n        : undefined,\r\n      fill: svg.getAttribute('fill') || undefined,\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建自定义图标集\r\n   */\r\n  private createCustomIconSet(): IconSet {\r\n    return {\r\n      name: 'custom',\r\n      displayName: 'Custom Icons',\r\n      icons: new Map(),\r\n      getIcon(name: string) {\r\n        return this.icons.get(name) || null\r\n      },\r\n      getAllIcons() {\r\n        return Array.from(this.icons.values())\r\n      },\r\n      getIconsByCategory(category: IconCategory) {\r\n        return Array.from(this.icons.values()).filter(icon => icon.category === category)\r\n      },\r\n      searchIcons(query: string) {\r\n        const lowerQuery = query.toLowerCase()\r\n        return Array.from(this.icons.values()).filter(icon =>\r\n          icon.name.toLowerCase().includes(lowerQuery)\r\n          || icon.tags?.some(tag => tag.toLowerCase().includes(lowerQuery)),\r\n        )\r\n      },\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 添加旋转样式\r\n   */\r\n  private addSpinningStyles(): void {\r\n    if (document.getElementById('icon-spinning-styles'))\r\n      return\r\n\r\n    const style = document.createElement('style')\r\n    style.id = 'icon-spinning-styles'\r\n    style.textContent = `\r\n      @keyframes icon-spin {\r\n        from { transform: rotate(0deg); }\r\n        to { transform: rotate(360deg); }\r\n      }\r\n      .icon-spinning svg {\r\n        animation: icon-spin 1s linear infinite;\r\n      }\r\n    `\r\n    document.head.appendChild(style)\r\n  }\r\n\r\n  /**\r\n   * 获取映射的图标名称\r\n   */\r\n  private getMappedIconName(name: string, set: IconSetType): string {\r\n    if (!this.editorIconMap)\r\n      this.editorIconMap = this.getDefaultEditorIconMap()\r\n\r\n    // 如果存在映射，返回映射的名称\r\n    const mappedName = (this.editorIconMap as any)[name]\r\n    if (mappedName)\r\n      return mappedName\r\n\r\n    return name\r\n  }\r\n\r\n  /**\r\n   * 获取默认的编辑器图标映射\r\n   */\r\n  private getDefaultEditorIconMap(): EditorIconMap {\r\n    // 这里返回每个图标集的默认映射\r\n    // 实际映射会在各个图标集中定义\r\n    return {\r\n      bold: 'bold',\r\n      italic: 'italic',\r\n      underline: 'underline',\r\n      strikethrough: 'strikethrough',\r\n      code: 'code',\r\n      subscript: 'subscript',\r\n      superscript: 'superscript',\r\n      clearFormat: 'remove-formatting',\r\n      heading: 'heading',\r\n      heading1: 'heading-1',\r\n      heading2: 'heading-2',\r\n      heading3: 'heading-3',\r\n      paragraph: 'pilcrow',\r\n      blockquote: 'quote',\r\n      bulletList: 'list',\r\n      orderedList: 'list-ordered',\r\n      taskList: 'list-checks',\r\n      indent: 'indent',\r\n      outdent: 'outdent',\r\n      alignLeft: 'align-left',\r\n      alignCenter: 'align-center',\r\n      alignRight: 'align-right',\r\n      alignJustify: 'align-justify',\r\n      link: 'link',\r\n      unlink: 'unlink',\r\n      image: 'image',\r\n      video: 'video',\r\n      table: 'table',\r\n      horizontalRule: 'separator-horizontal',\r\n      emoji: 'smile',\r\n      template: 'file-text',\r\n      undo: 'undo',\r\n      redo: 'redo',\r\n      copy: 'copy',\r\n      cut: 'scissors',\r\n      paste: 'clipboard',\r\n      delete: 'trash',\r\n      selectAll: 'select-all',\r\n      search: 'search',\r\n      replace: 'replace',\r\n      fullscreen: 'maximize',\r\n      exitFullscreen: 'minimize',\r\n      preview: 'eye',\r\n      sourceCode: 'code-2',\r\n      save: 'save',\r\n      open: 'folder-open',\r\n      export: 'download',\r\n      import: 'upload',\r\n      print: 'printer',\r\n      settings: 'settings',\r\n      help: 'help-circle',\r\n      info: 'info',\r\n      more: 'more-horizontal',\r\n      ai: 'sparkles',\r\n      aiSuggest: 'lightbulb',\r\n      aiTranslate: 'languages',\r\n      aiImprove: 'wand',\r\n      textColor: 'palette',\r\n      backgroundColor: 'paint-bucket',\r\n      colorPicker: 'pipette',\r\n      insertRowAbove: 'row-insert-top',\r\n      insertRowBelow: 'row-insert-bottom',\r\n      insertColumnLeft: 'column-insert-left',\r\n      insertColumnRight: 'column-insert-right',\r\n      deleteRow: 'row-delete',\r\n      deleteColumn: 'column-delete',\r\n      deleteTable: 'table-delete',\r\n      mergeCells: 'cells-merge',\r\n      splitCell: 'cells-split',\r\n      arrowUp: 'arrow-up',\r\n      arrowDown: 'arrow-down',\r\n      arrowLeft: 'arrow-left',\r\n      arrowRight: 'arrow-right',\r\n      chevronUp: 'chevron-up',\r\n      chevronDown: 'chevron-down',\r\n      chevronLeft: 'chevron-left',\r\n      chevronRight: 'chevron-right',\r\n      close: 'x',\r\n      check: 'check',\r\n      plus: 'plus',\r\n      minus: 'minus',\r\n      refresh: 'refresh-cw',\r\n      download: 'download',\r\n      upload: 'upload',\r\n      share: 'share',\r\n      lock: 'lock',\r\n      unlock: 'unlock',\r\n      user: 'user',\r\n      calendar: 'calendar',\r\n      clock: 'clock',\r\n      folder: 'folder',\r\n      file: 'file',\r\n      tag: 'tag',\r\n      bookmark: 'bookmark',\r\n      star: 'star',\r\n      heart: 'heart',\r\n      comment: 'message-circle',\r\n      bell: 'bell',\r\n      warning: 'alert-triangle',\r\n      error: 'alert-circle',\r\n      success: 'check-circle',\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 清理资源\r\n   */\r\n  destroy(): void {\r\n    this.iconCache.clear()\r\n    this.iconSets.clear()\r\n    this.removeAllListeners()\r\n  }\r\n}\r\n\r\n// 全局单例\r\nlet globalIconManager: IconManager | null = null\r\n\r\n/**\r\n * 获取全局图标管理器实例\r\n */\r\nexport function getIconManager(config?: IconManagerConfig): IconManager {\r\n  if (!globalIconManager)\r\n    globalIconManager = new IconManager(config)\r\n\r\n  return globalIconManager\r\n}\r\n\r\n/**\r\n * 重置全局图标管理器\r\n */\r\nexport function resetIconManager(): void {\r\n  if (globalIconManager) {\r\n    globalIconManager.destroy()\r\n    globalIconManager = null\r\n  }\r\n}\r\n"],"names":["IconManager","EventEmitter","constructor","config","iconSets","Map","currentSet","defaultStyle","size","strokeWidth","color","iconCache","defaultSet","enableCache","initializeBuiltinSets","customSets","forEach","set","name","registerIconSet","LucideIconSet","FeatherIconSet","MaterialIconSet","getIcon","targetSet","iconSet","get","console","warn","mappedName","getMappedIconName","icon","fallbackIcon","renderIcon","options","cacheKey","getCacheKey","has","renderFallbackIcon","style","svg","buildSvg","createIconElement","wrapper","document","createElement","className","inline","display","verticalAlign","innerHTML","spinning","classList","add","addSpinningStyles","setDefaultIconSet","Error","oldSet","clear","emit","newSet","window","replaceAllIcons","getCurrentIconSet","registerIcon","createCustomIconSet","viewBox","icons","clearIconCache","getAvailableIconSets","Array","from","keys","searchIcons","query","getIconsByCategory","category","iconElements","querySelectorAll","element","iconName","getAttribute","extractOptionsFromElement","newIcon","count","length","setEditorIconMap","map","editorIconMap","getDefaultEditorIconMap","pathContent","includes","match","fill","trim","JSON","stringify","keysToDelete","_","key","push","delete","querySelector","undefined","Number","parseFloat","displayName","getAllIcons","values","filter","lowerQuery","toLowerCase","tags","some","tag","getElementById","id","textContent","head","appendChild","bold","italic","underline","strikethrough","code","subscript","superscript","clearFormat","heading","heading1","heading2","heading3","paragraph","blockquote","bulletList","orderedList","taskList","indent","outdent","alignLeft","alignCenter","alignRight","alignJustify","link","unlink","image","video","table","horizontalRule","emoji","template","undo","redo","copy","cut","paste","selectAll","search","replace","fullscreen","exitFullscreen","preview","sourceCode","save","open","export","import","print","settings","help","info","more","ai","aiSuggest","aiTranslate","aiImprove","textColor","backgroundColor","colorPicker","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteRow","deleteColumn","deleteTable","mergeCells","splitCell","arrowUp","arrowDown","arrowLeft","arrowRight","chevronUp","chevronDown","chevronLeft","chevronRight","close","check","plus","minus","refresh","download","upload","share","lock","unlock","user","calendar","clock","folder","file","bookmark","star","heart","comment","bell","warning","error","success","destroy","removeAllListeners","globalIconManager","getIconManager","resetIconManager"],"mappings":"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"}