{"version":3,"file":"OfflineStorage.js","sources":["../../src/pwa/OfflineStorage.ts"],"sourcesContent":["/**\r\n * 离线存储管理器\r\n * 使用IndexedDB存储离线编辑数据\r\n */\r\n\r\nimport type { OfflineData } from './types'\r\nimport { createLogger } from '../utils/logger'\r\n\r\nconst logger = createLogger('OfflineStorage')\r\n\r\nexport class OfflineStorage {\r\n  private db?: IDBDatabase\r\n  private dbName = 'ldesign-offline'\r\n  private version = 1\r\n  private storeName = 'documents'\r\n\r\n  /**\r\n   * 初始化\r\n   */\r\n  async initialize(): Promise<void> {\r\n    logger.info('Initializing offline storage')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const request = indexedDB.open(this.dbName, this.version)\r\n\r\n      request.onerror = () => {\r\n        logger.error('Failed to open database:', request.error)\r\n        reject(request.error)\r\n      }\r\n\r\n      request.onsuccess = () => {\r\n        this.db = request.result\r\n        logger.info('Offline storage initialized')\r\n        resolve()\r\n      }\r\n\r\n      request.onupgradeneeded = (event) => {\r\n        const db = (event.target as IDBOpenDBRequest).result\r\n\r\n        // 创建对象存储\r\n        if (!db.objectStoreNames.contains(this.storeName)) {\r\n          const store = db.createObjectStore(this.storeName, { keyPath: 'id' })\r\n\r\n          // 创建索引\r\n          store.createIndex('type', 'type', { unique: false })\r\n          store.createIndex('synced', 'synced', { unique: false })\r\n          store.createIndex('updatedAt', 'updatedAt', { unique: false })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 保存数据\r\n   */\r\n  async save(data: Omit<OfflineData, 'createdAt' | 'updatedAt' | 'synced'>): Promise<void> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    const record: OfflineData = {\r\n      ...data,\r\n      createdAt: Date.now(),\r\n      updatedAt: Date.now(),\r\n      synced: false,\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readwrite')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.put(record)\r\n\r\n      request.onsuccess = () => {\r\n        logger.debug(`Saved: ${data.id}`)\r\n        resolve()\r\n      }\r\n\r\n      request.onerror = () => {\r\n        logger.error('Failed to save:', request.error)\r\n        reject(request.error)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取数据\r\n   */\r\n  async get(id: string): Promise<OfflineData | undefined> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readonly')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.get(id)\r\n\r\n      request.onsuccess = () => resolve(request.result)\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取所有数据\r\n   */\r\n  async getAll(): Promise<OfflineData[]> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readonly')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.getAll()\r\n\r\n      request.onsuccess = () => resolve(request.result || [])\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取未同步的数据\r\n   */\r\n  async getUnsynced(): Promise<OfflineData[]> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readonly')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const index = store.index('synced')\r\n      const request = index.getAll(false)\r\n\r\n      request.onsuccess = () => resolve(request.result || [])\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 更新数据\r\n   */\r\n  async update(id: string, updates: Partial<OfflineData>): Promise<void> {\r\n    const existing = await this.get(id)\r\n    if (!existing)\r\n      throw new Error(`Document not found: ${id}`)\r\n\r\n    const updated: OfflineData = {\r\n      ...existing,\r\n      ...updates,\r\n      updatedAt: Date.now(),\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readwrite')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.put(updated)\r\n\r\n      request.onsuccess = () => {\r\n        logger.debug(`Updated: ${id}`)\r\n        resolve()\r\n      }\r\n\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 标记为已同步\r\n   */\r\n  async markAsSynced(id: string): Promise<void> {\r\n    await this.update(id, { synced: true })\r\n  }\r\n\r\n  /**\r\n   * 删除数据\r\n   */\r\n  async delete(id: string): Promise<void> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readwrite')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.delete(id)\r\n\r\n      request.onsuccess = () => {\r\n        logger.debug(`Deleted: ${id}`)\r\n        resolve()\r\n      }\r\n\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 清空所有数据\r\n   */\r\n  async clear(): Promise<void> {\r\n    if (!this.db)\r\n      throw new Error('Database not initialized')\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const transaction = this.db!.transaction([this.storeName], 'readwrite')\r\n      const store = transaction.objectStore(this.storeName)\r\n      const request = store.clear()\r\n\r\n      request.onsuccess = () => {\r\n        logger.info('All offline data cleared')\r\n        resolve()\r\n      }\r\n\r\n      request.onerror = () => reject(request.error)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取存储大小\r\n   */\r\n  async getSize(): Promise<number> {\r\n    if (!('estimate' in navigator.storage))\r\n      return 0\r\n\r\n    try {\r\n      const estimate = await navigator.storage.estimate()\r\n      return estimate.usage || 0\r\n    }\r\n    catch (error) {\r\n      logger.error('Failed to get storage size:', error)\r\n      return 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁\r\n   */\r\n  destroy(): void {\r\n    this.db?.close()\r\n    this.db = undefined\r\n  }\r\n}\r\n"],"names":["logger","createLogger","OfflineStorage","dbName","version","storeName","initialize","info","Promise","resolve","reject","request","indexedDB","open","onerror","error","onsuccess","db","result","onupgradeneeded","event","target","objectStoreNames","contains","store","createObjectStore","keyPath","createIndex","unique","save","data","Error","record","createdAt","Date","now","updatedAt","synced","transaction","objectStore","put","debug","id","get","getAll","getUnsynced","index","update","updates","existing","updated","markAsSynced","delete","clear","getSize","navigator","storage","estimate","usage","destroy","close","undefined"],"mappings":"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"}