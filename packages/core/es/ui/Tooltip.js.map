{"version":3,"file":"Tooltip.js","sources":["../../src/ui/Tooltip.ts"],"sourcesContent":["/**\r\n * 自定义工具提示组件\r\n */\r\n\r\nlet currentTooltip: HTMLElement | null = null\r\n\r\n/**\r\n * 显示工具提示\r\n */\r\nexport function showTooltip(element: HTMLElement, text: string): void {\r\n  // 移除已存在的提示\r\n  hideTooltip()\r\n\r\n  const tooltip = document.createElement('div')\r\n  tooltip.className = 'editor-tooltip'\r\n  tooltip.textContent = text\r\n\r\n  document.body.appendChild(tooltip)\r\n  currentTooltip = tooltip\r\n\r\n  // 定位提示框\r\n  const rect = element.getBoundingClientRect()\r\n  const tooltipRect = tooltip.getBoundingClientRect()\r\n\r\n  // 计算位置（居中显示在元素下方）\r\n  const left = rect.left + (rect.width - tooltipRect.width) / 2\r\n  const top = rect.bottom + 8\r\n\r\n  tooltip.style.left = `${left}px`\r\n  tooltip.style.top = `${top}px`\r\n\r\n  // 添加显示动画\r\n  requestAnimationFrame(() => {\r\n    tooltip.classList.add('show')\r\n  })\r\n}\r\n\r\n/**\r\n * 隐藏工具提示\r\n */\r\nexport function hideTooltip(): void {\r\n  if (currentTooltip) {\r\n    currentTooltip.remove()\r\n    currentTooltip = null\r\n  }\r\n}\r\n\r\n/**\r\n * 绑定工具提示到元素\r\n */\r\nexport function bindTooltip(element: HTMLElement, text: string): void {\r\n  let timeoutId: number | null = null\r\n\r\n  element.addEventListener('mouseenter', () => {\r\n    // 延迟显示，避免快速划过时闪烁\r\n    timeoutId = window.setTimeout(() => {\r\n      showTooltip(element, text)\r\n    }, 500)\r\n  })\r\n\r\n  element.addEventListener('mouseleave', () => {\r\n    if (timeoutId !== null) {\r\n      clearTimeout(timeoutId)\r\n      timeoutId = null\r\n    }\r\n    hideTooltip()\r\n  })\r\n}\r\n"],"names":["currentTooltip","showTooltip","element","text","hideTooltip","tooltip","document","createElement","className","textContent","body","appendChild","rect","getBoundingClientRect","tooltipRect","left","width","top","bottom","style","requestAnimationFrame","classList","add","remove","bindTooltip","timeoutId","addEventListener","window","setTimeout","clearTimeout"],"mappings":";;;;;;;;;AAIA,IAAIA,cAAAA,GAAqC,IAAA;AAKlC,SAASC,WAAAA,CAAYC,SAAsBC,IAAAA,EAAoB;AAEpEC,EAAAA,WAAAA,EAAY;AAEZ,EAAA,MAAMC,OAAAA,GAAUC,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC5CF,EAAAA,OAAAA,CAAQG,SAAAA,GAAY,gBAAA;AACpBH,EAAAA,OAAAA,CAAQI,WAAAA,GAAcN,IAAAA;AAEtBG,EAAAA,QAAAA,CAASI,IAAAA,CAAKC,YAAYN,OAAO,CAAA;AACjCL,EAAAA,cAAAA,GAAiBK,OAAAA;AAGjB,EAAA,MAAMO,IAAAA,GAAOV,QAAQW,qBAAAA,EAAsB;AAC3C,EAAA,MAAMC,WAAAA,GAAcT,QAAQQ,qBAAAA,EAAsB;AAGlD,EAAA,MAAME,OAAOH,IAAAA,CAAKG,IAAAA,GAAAA,CAAQH,IAAAA,CAAKI,KAAAA,GAAQF,YAAYE,KAAAA,IAAS,CAAA;AAC5D,EAAA,MAAMC,GAAAA,GAAML,KAAKM,MAAAA,GAAS,CAAA;AAE1Bb,EAAAA,OAAAA,CAAQc,KAAAA,CAAMJ,IAAAA,GAAO,CAAA,EAAGA,IAAI,CAAA,EAAA,CAAA;AAC5BV,EAAAA,OAAAA,CAAQc,KAAAA,CAAMF,GAAAA,GAAM,CAAA,EAAGA,GAAG,CAAA,EAAA,CAAA;AAG1BG,EAAAA,qBAAAA,CAAsB,MAAM;AAC1Bf,IAAAA,OAAAA,CAAQgB,SAAAA,CAAUC,IAAI,MAAM,CAAA;AAAA,EAC9B,CAAC,CAAA;AACH;AAKO,SAASlB,WAAAA,GAAoB;AAClC,EAAA,IAAIJ,cAAAA,EAAgB;AAClBA,IAAAA,cAAAA,CAAeuB,MAAAA,EAAO;AACtBvB,IAAAA,cAAAA,GAAiB,IAAA;AAAA,EACnB;AACF;AAKO,SAASwB,WAAAA,CAAYtB,SAAsBC,IAAAA,EAAoB;AACpE,EAAA,IAAIsB,SAAAA,GAA2B,IAAA;AAE/BvB,EAAAA,OAAAA,CAAQwB,gBAAAA,CAAiB,cAAc,MAAM;AAE3CD,IAAAA,SAAAA,GAAYE,MAAAA,CAAOC,WAAW,MAAM;AAClC3B,MAAAA,WAAAA,CAAYC,SAASC,IAAI,CAAA;AAAA,IAC3B,GAAG,GAAG,CAAA;AAAA,EACR,CAAC,CAAA;AAEDD,EAAAA,OAAAA,CAAQwB,gBAAAA,CAAiB,cAAc,MAAM;AAC3C,IAAA,IAAID,cAAc,IAAA,EAAM;AACtBI,MAAAA,YAAAA,CAAaJ,SAAS,CAAA;AACtBA,MAAAA,SAAAA,GAAY,IAAA;AAAA,IACd;AACArB,IAAAA,WAAAA,EAAY;AAAA,EACd,CAAC,CAAA;AACH;;;;;;;"}