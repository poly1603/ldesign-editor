{"version":3,"file":"SettingsPanel.js","sources":["../../src/ui/SettingsPanel.ts"],"sourcesContent":["/**\r\n * 设置面板\r\n * 提供可视化的编辑器配置界面\r\n */\r\n\r\nimport type { ConfigManager } from '../config/ConfigManager'\r\nimport type { ComponentFactory } from './base/ComponentFactory'\r\nimport { getConfigManager } from '../config/ConfigManager'\r\nimport { getComponentFactory } from './base/ComponentFactory'\r\nimport { Modal } from './base/Modal'\r\n\r\n/**\r\n * 设置面板选项\r\n */\r\nexport interface SettingsPanelOptions {\r\n  width?: string\r\n  height?: string\r\n  onClose?: () => void\r\n  onSave?: (config: any) => void\r\n}\r\n\r\n/**\r\n * 设置面板类\r\n */\r\nexport class SettingsPanel {\r\n  private configManager: ConfigManager\r\n  private componentFactory: ComponentFactory\r\n  private modal: Modal | null = null\r\n  private options: SettingsPanelOptions\r\n  private container: HTMLElement | null = null\r\n\r\n  // 临时配置（用于预览）\r\n  private tempConfig = {\r\n    iconSet: '',\r\n    theme: '',\r\n    locale: '',\r\n  }\r\n\r\n  constructor(options: SettingsPanelOptions = {}) {\r\n    this.options = options\r\n    this.configManager = getConfigManager()\r\n    this.componentFactory = getComponentFactory()\r\n\r\n    // 初始化临时配置\r\n    this.tempConfig = {\r\n      iconSet: this.configManager.getIconSet(),\r\n      theme: this.configManager.getThemeManager().getCurrentThemeName(),\r\n      locale: this.configManager.getLocale(),\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 显示设置面板\r\n   */\r\n  show(): void {\r\n    // 创建模态框\r\n    this.modal = new Modal({\r\n      title: this.configManager.t('editor.settings.title') || '编辑器设置',\r\n      width: typeof this.options.width === 'string' ? Number.parseInt(this.options.width) : 600,\r\n      height: typeof this.options.height === 'string' ? Number.parseInt(this.options.height) : 600,\r\n    })\r\n\r\n    // 创建内容\r\n    const content = this.createContent()\r\n    this.modal.setContent(content)\r\n\r\n    // 添加底部按钮\r\n    this.modal.setFooter(this.createFooter())\r\n\r\n    this.modal.show()\r\n  }\r\n\r\n  /**\r\n   * 隐藏设置面板\r\n   */\r\n  hide(): void {\r\n    if (this.modal) {\r\n      this.modal.hide()\r\n      this.modal = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 创建内容\r\n   */\r\n  private createContent(): HTMLElement {\r\n    this.container = document.createElement('div')\r\n    this.container.className = 'settings-panel'\r\n    this.container.style.cssText = `\r\n      padding: 20px;\r\n      max-height: 70vh;\r\n      overflow-y: auto;\r\n    `\r\n\r\n    // 创建选项卡\r\n    const tabs = this.createTabs()\r\n    this.container.appendChild(tabs)\r\n\r\n    return this.container\r\n  }\r\n\r\n  /**\r\n   * 创建选项卡\r\n   */\r\n  private createTabs(): HTMLElement {\r\n    const tabsContainer = document.createElement('div')\r\n    tabsContainer.className = 'settings-tabs'\r\n\r\n    const tabButtons = document.createElement('div')\r\n    tabButtons.className = 'tab-buttons'\r\n    tabButtons.style.cssText = `\r\n      display: flex;\r\n      gap: 8px;\r\n      margin-bottom: 20px;\r\n      border-bottom: 1px solid var(--editor-color-border, #e5e7eb);\r\n    `\r\n\r\n    const tabContents = document.createElement('div')\r\n    tabContents.className = 'tab-contents'\r\n\r\n    const tabs = [\r\n      {\r\n        id: 'appearance',\r\n        label: this.configManager.t('editor.settings.appearance') || '外观',\r\n        content: this.createAppearanceTab(),\r\n      },\r\n      {\r\n        id: 'icons',\r\n        label: this.configManager.t('editor.settings.icons') || '图标',\r\n        content: this.createIconsTab(),\r\n      },\r\n      {\r\n        id: 'language',\r\n        label: this.configManager.t('editor.settings.language') || '语言',\r\n        content: this.createLanguageTab(),\r\n      },\r\n      {\r\n        id: 'advanced',\r\n        label: this.configManager.t('editor.settings.advanced') || '高级',\r\n        content: this.createAdvancedTab(),\r\n      },\r\n    ]\r\n\r\n    // 创建选项卡按钮\r\n    tabs.forEach((tab, index) => {\r\n      const button = this.componentFactory.createButton({\r\n        label: tab.label,\r\n        type: 'text',\r\n        className: index === 0 ? 'active' : '',\r\n      })\r\n\r\n      button.style.cssText += `\r\n        border-bottom: 2px solid transparent;\r\n        border-radius: 0;\r\n        padding: 12px 16px;\r\n      `\r\n\r\n      button.addEventListener('click', () => {\r\n        // 更新按钮状态\r\n        tabButtons.querySelectorAll('button').forEach((btn) => {\r\n          btn.classList.remove('active')\r\n          btn.style.borderBottomColor = 'transparent'\r\n          btn.style.color = 'var(--editor-color-text-secondary, #6b7280)'\r\n        })\r\n        button.classList.add('active')\r\n        button.style.borderBottomColor = 'var(--editor-color-primary, #3b82f6)'\r\n        button.style.color = 'var(--editor-color-primary, #3b82f6)'\r\n\r\n        // 更新内容\r\n        tabContents.querySelectorAll('.tab-pane').forEach((pane) => {\r\n          pane.classList.remove('active')\r\n          ;(pane as HTMLElement).style.display = 'none'\r\n        })\r\n        tab.content.classList.add('active')\r\n        tab.content.style.display = 'block'\r\n      })\r\n\r\n      tabButtons.appendChild(button)\r\n\r\n      // 设置初始显示状态\r\n      tab.content.style.display = index === 0 ? 'block' : 'none'\r\n      tabContents.appendChild(tab.content)\r\n    })\r\n\r\n    // 激活第一个选项卡\r\n    const firstButton = tabButtons.querySelector('button')\r\n    if (firstButton) {\r\n      (firstButton as HTMLButtonElement).style.borderBottomColor = 'var(--editor-color-primary, #3b82f6)'\r\n      ;(firstButton as HTMLButtonElement).style.color = 'var(--editor-color-primary, #3b82f6)'\r\n    }\r\n\r\n    tabsContainer.appendChild(tabButtons)\r\n    tabsContainer.appendChild(tabContents)\r\n\r\n    return tabsContainer\r\n  }\r\n\r\n  /**\r\n   * 创建外观选项卡\r\n   */\r\n  private createAppearanceTab(): HTMLElement {\r\n    const pane = document.createElement('div')\r\n    pane.className = 'tab-pane'\r\n\r\n    // 主题选择\r\n    const themeGroup = this.componentFactory.createFormGroup(\r\n      this.configManager.t('editor.settings.theme') || '主题',\r\n      this.componentFactory.createSelect({\r\n        options: this.configManager.getAvailableThemes().map(theme => ({\r\n          label: theme,\r\n          value: theme,\r\n        })),\r\n        value: this.tempConfig.theme,\r\n        onChange: (value) => {\r\n          this.tempConfig.theme = String(value)\r\n          this.previewTheme(String(value))\r\n        },\r\n      }),\r\n    )\r\n\r\n    pane.appendChild(themeGroup)\r\n\r\n    // 主题预览\r\n    const previewCard = this.createThemePreview()\r\n    pane.appendChild(previewCard)\r\n\r\n    // 自动跟随系统主题\r\n    const followSystemCheck = this.componentFactory.createCheckbox(\r\n      this.configManager.t('editor.settings.followSystem') || '跟随系统主题',\r\n      false,\r\n      (checked) => {\r\n        if (checked)\r\n          this.configManager.getThemeManager().followSystemTheme()\r\n      },\r\n    )\r\n    pane.appendChild(followSystemCheck)\r\n\r\n    return pane\r\n  }\r\n\r\n  /**\r\n   * 创建图标选项卡\r\n   */\r\n  private createIconsTab(): HTMLElement {\r\n    const pane = document.createElement('div')\r\n    pane.className = 'tab-pane'\r\n\r\n    // 图标集选择\r\n    const iconSetGroup = this.componentFactory.createFormGroup(\r\n      this.configManager.t('editor.settings.iconSet') || '图标集',\r\n      this.componentFactory.createSelect({\r\n        options: this.configManager.getAvailableIconSets().map(set => ({\r\n          label: set,\r\n          value: set,\r\n        })),\r\n        value: this.tempConfig.iconSet,\r\n        onChange: (value) => {\r\n          this.tempConfig.iconSet = String(value)\r\n          this.previewIcons(String(value))\r\n        },\r\n      }),\r\n    )\r\n\r\n    pane.appendChild(iconSetGroup)\r\n\r\n    // 图标预览\r\n    const previewCard = this.createIconPreview()\r\n    pane.appendChild(previewCard)\r\n\r\n    return pane\r\n  }\r\n\r\n  /**\r\n   * 创建语言选项卡\r\n   */\r\n  private createLanguageTab(): HTMLElement {\r\n    const pane = document.createElement('div')\r\n    pane.className = 'tab-pane'\r\n\r\n    const localeMap: Record<string, string> = {\r\n      'zh-CN': '简体中文',\r\n      'en-US': 'English',\r\n      'ja-JP': '日本語',\r\n    }\r\n\r\n    // 语言选择\r\n    const localeGroup = this.componentFactory.createFormGroup(\r\n      this.configManager.t('editor.settings.locale') || '语言',\r\n      this.componentFactory.createSelect({\r\n        options: this.configManager.getAvailableLocales().map(locale => ({\r\n          label: localeMap[locale] || locale,\r\n          value: locale,\r\n        })),\r\n        value: this.tempConfig.locale,\r\n        onChange: (value) => {\r\n          this.tempConfig.locale = String(value)\r\n          // 语言切换需要重新加载界面\r\n        },\r\n      }),\r\n    )\r\n\r\n    pane.appendChild(localeGroup)\r\n\r\n    // 说明文本\r\n    const note = document.createElement('p')\r\n    note.style.cssText = `\r\n      margin-top: 16px;\r\n      padding: 12px;\r\n      background: var(--editor-color-background-paper, #f9fafb);\r\n      border-radius: 6px;\r\n      font-size: 14px;\r\n      color: var(--editor-color-text-secondary, #6b7280);\r\n    `\r\n    note.textContent = this.configManager.t('editor.settings.localeNote') || '更改语言后需要保存设置才能生效'\r\n    pane.appendChild(note)\r\n\r\n    return pane\r\n  }\r\n\r\n  /**\r\n   * 创建高级选项卡\r\n   */\r\n  private createAdvancedTab(): HTMLElement {\r\n    const pane = document.createElement('div')\r\n    pane.className = 'tab-pane'\r\n\r\n    // 导出配置\r\n    const exportCard = this.componentFactory.createCard({\r\n      title: this.configManager.t('editor.settings.exportConfig') || '导出配置',\r\n      content: (() => {\r\n        const container = document.createElement('div')\r\n\r\n        const desc = document.createElement('p')\r\n        desc.style.cssText = `\r\n          margin-bottom: 12px;\r\n          font-size: 14px;\r\n          color: var(--editor-color-text-secondary, #6b7280);\r\n        `\r\n        desc.textContent = '将当前配置导出为JSON文件'\r\n        container.appendChild(desc)\r\n\r\n        const exportBtn = this.componentFactory.createButton({\r\n          label: '导出配置',\r\n          icon: 'download',\r\n          type: 'secondary',\r\n          onClick: () => this.exportConfig(),\r\n        })\r\n        container.appendChild(exportBtn)\r\n\r\n        return container\r\n      })(),\r\n    })\r\n\r\n    pane.appendChild(exportCard)\r\n    pane.appendChild(this.componentFactory.createDivider())\r\n\r\n    // 导入配置\r\n    const importCard = this.componentFactory.createCard({\r\n      title: this.configManager.t('editor.settings.importConfig') || '导入配置',\r\n      content: (() => {\r\n        const container = document.createElement('div')\r\n\r\n        const desc = document.createElement('p')\r\n        desc.style.cssText = `\r\n          margin-bottom: 12px;\r\n          font-size: 14px;\r\n          color: var(--editor-color-text-secondary, #6b7280);\r\n        `\r\n        desc.textContent = '从JSON文件导入配置'\r\n        container.appendChild(desc)\r\n\r\n        const fileInput = document.createElement('input')\r\n        fileInput.type = 'file'\r\n        fileInput.accept = '.json'\r\n        fileInput.style.display = 'none'\r\n        fileInput.addEventListener('change', e => this.importConfig(e))\r\n\r\n        const importBtn = this.componentFactory.createButton({\r\n          label: '选择文件',\r\n          icon: 'upload',\r\n          type: 'secondary',\r\n          onClick: () => fileInput.click(),\r\n        })\r\n\r\n        container.appendChild(fileInput)\r\n        container.appendChild(importBtn)\r\n\r\n        return container\r\n      })(),\r\n    })\r\n\r\n    pane.appendChild(importCard)\r\n    pane.appendChild(this.componentFactory.createDivider())\r\n\r\n    // 重置配置\r\n    const resetCard = this.componentFactory.createCard({\r\n      title: this.configManager.t('editor.settings.resetConfig') || '重置配置',\r\n      content: (() => {\r\n        const container = document.createElement('div')\r\n\r\n        const desc = document.createElement('p')\r\n        desc.style.cssText = `\r\n          margin-bottom: 12px;\r\n          font-size: 14px;\r\n          color: var(--editor-color-error, #ef4444);\r\n        `\r\n        desc.textContent = '将所有设置恢复为默认值'\r\n        container.appendChild(desc)\r\n\r\n        const resetBtn = this.componentFactory.createButton({\r\n          label: '重置为默认',\r\n          icon: 'refresh-cw',\r\n          type: 'danger',\r\n          onClick: () => this.resetConfig(),\r\n        })\r\n        container.appendChild(resetBtn)\r\n\r\n        return container\r\n      })(),\r\n    })\r\n\r\n    pane.appendChild(resetCard)\r\n\r\n    return pane\r\n  }\r\n\r\n  /**\r\n   * 创建主题预览\r\n   */\r\n  private createThemePreview(): HTMLElement {\r\n    const card = this.componentFactory.createCard({\r\n      title: '预览',\r\n      className: 'theme-preview',\r\n    })\r\n\r\n    const preview = document.createElement('div')\r\n    preview.style.cssText = `\r\n      padding: 16px;\r\n      border-radius: 6px;\r\n      background: var(--editor-color-editor-background, #ffffff);\r\n      color: var(--editor-color-editor-text, #1f2937);\r\n    `\r\n\r\n    preview.innerHTML = `\r\n      <div style=\"margin-bottom: 8px; font-weight: 600;\">示例文本</div>\r\n      <div style=\"margin-bottom: 8px; color: var(--editor-color-text-secondary, #6b7280);\">次要文本</div>\r\n      <div style=\"padding: 8px; background: var(--editor-color-code-background, #f3f4f6); border-radius: 4px;\">\r\n        <code>代码示例</code>\r\n      </div>\r\n    `\r\n\r\n    card.querySelector('.card-content')?.appendChild(preview)\r\n\r\n    return card\r\n  }\r\n\r\n  /**\r\n   * 创建图标预览\r\n   */\r\n  private createIconPreview(): HTMLElement {\r\n    const card = this.componentFactory.createCard({\r\n      title: '图标预览',\r\n      className: 'icon-preview',\r\n    })\r\n\r\n    const preview = document.createElement('div')\r\n    preview.style.cssText = `\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));\r\n      gap: 12px;\r\n      padding: 16px;\r\n    `\r\n\r\n    const iconManager = this.configManager.getIconManager()\r\n    const sampleIcons = ['bold', 'italic', 'underline', 'link', 'image', 'code', 'list', 'quote']\r\n\r\n    sampleIcons.forEach((iconName) => {\r\n      const iconEl = iconManager.createIconElement(iconName, { size: 24 })\r\n      iconEl.style.cssText = `\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 12px;\r\n        border-radius: 6px;\r\n        background: var(--editor-color-background-paper, #f9fafb);\r\n        cursor: pointer;\r\n        transition: all 0.2s;\r\n      `\r\n\r\n      iconEl.addEventListener('mouseenter', () => {\r\n        iconEl.style.background = 'var(--editor-color-toolbar-button-hover, #e5e7eb)'\r\n      })\r\n\r\n      iconEl.addEventListener('mouseleave', () => {\r\n        iconEl.style.background = 'var(--editor-color-background-paper, #f9fafb)'\r\n      })\r\n\r\n      preview.appendChild(iconEl)\r\n    })\r\n\r\n    card.querySelector('.card-content')?.appendChild(preview)\r\n\r\n    return card\r\n  }\r\n\r\n  /**\r\n   * 创建底部按钮\r\n   */\r\n  private createFooter(): HTMLElement {\r\n    const footer = document.createElement('div')\r\n    footer.style.cssText = `\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      gap: 12px;\r\n      padding: 16px 20px;\r\n      border-top: 1px solid var(--editor-color-border, #e5e7eb);\r\n    `\r\n\r\n    const cancelBtn = this.componentFactory.createButton({\r\n      label: this.configManager.t('editor.dialog.cancel') || '取消',\r\n      type: 'secondary',\r\n      onClick: () => this.handleClose(),\r\n    })\r\n\r\n    const saveBtn = this.componentFactory.createButton({\r\n      label: this.configManager.t('editor.dialog.save') || '保存',\r\n      type: 'primary',\r\n      onClick: () => this.handleSave(),\r\n    })\r\n\r\n    footer.appendChild(cancelBtn)\r\n    footer.appendChild(saveBtn)\r\n\r\n    return footer\r\n  }\r\n\r\n  /**\r\n   * 预览主题\r\n   */\r\n  private previewTheme(themeName: string): void {\r\n    this.configManager.setTheme(themeName)\r\n  }\r\n\r\n  /**\r\n   * 预览图标\r\n   */\r\n  private previewIcons(iconSet: string): void {\r\n    // 重新渲染图标预览\r\n    const preview = this.container?.querySelector('.icon-preview .card-content > div')\r\n    if (preview) {\r\n      preview.innerHTML = ''\r\n\r\n      const iconManager = this.configManager.getIconManager()\r\n      const sampleIcons = ['bold', 'italic', 'underline', 'link', 'image', 'code', 'list', 'quote']\r\n\r\n      sampleIcons.forEach((iconName) => {\r\n        const iconEl = iconManager.createIconElement(iconName, { size: 24 })\r\n        iconEl.style.cssText = `\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 12px;\r\n          border-radius: 6px;\r\n          background: var(--editor-color-background-paper, #f9fafb);\r\n        `\r\n        preview.appendChild(iconEl)\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 导出配置\r\n   */\r\n  private exportConfig(): void {\r\n    const config = this.configManager.exportConfig()\r\n    const blob = new Blob([config], { type: 'application/json' })\r\n    const url = URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `editor-config-${Date.now()}.json`\r\n    a.click()\r\n    URL.revokeObjectURL(url)\r\n  }\r\n\r\n  /**\r\n   * 导入配置\r\n   */\r\n  private importConfig(e: Event): void {\r\n    const file = (e.target as HTMLInputElement).files?.[0]\r\n    if (!file)\r\n      return\r\n\r\n    const reader = new FileReader()\r\n    reader.onload = (event) => {\r\n      try {\r\n        const config = event.target?.result as string\r\n        this.configManager.importConfig(config)\r\n\r\n        // 更新临时配置\r\n        this.tempConfig = {\r\n          iconSet: this.configManager.getIconSet(),\r\n          theme: this.configManager.getThemeManager().getCurrentThemeName(),\r\n          locale: this.configManager.getLocale(),\r\n        }\r\n\r\n        // 重新渲染面板\r\n        this.hide()\r\n        this.show()\r\n\r\n        alert('配置导入成功！')\r\n      }\r\n      catch (error) {\r\n        alert(`配置导入失败：${(error as Error).message}`)\r\n      }\r\n    }\r\n    reader.readAsText(file)\r\n  }\r\n\r\n  /**\r\n   * 重置配置\r\n   */\r\n  private resetConfig(): void {\r\n    if (!confirm('确定要重置所有配置吗？此操作不可撤销。'))\r\n      return\r\n\r\n    this.configManager.reset()\r\n\r\n    // 更新临时配置\r\n    this.tempConfig = {\r\n      iconSet: this.configManager.getIconSet(),\r\n      theme: this.configManager.getThemeManager().getCurrentThemeName(),\r\n      locale: this.configManager.getLocale(),\r\n    }\r\n\r\n    // 重新渲染面板\r\n    this.hide()\r\n    this.show()\r\n  }\r\n\r\n  /**\r\n   * 处理关闭\r\n   */\r\n  private handleClose(): void {\r\n    // 恢复原始配置（取消预览）\r\n    this.configManager.setTheme(this.configManager.getThemeManager().getCurrentThemeName())\r\n\r\n    this.hide()\r\n\r\n    if (this.options.onClose)\r\n      this.options.onClose()\r\n  }\r\n\r\n  /**\r\n   * 处理保存\r\n   */\r\n  private async handleSave(): Promise<void> {\r\n    // 应用配置\r\n    this.configManager.setIconSet(this.tempConfig.iconSet as any)\r\n    this.configManager.setTheme(this.tempConfig.theme)\r\n    await this.configManager.setLocale(this.tempConfig.locale)\r\n\r\n    this.hide()\r\n\r\n    if (this.options.onSave)\r\n      this.options.onSave(this.tempConfig)\r\n  }\r\n}\r\n\r\n/**\r\n * 显示设置面板\r\n */\r\nexport function showSettingsPanel(options?: SettingsPanelOptions): SettingsPanel {\r\n  const panel = new SettingsPanel(options)\r\n  panel.show()\r\n  return panel\r\n}\r\n"],"names":["SettingsPanel","constructor","options","modal","container","tempConfig","iconSet","theme","locale","configManager","getConfigManager","componentFactory","getComponentFactory","getIconSet","getThemeManager","getCurrentThemeName","getLocale","show","Modal","title","t","width","Number","parseInt","height","content","createContent","setContent","setFooter","createFooter","hide","document","createElement","className","style","cssText","tabs","createTabs","appendChild","tabsContainer","tabButtons","tabContents","id","label","createAppearanceTab","createIconsTab","createLanguageTab","createAdvancedTab","forEach","tab","index","button","createButton","type","addEventListener","querySelectorAll","btn","classList","remove","borderBottomColor","color","add","pane","display","firstButton","querySelector","themeGroup","createFormGroup","createSelect","getAvailableThemes","map","value","onChange","String","previewTheme","previewCard","createThemePreview","followSystemCheck","createCheckbox","checked","followSystemTheme","iconSetGroup","getAvailableIconSets","set","previewIcons","createIconPreview","localeMap","localeGroup","getAvailableLocales","note","textContent","exportCard","createCard","desc","exportBtn","icon","onClick","exportConfig","createDivider","importCard","fileInput","accept","e","importConfig","importBtn","click","resetCard","resetBtn","resetConfig","card","preview","innerHTML","iconManager","getIconManager","sampleIcons","iconName","iconEl","createIconElement","size","background","footer","cancelBtn","handleClose","saveBtn","handleSave","themeName","setTheme","config","blob","Blob","url","URL","createObjectURL","a","href","download","Date","now","revokeObjectURL","file","target","files","reader","FileReader","onload","event","result","alert","error","message","readAsText","confirm","reset","onClose","setIconSet","setLocale","onSave","showSettingsPanel","panel"],"mappings":";;;;;;;;;;;;;AAwBO,MAAMA,aAAAA,CAAc;AAAA,EAczBC,WAAAA,CAAYC,OAAAA,GAAgC,EAAC,EAAG;AAXhD,IAAA,IAAA,CAAQC,KAAAA,GAAsB,IAAA;AAE9B,IAAA,IAAA,CAAQC,SAAAA,GAAgC,IAAA;AAGxC;AAAA,IAAA,IAAA,CAAQC,UAAAA,GAAa;AAAA,MACnBC,OAAAA,EAAS,EAAA;AAAA,MACTC,KAAAA,EAAO,EAAA;AAAA,MACPC,MAAAA,EAAQ;AAAA,KACV;AAGE,IAAA,IAAA,CAAKN,OAAAA,GAAUA,OAAAA;AACf,IAAA,IAAA,CAAKO,gBAAgBC,gBAAAA,EAAiB;AACtC,IAAA,IAAA,CAAKC,mBAAmBC,mBAAAA,EAAoB;AAG5C,IAAA,IAAA,CAAKP,UAAAA,GAAa;AAAA,MAChBC,OAAAA,EAAS,IAAA,CAAKG,aAAAA,CAAcI,UAAAA,EAAW;AAAA,MACvCN,KAAAA,EAAO,IAAA,CAAKE,aAAAA,CAAcK,eAAAA,GAAkBC,mBAAAA,EAAoB;AAAA,MAChEP,MAAAA,EAAQ,IAAA,CAAKC,aAAAA,CAAcO,SAAAA;AAAU,KACvC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKAC,IAAAA,GAAa;AAEX,IAAA,IAAA,CAAKd,KAAAA,GAAQ,IAAIe,KAAAA,CAAM;AAAA,MACrBC,KAAAA,EAAO,IAAA,CAAKV,aAAAA,CAAcW,CAAAA,CAAE,uBAAuB,CAAA,IAAK,gCAAA;AAAA,MACxDC,KAAAA,EAAO,OAAO,IAAA,CAAKnB,OAAAA,CAAQmB,KAAAA,KAAU,QAAA,GAAWC,MAAAA,CAAOC,QAAAA,CAAS,IAAA,CAAKrB,OAAAA,CAAQmB,KAAK,CAAA,GAAI,GAAA;AAAA,MACtFG,MAAAA,EAAQ,OAAO,IAAA,CAAKtB,OAAAA,CAAQsB,MAAAA,KAAW,QAAA,GAAWF,MAAAA,CAAOC,QAAAA,CAAS,IAAA,CAAKrB,OAAAA,CAAQsB,MAAM,CAAA,GAAI;AAAA,KAC1F,CAAA;AAGD,IAAA,MAAMC,OAAAA,GAAU,KAAKC,aAAAA,EAAc;AACnC,IAAA,IAAA,CAAKvB,KAAAA,CAAMwB,WAAWF,OAAO,CAAA;AAG7B,IAAA,IAAA,CAAKtB,KAAAA,CAAMyB,SAAAA,CAAU,IAAA,CAAKC,YAAAA,EAAc,CAAA;AAExC,IAAA,IAAA,CAAK1B,MAAMc,IAAAA,EAAK;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA,EAKAa,IAAAA,GAAa;AACX,IAAA,IAAI,KAAK3B,KAAAA,EAAO;AACd,MAAA,IAAA,CAAKA,MAAM2B,IAAAA,EAAK;AAChB,MAAA,IAAA,CAAK3B,KAAAA,GAAQ,IAAA;AAAA,IACf;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQuB,aAAAA,GAA6B;AACnC,IAAA,IAAA,CAAKtB,SAAAA,GAAY2B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC7C,IAAA,IAAA,CAAK5B,UAAU6B,SAAAA,GAAY,gBAAA;AAC3B,IAAA,IAAA,CAAK7B,SAAAA,CAAU8B,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAO/B,IAAA,MAAMC,IAAAA,GAAO,KAAKC,UAAAA,EAAW;AAC7B,IAAA,IAAA,CAAKjC,SAAAA,CAAUkC,YAAYF,IAAI,CAAA;AAE/B,IAAA,OAAO,IAAA,CAAKhC,SAAAA;AAAAA,EACd;AAAA;AAAA;AAAA;AAAA,EAKQiC,UAAAA,GAA0B;AAChC,IAAA,MAAME,aAAAA,GAAgBR,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAClDO,IAAAA,aAAAA,CAAcN,SAAAA,GAAY,eAAA;AAE1B,IAAA,MAAMO,UAAAA,GAAaT,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC/CQ,IAAAA,UAAAA,CAAWP,SAAAA,GAAY,aAAA;AACvBO,IAAAA,UAAAA,CAAWN,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAO3B,IAAA,MAAMM,WAAAA,GAAcV,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAChDS,IAAAA,WAAAA,CAAYR,SAAAA,GAAY,cAAA;AAExB,IAAA,MAAMG,OAAO,CACX;AAAA,MACEM,EAAAA,EAAI,YAAA;AAAA,MACJC,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,4BAA4B,CAAA,IAAK,cAAA;AAAA,MAC7DK,OAAAA,EAAS,KAAKmB,mBAAAA;AAAoB,KACpC,EACA;AAAA,MACEF,EAAAA,EAAI,OAAA;AAAA,MACJC,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,uBAAuB,CAAA,IAAK,cAAA;AAAA,MACxDK,OAAAA,EAAS,KAAKoB,cAAAA;AAAe,KAC/B,EACA;AAAA,MACEH,EAAAA,EAAI,UAAA;AAAA,MACJC,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,0BAA0B,CAAA,IAAK,cAAA;AAAA,MAC3DK,OAAAA,EAAS,KAAKqB,iBAAAA;AAAkB,KAClC,EACA;AAAA,MACEJ,EAAAA,EAAI,UAAA;AAAA,MACJC,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,0BAA0B,CAAA,IAAK,cAAA;AAAA,MAC3DK,OAAAA,EAAS,KAAKsB,iBAAAA;AAAkB,KACjC,CAAA;AAIHX,IAAAA,IAAAA,CAAKY,OAAAA,CAAQ,CAACC,GAAAA,EAAKC,KAAAA,KAAU;AAC3B,MAAA,MAAMC,MAAAA,GAAS,IAAA,CAAKxC,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,QAChDT,OAAOM,GAAAA,CAAIN,KAAAA;AAAAA,QACXU,IAAAA,EAAM,MAAA;AAAA,QACNpB,SAAAA,EAAWiB,KAAAA,KAAU,CAAA,GAAI,QAAA,GAAW;AAAA,OACrC,CAAA;AAEDC,MAAAA,MAAAA,CAAOjB,MAAMC,OAAAA,IAAW;AAAA;AAAA;AAAA;AAAA,MAAA,CAAA;AAMxBgB,MAAAA,MAAAA,CAAOG,gBAAAA,CAAiB,SAAS,MAAM;AAErCd,QAAAA,UAAAA,CAAWe,gBAAAA,CAAiB,QAAQ,CAAA,CAAEP,OAAAA,CAASQ,CAAAA,GAAAA,KAAQ;AACrDA,UAAAA,GAAAA,CAAIC,SAAAA,CAAUC,OAAO,QAAQ,CAAA;AAC7BF,UAAAA,GAAAA,CAAItB,MAAMyB,iBAAAA,GAAoB,aAAA;AAC9BH,UAAAA,GAAAA,CAAItB,MAAM0B,KAAAA,GAAQ,6CAAA;AAAA,QACpB,CAAC,CAAA;AACDT,QAAAA,MAAAA,CAAOM,SAAAA,CAAUI,IAAI,QAAQ,CAAA;AAC7BV,QAAAA,MAAAA,CAAOjB,MAAMyB,iBAAAA,GAAoB,sCAAA;AACjCR,QAAAA,MAAAA,CAAOjB,MAAM0B,KAAAA,GAAQ,sCAAA;AAGrBnB,QAAAA,WAAAA,CAAYc,gBAAAA,CAAiB,WAAW,CAAA,CAAEP,OAAAA,CAASc,CAAAA,IAAAA,KAAS;AAC1DA,UAAAA,IAAAA,CAAKL,SAAAA,CAAUC,OAAO,QAAQ,CAAA;AAC7B,UAACI,IAAAA,CAAqB5B,MAAM6B,OAAAA,GAAU,MAAA;AAAA,QACzC,CAAC,CAAA;AACDd,QAAAA,GAAAA,CAAIxB,OAAAA,CAAQgC,SAAAA,CAAUI,GAAAA,CAAI,QAAQ,CAAA;AAClCZ,QAAAA,GAAAA,CAAIxB,OAAAA,CAAQS,MAAM6B,OAAAA,GAAU,OAAA;AAAA,MAC9B,CAAC,CAAA;AAEDvB,MAAAA,UAAAA,CAAWF,YAAYa,MAAM,CAAA;AAG7BF,MAAAA,GAAAA,CAAIxB,OAAAA,CAAQS,KAAAA,CAAM6B,OAAAA,GAAUb,KAAAA,KAAU,IAAI,OAAA,GAAU,MAAA;AACpDT,MAAAA,WAAAA,CAAYH,WAAAA,CAAYW,IAAIxB,OAAO,CAAA;AAAA,IACrC,CAAC,CAAA;AAGD,IAAA,MAAMuC,WAAAA,GAAcxB,UAAAA,CAAWyB,aAAAA,CAAc,QAAQ,CAAA;AACrD,IAAA,IAAID,WAAAA,EAAa;AACf,MAACA,WAAAA,CAAkC9B,MAAMyB,iBAAAA,GAAoB,sCAAA;AAC5D,MAACK,WAAAA,CAAkC9B,MAAM0B,KAAAA,GAAQ,sCAAA;AAAA,IACpD;AAEArB,IAAAA,aAAAA,CAAcD,YAAYE,UAAU,CAAA;AACpCD,IAAAA,aAAAA,CAAcD,YAAYG,WAAW,CAAA;AAErC,IAAA,OAAOF,aAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQK,mBAAAA,GAAmC;AACzC,IAAA,MAAMkB,IAAAA,GAAO/B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACzC8B,IAAAA,IAAAA,CAAK7B,SAAAA,GAAY,UAAA;AAGjB,IAAA,MAAMiC,UAAAA,GAAa,IAAA,CAAKvD,gBAAAA,CAAiBwD,eAAAA,CACvC,IAAA,CAAK1D,aAAAA,CAAcW,CAAAA,CAAE,uBAAuB,CAAA,IAAK,cAAA,EACjD,IAAA,CAAKT,gBAAAA,CAAiByD,YAAAA,CAAa;AAAA,MACjClE,SAAS,IAAA,CAAKO,aAAAA,CAAc4D,kBAAAA,EAAmB,CAAEC,IAAI/D,CAAAA,KAAAA,MAAU;AAAA,QAC7DoC,KAAAA,EAAOpC,KAAAA;AAAAA,QACPgE,KAAAA,EAAOhE;AAAAA,OACT,CAAE,CAAA;AAAA,MACFgE,KAAAA,EAAO,KAAKlE,UAAAA,CAAWE,KAAAA;AAAAA,MACvBiE,UAAWD,CAAAA,KAAAA,KAAU;AACnB,QAAA,IAAA,CAAKlE,UAAAA,CAAWE,KAAAA,GAAQkE,MAAAA,CAAOF,KAAK,CAAA;AACpC,QAAA,IAAA,CAAKG,YAAAA,CAAaD,MAAAA,CAAOF,KAAK,CAAC,CAAA;AAAA,MACjC;AAAA,KACD,CACH,CAAA;AAEAT,IAAAA,IAAAA,CAAKxB,YAAY4B,UAAU,CAAA;AAG3B,IAAA,MAAMS,WAAAA,GAAc,KAAKC,kBAAAA,EAAmB;AAC5Cd,IAAAA,IAAAA,CAAKxB,YAAYqC,WAAW,CAAA;AAG5B,IAAA,MAAME,iBAAAA,GAAoB,IAAA,CAAKlE,gBAAAA,CAAiBmE,cAAAA,CAC9C,IAAA,CAAKrE,aAAAA,CAAcW,CAAAA,CAAE,8BAA8B,CAAA,IAAK,sCAAA,EACxD,KAAA,EACC2D,CAAAA,OAAAA,KAAY;AACX,MAAA,IAAIA,OAAAA;AACF,QAAA,IAAA,CAAKtE,aAAAA,CAAcK,eAAAA,EAAgB,CAAEkE,iBAAAA,EAAkB;AAAA,IAC3D,CACF,CAAA;AACAlB,IAAAA,IAAAA,CAAKxB,YAAYuC,iBAAiB,CAAA;AAElC,IAAA,OAAOf,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQjB,cAAAA,GAA8B;AACpC,IAAA,MAAMiB,IAAAA,GAAO/B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACzC8B,IAAAA,IAAAA,CAAK7B,SAAAA,GAAY,UAAA;AAGjB,IAAA,MAAMgD,YAAAA,GAAe,IAAA,CAAKtE,gBAAAA,CAAiBwD,eAAAA,CACzC,IAAA,CAAK1D,aAAAA,CAAcW,CAAAA,CAAE,yBAAyB,CAAA,IAAK,oBAAA,EACnD,IAAA,CAAKT,gBAAAA,CAAiByD,YAAAA,CAAa;AAAA,MACjClE,SAAS,IAAA,CAAKO,aAAAA,CAAcyE,oBAAAA,EAAqB,CAAEZ,IAAIa,CAAAA,GAAAA,MAAQ;AAAA,QAC7DxC,KAAAA,EAAOwC,GAAAA;AAAAA,QACPZ,KAAAA,EAAOY;AAAAA,OACT,CAAE,CAAA;AAAA,MACFZ,KAAAA,EAAO,KAAKlE,UAAAA,CAAWC,OAAAA;AAAAA,MACvBkE,UAAWD,CAAAA,KAAAA,KAAU;AACnB,QAAA,IAAA,CAAKlE,UAAAA,CAAWC,OAAAA,GAAUmE,MAAAA,CAAOF,KAAK,CAAA;AACtC,QAAA,IAAA,CAAKa,YAAAA,CAAaX,MAAAA,CAAOF,KAAK,CAAC,CAAA;AAAA,MACjC;AAAA,KACD,CACH,CAAA;AAEAT,IAAAA,IAAAA,CAAKxB,YAAY2C,YAAY,CAAA;AAG7B,IAAA,MAAMN,WAAAA,GAAc,KAAKU,iBAAAA,EAAkB;AAC3CvB,IAAAA,IAAAA,CAAKxB,YAAYqC,WAAW,CAAA;AAE5B,IAAA,OAAOb,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQhB,iBAAAA,GAAiC;AACvC,IAAA,MAAMgB,IAAAA,GAAO/B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACzC8B,IAAAA,IAAAA,CAAK7B,SAAAA,GAAY,UAAA;AAEjB,IAAA,MAAMqD,SAAAA,GAAoC;AAAA,MACxC,OAAA,EAAS,0BAAA;AAAA,MACT,OAAA,EAAS,SAAA;AAAA,MACT,OAAA,EAAS;AAAA,KACX;AAGA,IAAA,MAAMC,WAAAA,GAAc,IAAA,CAAK5E,gBAAAA,CAAiBwD,eAAAA,CACxC,IAAA,CAAK1D,aAAAA,CAAcW,CAAAA,CAAE,wBAAwB,CAAA,IAAK,cAAA,EAClD,IAAA,CAAKT,gBAAAA,CAAiByD,YAAAA,CAAa;AAAA,MACjClE,SAAS,IAAA,CAAKO,aAAAA,CAAc+E,mBAAAA,EAAoB,CAAElB,IAAI9D,CAAAA,MAAAA,MAAW;AAAA,QAC/DmC,KAAAA,EAAO2C,SAAAA,CAAU9E,MAAM,CAAA,IAAKA,MAAAA;AAAAA,QAC5B+D,KAAAA,EAAO/D;AAAAA,OACT,CAAE,CAAA;AAAA,MACF+D,KAAAA,EAAO,KAAKlE,UAAAA,CAAWG,MAAAA;AAAAA,MACvBgE,UAAWD,CAAAA,KAAAA,KAAU;AACnB,QAAA,IAAA,CAAKlE,UAAAA,CAAWG,MAAAA,GAASiE,MAAAA,CAAOF,KAAK,CAAA;AAAA,MAEvC;AAAA,KACD,CACH,CAAA;AAEAT,IAAAA,IAAAA,CAAKxB,YAAYiD,WAAW,CAAA;AAG5B,IAAA,MAAME,IAAAA,GAAO1D,QAAAA,CAASC,aAAAA,CAAc,GAAG,CAAA;AACvCyD,IAAAA,IAAAA,CAAKvD,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAQrBsD,IAAAA,IAAAA,CAAKC,WAAAA,GAAc,IAAA,CAAKjF,aAAAA,CAAcW,CAAAA,CAAE,4BAA4B,CAAA,IAAK,4FAAA;AACzE0C,IAAAA,IAAAA,CAAKxB,YAAYmD,IAAI,CAAA;AAErB,IAAA,OAAO3B,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQf,iBAAAA,GAAiC;AACvC,IAAA,MAAMe,IAAAA,GAAO/B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AACzC8B,IAAAA,IAAAA,CAAK7B,SAAAA,GAAY,UAAA;AAGjB,IAAA,MAAM0D,UAAAA,GAAa,IAAA,CAAKhF,gBAAAA,CAAiBiF,UAAAA,CAAW;AAAA,MAClDzE,KAAAA,EAAO,IAAA,CAAKV,aAAAA,CAAcW,CAAAA,CAAE,8BAA8B,CAAA,IAAK,0BAAA;AAAA,MAC/DK,UAAU,MAAM;AACd,QAAA,MAAMrB,SAAAA,GAAY2B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAE9C,QAAA,MAAM6D,IAAAA,GAAO9D,QAAAA,CAASC,aAAAA,CAAc,GAAG,CAAA;AACvC6D,QAAAA,IAAAA,CAAK3D,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAKrB0D,QAAAA,IAAAA,CAAKH,WAAAA,GAAc,kEAAA;AACnBtF,QAAAA,SAAAA,CAAUkC,YAAYuD,IAAI,CAAA;AAE1B,QAAA,MAAMC,SAAAA,GAAY,IAAA,CAAKnF,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,UACnDT,KAAAA,EAAO,0BAAA;AAAA,UACPoD,IAAAA,EAAM,UAAA;AAAA,UACN1C,IAAAA,EAAM,WAAA;AAAA,UACN2C,OAAAA,EAASA,MAAM,IAAA,CAAKC,YAAAA;AAAa,SAClC,CAAA;AACD7F,QAAAA,SAAAA,CAAUkC,YAAYwD,SAAS,CAAA;AAE/B,QAAA,OAAO1F,SAAAA;AAAAA,MACT,CAAA;AAAG,KACJ,CAAA;AAED0D,IAAAA,IAAAA,CAAKxB,YAAYqD,UAAU,CAAA;AAC3B7B,IAAAA,IAAAA,CAAKxB,WAAAA,CAAY,IAAA,CAAK3B,gBAAAA,CAAiBuF,aAAAA,EAAe,CAAA;AAGtD,IAAA,MAAMC,UAAAA,GAAa,IAAA,CAAKxF,gBAAAA,CAAiBiF,UAAAA,CAAW;AAAA,MAClDzE,KAAAA,EAAO,IAAA,CAAKV,aAAAA,CAAcW,CAAAA,CAAE,8BAA8B,CAAA,IAAK,0BAAA;AAAA,MAC/DK,UAAU,MAAM;AACd,QAAA,MAAMrB,SAAAA,GAAY2B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAE9C,QAAA,MAAM6D,IAAAA,GAAO9D,QAAAA,CAASC,aAAAA,CAAc,GAAG,CAAA;AACvC6D,QAAAA,IAAAA,CAAK3D,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAKrB0D,QAAAA,IAAAA,CAAKH,WAAAA,GAAc,gDAAA;AACnBtF,QAAAA,SAAAA,CAAUkC,YAAYuD,IAAI,CAAA;AAE1B,QAAA,MAAMO,SAAAA,GAAYrE,QAAAA,CAASC,aAAAA,CAAc,OAAO,CAAA;AAChDoE,QAAAA,SAAAA,CAAU/C,IAAAA,GAAO,MAAA;AACjB+C,QAAAA,SAAAA,CAAUC,MAAAA,GAAS,OAAA;AACnBD,QAAAA,SAAAA,CAAUlE,MAAM6B,OAAAA,GAAU,MAAA;AAC1BqC,QAAAA,SAAAA,CAAU9C,iBAAiB,QAAA,EAAUgD,CAAAA,CAAAA,KAAK,IAAA,CAAKC,YAAAA,CAAaD,CAAC,CAAC,CAAA;AAE9D,QAAA,MAAME,SAAAA,GAAY,IAAA,CAAK7F,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,UACnDT,KAAAA,EAAO,0BAAA;AAAA,UACPoD,IAAAA,EAAM,QAAA;AAAA,UACN1C,IAAAA,EAAM,WAAA;AAAA,UACN2C,OAAAA,EAASA,MAAMI,SAAAA,CAAUK,KAAAA;AAAM,SAChC,CAAA;AAEDrG,QAAAA,SAAAA,CAAUkC,YAAY8D,SAAS,CAAA;AAC/BhG,QAAAA,SAAAA,CAAUkC,YAAYkE,SAAS,CAAA;AAE/B,QAAA,OAAOpG,SAAAA;AAAAA,MACT,CAAA;AAAG,KACJ,CAAA;AAED0D,IAAAA,IAAAA,CAAKxB,YAAY6D,UAAU,CAAA;AAC3BrC,IAAAA,IAAAA,CAAKxB,WAAAA,CAAY,IAAA,CAAK3B,gBAAAA,CAAiBuF,aAAAA,EAAe,CAAA;AAGtD,IAAA,MAAMQ,SAAAA,GAAY,IAAA,CAAK/F,gBAAAA,CAAiBiF,UAAAA,CAAW;AAAA,MACjDzE,KAAAA,EAAO,IAAA,CAAKV,aAAAA,CAAcW,CAAAA,CAAE,6BAA6B,CAAA,IAAK,0BAAA;AAAA,MAC9DK,UAAU,MAAM;AACd,QAAA,MAAMrB,SAAAA,GAAY2B,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAE9C,QAAA,MAAM6D,IAAAA,GAAO9D,QAAAA,CAASC,aAAAA,CAAc,GAAG,CAAA;AACvC6D,QAAAA,IAAAA,CAAK3D,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAKrB0D,QAAAA,IAAAA,CAAKH,WAAAA,GAAc,oEAAA;AACnBtF,QAAAA,SAAAA,CAAUkC,YAAYuD,IAAI,CAAA;AAE1B,QAAA,MAAMc,QAAAA,GAAW,IAAA,CAAKhG,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,UAClDT,KAAAA,EAAO,gCAAA;AAAA,UACPoD,IAAAA,EAAM,YAAA;AAAA,UACN1C,IAAAA,EAAM,QAAA;AAAA,UACN2C,OAAAA,EAASA,MAAM,IAAA,CAAKY,WAAAA;AAAY,SACjC,CAAA;AACDxG,QAAAA,SAAAA,CAAUkC,YAAYqE,QAAQ,CAAA;AAE9B,QAAA,OAAOvG,SAAAA;AAAAA,MACT,CAAA;AAAG,KACJ,CAAA;AAED0D,IAAAA,IAAAA,CAAKxB,YAAYoE,SAAS,CAAA;AAE1B,IAAA,OAAO5C,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQc,kBAAAA,GAAkC;AACxC,IAAA,MAAMiC,IAAAA,GAAO,IAAA,CAAKlG,gBAAAA,CAAiBiF,UAAAA,CAAW;AAAA,MAC5CzE,KAAAA,EAAO,cAAA;AAAA,MACPc,SAAAA,EAAW;AAAA,KACZ,CAAA;AAED,IAAA,MAAM6E,OAAAA,GAAU/E,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC5C8E,IAAAA,OAAAA,CAAQ5E,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAOxB2E,IAAAA,OAAAA,CAAQC,SAAAA,GAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAQpBF,IAAAA,IAAAA,CAAK5C,aAAAA,CAAc,eAAe,CAAA,EAAG3B,WAAAA,CAAYwE,OAAO,CAAA;AAExD,IAAA,OAAOD,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQxB,iBAAAA,GAAiC;AACvC,IAAA,MAAMwB,IAAAA,GAAO,IAAA,CAAKlG,gBAAAA,CAAiBiF,UAAAA,CAAW;AAAA,MAC5CzE,KAAAA,EAAO,0BAAA;AAAA,MACPc,SAAAA,EAAW;AAAA,KACZ,CAAA;AAED,IAAA,MAAM6E,OAAAA,GAAU/E,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC5C8E,IAAAA,OAAAA,CAAQ5E,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAOxB,IAAA,MAAM6E,WAAAA,GAAc,IAAA,CAAKvG,aAAAA,CAAcwG,cAAAA,EAAe;AACtD,IAAA,MAAMC,WAAAA,GAAc,CAAC,MAAA,EAAQ,QAAA,EAAU,aAAa,MAAA,EAAQ,OAAA,EAAS,MAAA,EAAQ,MAAA,EAAQ,OAAO,CAAA;AAE5FA,IAAAA,WAAAA,CAAYlE,QAASmE,CAAAA,QAAAA,KAAa;AAChC,MAAA,MAAMC,MAAAA,GAASJ,WAAAA,CAAYK,iBAAAA,CAAkBF,QAAAA,EAAU;AAAA,QAAEG,IAAAA,EAAM;AAAA,OAAI,CAAA;AACnEF,MAAAA,MAAAA,CAAOlF,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAA,CAAA;AAWvBiF,MAAAA,MAAAA,CAAO9D,gBAAAA,CAAiB,cAAc,MAAM;AAC1C8D,QAAAA,MAAAA,CAAOlF,MAAMqF,UAAAA,GAAa,mDAAA;AAAA,MAC5B,CAAC,CAAA;AAEDH,MAAAA,MAAAA,CAAO9D,gBAAAA,CAAiB,cAAc,MAAM;AAC1C8D,QAAAA,MAAAA,CAAOlF,MAAMqF,UAAAA,GAAa,+CAAA;AAAA,MAC5B,CAAC,CAAA;AAEDT,MAAAA,OAAAA,CAAQxE,YAAY8E,MAAM,CAAA;AAAA,IAC5B,CAAC,CAAA;AAEDP,IAAAA,IAAAA,CAAK5C,aAAAA,CAAc,eAAe,CAAA,EAAG3B,WAAAA,CAAYwE,OAAO,CAAA;AAExD,IAAA,OAAOD,IAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQhF,YAAAA,GAA4B;AAClC,IAAA,MAAM2F,MAAAA,GAASzF,QAAAA,CAASC,aAAAA,CAAc,KAAK,CAAA;AAC3CwF,IAAAA,MAAAA,CAAOtF,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAQvB,IAAA,MAAMsF,SAAAA,GAAY,IAAA,CAAK9G,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,MACnDT,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,sBAAsB,CAAA,IAAK,cAAA;AAAA,MACvDiC,IAAAA,EAAM,WAAA;AAAA,MACN2C,OAAAA,EAASA,MAAM,IAAA,CAAK0B,WAAAA;AAAY,KACjC,CAAA;AAED,IAAA,MAAMC,OAAAA,GAAU,IAAA,CAAKhH,gBAAAA,CAAiByC,YAAAA,CAAa;AAAA,MACjDT,KAAAA,EAAO,IAAA,CAAKlC,aAAAA,CAAcW,CAAAA,CAAE,oBAAoB,CAAA,IAAK,cAAA;AAAA,MACrDiC,IAAAA,EAAM,SAAA;AAAA,MACN2C,OAAAA,EAASA,MAAM,IAAA,CAAK4B,UAAAA;AAAW,KAChC,CAAA;AAEDJ,IAAAA,MAAAA,CAAOlF,YAAYmF,SAAS,CAAA;AAC5BD,IAAAA,MAAAA,CAAOlF,YAAYqF,OAAO,CAAA;AAE1B,IAAA,OAAOH,MAAAA;AAAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQ9C,aAAamD,SAAAA,EAAyB;AAC5C,IAAA,IAAA,CAAKpH,aAAAA,CAAcqH,SAASD,SAAS,CAAA;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA,EAKQzC,aAAa9E,OAAAA,EAAuB;AAE1C,IAAA,MAAMwG,OAAAA,GAAU,IAAA,CAAK1G,SAAAA,EAAW6D,aAAAA,CAAc,mCAAmC,CAAA;AACjF,IAAA,IAAI6C,OAAAA,EAAS;AACXA,MAAAA,OAAAA,CAAQC,SAAAA,GAAY,EAAA;AAEpB,MAAA,MAAMC,WAAAA,GAAc,IAAA,CAAKvG,aAAAA,CAAcwG,cAAAA,EAAe;AACtD,MAAA,MAAMC,WAAAA,GAAc,CAAC,MAAA,EAAQ,QAAA,EAAU,aAAa,MAAA,EAAQ,OAAA,EAAS,MAAA,EAAQ,MAAA,EAAQ,OAAO,CAAA;AAE5FA,MAAAA,WAAAA,CAAYlE,QAASmE,CAAAA,QAAAA,KAAa;AAChC,QAAA,MAAMC,MAAAA,GAASJ,WAAAA,CAAYK,iBAAAA,CAAkBF,QAAAA,EAAU;AAAA,UAAEG,IAAAA,EAAM;AAAA,SAAI,CAAA;AACnEF,QAAAA,MAAAA,CAAOlF,MAAMC,OAAAA,GAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAA,CAAA;AAQvB2E,QAAAA,OAAAA,CAAQxE,YAAY8E,MAAM,CAAA;AAAA,MAC5B,CAAC,CAAA;AAAA,IACH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQnB,YAAAA,GAAqB;AAC3B,IAAA,MAAM8B,MAAAA,GAAS,IAAA,CAAKtH,aAAAA,CAAcwF,YAAAA,EAAa;AAC/C,IAAA,MAAM+B,IAAAA,GAAO,IAAIC,IAAAA,CAAK,CAACF,MAAM,CAAA,EAAG;AAAA,MAAE1E,IAAAA,EAAM;AAAA,KAAoB,CAAA;AAC5D,IAAA,MAAM6E,GAAAA,GAAMC,GAAAA,CAAIC,eAAAA,CAAgBJ,IAAI,CAAA;AACpC,IAAA,MAAMK,CAAAA,GAAItG,QAAAA,CAASC,aAAAA,CAAc,GAAG,CAAA;AACpCqG,IAAAA,CAAAA,CAAEC,IAAAA,GAAOJ,GAAAA;AACTG,IAAAA,CAAAA,CAAEE,QAAAA,GAAW,CAAA,cAAA,EAAiBC,IAAAA,CAAKC,GAAAA,EAAK,CAAA,KAAA,CAAA;AACxCJ,IAAAA,CAAAA,CAAE5B,KAAAA,EAAM;AACR0B,IAAAA,GAAAA,CAAIO,gBAAgBR,GAAG,CAAA;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA,EAKQ3B,aAAaD,CAAAA,EAAgB;AACnC,IAAA,MAAMqC,IAAAA,GAAQrC,CAAAA,CAAEsC,MAAAA,CAA4BC,KAAAA,GAAQ,CAAC,CAAA;AACrD,IAAA,IAAI,CAACF,IAAAA;AACH,MAAA;AAEF,IAAA,MAAMG,MAAAA,GAAS,IAAIC,UAAAA,EAAW;AAC9BD,IAAAA,MAAAA,CAAOE,SAAUC,CAAAA,KAAAA,KAAU;AACzB,MAAA,IAAI;AACF,QAAA,MAAMlB,MAAAA,GAASkB,MAAML,MAAAA,EAAQM,MAAAA;AAC7B,QAAA,IAAA,CAAKzI,aAAAA,CAAc8F,aAAawB,MAAM,CAAA;AAGtC,QAAA,IAAA,CAAK1H,UAAAA,GAAa;AAAA,UAChBC,OAAAA,EAAS,IAAA,CAAKG,aAAAA,CAAcI,UAAAA,EAAW;AAAA,UACvCN,KAAAA,EAAO,IAAA,CAAKE,aAAAA,CAAcK,eAAAA,GAAkBC,mBAAAA,EAAoB;AAAA,UAChEP,MAAAA,EAAQ,IAAA,CAAKC,aAAAA,CAAcO,SAAAA;AAAU,SACvC;AAGA,QAAA,IAAA,CAAKc,IAAAA,EAAK;AACV,QAAA,IAAA,CAAKb,IAAAA,EAAK;AAEVkI,QAAAA,KAAAA,CAAM,4CAAS,CAAA;AAAA,MACjB,SACOC,KAAAA,EAAO;AACZD,QAAAA,KAAAA,CAAM,CAAA,0CAAA,EAAWC,KAAAA,CAAgBC,OAAO,CAAA,CAAE,CAAA;AAAA,MAC5C;AAAA,IACF,CAAA;AACAP,IAAAA,MAAAA,CAAOQ,WAAWX,IAAI,CAAA;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA,EAKQ/B,WAAAA,GAAoB;AAC1B,IAAA,IAAI,CAAC2C,QAAQ,oHAAqB,CAAA;AAChC,MAAA;AAEF,IAAA,IAAA,CAAK9I,cAAc+I,KAAAA,EAAM;AAGzB,IAAA,IAAA,CAAKnJ,UAAAA,GAAa;AAAA,MAChBC,OAAAA,EAAS,IAAA,CAAKG,aAAAA,CAAcI,UAAAA,EAAW;AAAA,MACvCN,KAAAA,EAAO,IAAA,CAAKE,aAAAA,CAAcK,eAAAA,GAAkBC,mBAAAA,EAAoB;AAAA,MAChEP,MAAAA,EAAQ,IAAA,CAAKC,aAAAA,CAAcO,SAAAA;AAAU,KACvC;AAGA,IAAA,IAAA,CAAKc,IAAAA,EAAK;AACV,IAAA,IAAA,CAAKb,IAAAA,EAAK;AAAA,EACZ;AAAA;AAAA;AAAA;AAAA,EAKQyG,WAAAA,GAAoB;AAE1B,IAAA,IAAA,CAAKjH,cAAcqH,QAAAA,CAAS,IAAA,CAAKrH,cAAcK,eAAAA,EAAgB,CAAEC,qBAAqB,CAAA;AAEtF,IAAA,IAAA,CAAKe,IAAAA,EAAK;AAEV,IAAA,IAAI,KAAK5B,OAAAA,CAAQuJ,OAAAA;AACf,MAAA,IAAA,CAAKvJ,QAAQuJ,OAAAA,EAAQ;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc7B,UAAAA,GAA4B;AAExC,IAAA,IAAA,CAAKnH,aAAAA,CAAciJ,UAAAA,CAAW,IAAA,CAAKrJ,UAAAA,CAAWC,OAAc,CAAA;AAC5D,IAAA,IAAA,CAAKG,aAAAA,CAAcqH,QAAAA,CAAS,IAAA,CAAKzH,UAAAA,CAAWE,KAAK,CAAA;AACjD,IAAA,MAAM,IAAA,CAAKE,aAAAA,CAAckJ,SAAAA,CAAU,IAAA,CAAKtJ,WAAWG,MAAM,CAAA;AAEzD,IAAA,IAAA,CAAKsB,IAAAA,EAAK;AAEV,IAAA,IAAI,KAAK5B,OAAAA,CAAQ0J,MAAAA;AACf,MAAA,IAAA,CAAK1J,OAAAA,CAAQ0J,MAAAA,CAAO,IAAA,CAAKvJ,UAAU,CAAA;AAAA,EACvC;AACF;AAKO,SAASwJ,kBAAkB3J,OAAAA,EAA+C;AAC/E,EAAA,MAAM4J,KAAAA,GAAQ,IAAI9J,aAAAA,CAAcE,OAAO,CAAA;AACvC4J,EAAAA,KAAAA,CAAM7I,IAAAA,EAAK;AACX,EAAA,OAAO6I,KAAAA;AACT;;;;;;;"}