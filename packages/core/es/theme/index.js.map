{"version":3,"file":"index.js","sources":["../../src/theme/index.ts"],"sourcesContent":["/**\r\n * 主题系统\r\n * 支持多主题切换和自定义主题\r\n */\r\n\r\nimport { EventEmitter } from '../core/EventEmitter'\r\n\r\nexport interface ThemeColors {\r\n  // 基础颜色\r\n  primary: string\r\n  primaryHover: string\r\n  primaryActive: string\r\n  secondary: string\r\n  success: string\r\n  warning: string\r\n  error: string\r\n  info: string\r\n\r\n  // 文本颜色\r\n  textPrimary: string\r\n  textSecondary: string\r\n  textDisabled: string\r\n  textInverse: string\r\n\r\n  // 背景颜色\r\n  background: string\r\n  backgroundPaper: string\r\n  backgroundOverlay: string\r\n\r\n  // 边框颜色\r\n  border: string\r\n  borderLight: string\r\n  borderDark: string\r\n\r\n  // 工具栏\r\n  toolbarBackground: string\r\n  toolbarText: string\r\n  toolbarButtonHover: string\r\n  toolbarButtonActive: string\r\n\r\n  // 编辑器\r\n  editorBackground: string\r\n  editorText: string\r\n  editorCursor: string\r\n  editorSelection: string\r\n  editorPlaceholder: string\r\n\r\n  // 代码块\r\n  codeBackground: string\r\n  codeText: string\r\n  codeBorder: string\r\n\r\n  // 链接\r\n  link: string\r\n  linkHover: string\r\n  linkVisited: string\r\n\r\n  // 阴影\r\n  shadow: string\r\n  shadowLight: string\r\n  shadowDark: string\r\n}\r\n\r\nexport interface ThemeFonts {\r\n  // 字体族\r\n  fontFamily: string\r\n  fontFamilyMonospace: string\r\n\r\n  // 字号\r\n  fontSizeXs: string\r\n  fontSizeSm: string\r\n  fontSizeMd: string\r\n  fontSizeLg: string\r\n  fontSizeXl: string\r\n  fontSize2xl: string\r\n  fontSize3xl: string\r\n\r\n  // 字重\r\n  fontWeightLight: number\r\n  fontWeightNormal: number\r\n  fontWeightMedium: number\r\n  fontWeightBold: number\r\n\r\n  // 行高\r\n  lineHeightTight: number\r\n  lineHeightNormal: number\r\n  lineHeightRelaxed: number\r\n}\r\n\r\nexport interface ThemeSpacing {\r\n  'xs': string\r\n  'sm': string\r\n  'md': string\r\n  'lg': string\r\n  'xl': string\r\n  '2xl': string\r\n  '3xl': string\r\n}\r\n\r\nexport interface ThemeBorders {\r\n  radiusNone: string\r\n  radiusSm: string\r\n  radiusMd: string\r\n  radiusLg: string\r\n  radiusFull: string\r\n\r\n  widthThin: string\r\n  widthNormal: string\r\n  widthThick: string\r\n}\r\n\r\nexport interface Theme {\r\n  name: string\r\n  isDark: boolean\r\n  colors: ThemeColors\r\n  fonts: ThemeFonts\r\n  spacing: ThemeSpacing\r\n  borders: ThemeBorders\r\n}\r\n\r\nexport class ThemeManager extends EventEmitter {\r\n  private currentTheme: string = 'light'\r\n  private themes: Map<string, Theme> = new Map()\r\n  private customThemes: Map<string, Theme> = new Map()\r\n\r\n  constructor() {\r\n    super()\r\n    this.loadBuiltinThemes()\r\n    this.applyTheme(this.currentTheme)\r\n  }\r\n\r\n  /**\r\n   * 加载内置主题\r\n   */\r\n  private loadBuiltinThemes() {\r\n    // 浅色主题\r\n    this.themes.set('light', {\r\n      name: 'Light',\r\n      isDark: false,\r\n      colors: {\r\n        primary: '#3b82f6',\r\n        primaryHover: '#2563eb',\r\n        primaryActive: '#1d4ed8',\r\n        secondary: '#8b5cf6',\r\n        success: '#10b981',\r\n        warning: '#f59e0b',\r\n        error: '#ef4444',\r\n        info: '#06b6d4',\r\n\r\n        textPrimary: '#1f2937',\r\n        textSecondary: '#6b7280',\r\n        textDisabled: '#9ca3af',\r\n        textInverse: '#ffffff',\r\n\r\n        background: '#ffffff',\r\n        backgroundPaper: '#f9fafb',\r\n        backgroundOverlay: 'rgba(0, 0, 0, 0.5)',\r\n\r\n        border: '#e5e7eb',\r\n        borderLight: '#f3f4f6',\r\n        borderDark: '#d1d5db',\r\n\r\n        toolbarBackground: '#ffffff',\r\n        toolbarText: '#374151',\r\n        toolbarButtonHover: '#f3f4f6',\r\n        toolbarButtonActive: '#e5e7eb',\r\n\r\n        editorBackground: '#ffffff',\r\n        editorText: '#1f2937',\r\n        editorCursor: '#3b82f6',\r\n        editorSelection: 'rgba(59, 130, 246, 0.2)',\r\n        editorPlaceholder: '#9ca3af',\r\n\r\n        codeBackground: '#f3f4f6',\r\n        codeText: '#1f2937',\r\n        codeBorder: '#e5e7eb',\r\n\r\n        link: '#3b82f6',\r\n        linkHover: '#2563eb',\r\n        linkVisited: '#7c3aed',\r\n\r\n        shadow: 'rgba(0, 0, 0, 0.1)',\r\n        shadowLight: 'rgba(0, 0, 0, 0.05)',\r\n        shadowDark: 'rgba(0, 0, 0, 0.2)',\r\n      },\r\n      fonts: {\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n        fontFamilyMonospace: 'Consolas, Monaco, \"Courier New\", monospace',\r\n\r\n        fontSizeXs: '12px',\r\n        fontSizeSm: '14px',\r\n        fontSizeMd: '16px',\r\n        fontSizeLg: '18px',\r\n        fontSizeXl: '20px',\r\n        fontSize2xl: '24px',\r\n        fontSize3xl: '30px',\r\n\r\n        fontWeightLight: 300,\r\n        fontWeightNormal: 400,\r\n        fontWeightMedium: 500,\r\n        fontWeightBold: 700,\r\n\r\n        lineHeightTight: 1.25,\r\n        lineHeightNormal: 1.5,\r\n        lineHeightRelaxed: 1.75,\r\n      },\r\n      spacing: {\r\n        'xs': '4px',\r\n        'sm': '8px',\r\n        'md': '16px',\r\n        'lg': '24px',\r\n        'xl': '32px',\r\n        '2xl': '48px',\r\n        '3xl': '64px',\r\n      },\r\n      borders: {\r\n        radiusNone: '0',\r\n        radiusSm: '2px',\r\n        radiusMd: '4px',\r\n        radiusLg: '8px',\r\n        radiusFull: '9999px',\r\n\r\n        widthThin: '1px',\r\n        widthNormal: '2px',\r\n        widthThick: '4px',\r\n      },\r\n    })\r\n\r\n    // 深色主题\r\n    this.themes.set('dark', {\r\n      name: 'Dark',\r\n      isDark: true,\r\n      colors: {\r\n        primary: '#60a5fa',\r\n        primaryHover: '#93bbfc',\r\n        primaryActive: '#3b82f6',\r\n        secondary: '#a78bfa',\r\n        success: '#34d399',\r\n        warning: '#fbbf24',\r\n        error: '#f87171',\r\n        info: '#22d3ee',\r\n\r\n        textPrimary: '#f9fafb',\r\n        textSecondary: '#d1d5db',\r\n        textDisabled: '#6b7280',\r\n        textInverse: '#1f2937',\r\n\r\n        background: '#111827',\r\n        backgroundPaper: '#1f2937',\r\n        backgroundOverlay: 'rgba(0, 0, 0, 0.8)',\r\n\r\n        border: '#374151',\r\n        borderLight: '#4b5563',\r\n        borderDark: '#1f2937',\r\n\r\n        toolbarBackground: '#1f2937',\r\n        toolbarText: '#f3f4f6',\r\n        toolbarButtonHover: '#374151',\r\n        toolbarButtonActive: '#4b5563',\r\n\r\n        editorBackground: '#111827',\r\n        editorText: '#f9fafb',\r\n        editorCursor: '#60a5fa',\r\n        editorSelection: 'rgba(96, 165, 250, 0.3)',\r\n        editorPlaceholder: '#6b7280',\r\n\r\n        codeBackground: '#1f2937',\r\n        codeText: '#f9fafb',\r\n        codeBorder: '#374151',\r\n\r\n        link: '#60a5fa',\r\n        linkHover: '#93bbfc',\r\n        linkVisited: '#c4b5fd',\r\n\r\n        shadow: 'rgba(0, 0, 0, 0.3)',\r\n        shadowLight: 'rgba(0, 0, 0, 0.2)',\r\n        shadowDark: 'rgba(0, 0, 0, 0.5)',\r\n      },\r\n      fonts: {\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n        fontFamilyMonospace: 'Consolas, Monaco, \"Courier New\", monospace',\r\n\r\n        fontSizeXs: '12px',\r\n        fontSizeSm: '14px',\r\n        fontSizeMd: '16px',\r\n        fontSizeLg: '18px',\r\n        fontSizeXl: '20px',\r\n        fontSize2xl: '24px',\r\n        fontSize3xl: '30px',\r\n\r\n        fontWeightLight: 300,\r\n        fontWeightNormal: 400,\r\n        fontWeightMedium: 500,\r\n        fontWeightBold: 700,\r\n\r\n        lineHeightTight: 1.25,\r\n        lineHeightNormal: 1.5,\r\n        lineHeightRelaxed: 1.75,\r\n      },\r\n      spacing: {\r\n        'xs': '4px',\r\n        'sm': '8px',\r\n        'md': '16px',\r\n        'lg': '24px',\r\n        'xl': '32px',\r\n        '2xl': '48px',\r\n        '3xl': '64px',\r\n      },\r\n      borders: {\r\n        radiusNone: '0',\r\n        radiusSm: '2px',\r\n        radiusMd: '4px',\r\n        radiusLg: '8px',\r\n        radiusFull: '9999px',\r\n\r\n        widthThin: '1px',\r\n        widthNormal: '2px',\r\n        widthThick: '4px',\r\n      },\r\n    })\r\n\r\n    // 高对比度主题\r\n    this.themes.set('high-contrast', {\r\n      name: 'High Contrast',\r\n      isDark: true,\r\n      colors: {\r\n        primary: '#ffffff',\r\n        primaryHover: '#e5e7eb',\r\n        primaryActive: '#d1d5db',\r\n        secondary: '#fbbf24',\r\n        success: '#4ade80',\r\n        warning: '#fb923c',\r\n        error: '#f87171',\r\n        info: '#67e8f9',\r\n\r\n        textPrimary: '#ffffff',\r\n        textSecondary: '#e5e7eb',\r\n        textDisabled: '#9ca3af',\r\n        textInverse: '#000000',\r\n\r\n        background: '#000000',\r\n        backgroundPaper: '#0a0a0a',\r\n        backgroundOverlay: 'rgba(0, 0, 0, 0.9)',\r\n\r\n        border: '#ffffff',\r\n        borderLight: '#e5e7eb',\r\n        borderDark: '#6b7280',\r\n\r\n        toolbarBackground: '#0a0a0a',\r\n        toolbarText: '#ffffff',\r\n        toolbarButtonHover: '#1f2937',\r\n        toolbarButtonActive: '#374151',\r\n\r\n        editorBackground: '#000000',\r\n        editorText: '#ffffff',\r\n        editorCursor: '#ffffff',\r\n        editorSelection: 'rgba(255, 255, 255, 0.3)',\r\n        editorPlaceholder: '#9ca3af',\r\n\r\n        codeBackground: '#0a0a0a',\r\n        codeText: '#ffffff',\r\n        codeBorder: '#ffffff',\r\n\r\n        link: '#fbbf24',\r\n        linkHover: '#fcd34d',\r\n        linkVisited: '#f59e0b',\r\n\r\n        shadow: 'rgba(255, 255, 255, 0.1)',\r\n        shadowLight: 'rgba(255, 255, 255, 0.05)',\r\n        shadowDark: 'rgba(255, 255, 255, 0.2)',\r\n      },\r\n      fonts: {\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n        fontFamilyMonospace: 'Consolas, Monaco, \"Courier New\", monospace',\r\n\r\n        fontSizeXs: '12px',\r\n        fontSizeSm: '14px',\r\n        fontSizeMd: '16px',\r\n        fontSizeLg: '18px',\r\n        fontSizeXl: '20px',\r\n        fontSize2xl: '24px',\r\n        fontSize3xl: '30px',\r\n\r\n        fontWeightLight: 300,\r\n        fontWeightNormal: 400,\r\n        fontWeightMedium: 500,\r\n        fontWeightBold: 700,\r\n\r\n        lineHeightTight: 1.25,\r\n        lineHeightNormal: 1.5,\r\n        lineHeightRelaxed: 1.75,\r\n      },\r\n      spacing: {\r\n        'xs': '4px',\r\n        'sm': '8px',\r\n        'md': '16px',\r\n        'lg': '24px',\r\n        'xl': '32px',\r\n        '2xl': '48px',\r\n        '3xl': '64px',\r\n      },\r\n      borders: {\r\n        radiusNone: '0',\r\n        radiusSm: '2px',\r\n        radiusMd: '4px',\r\n        radiusLg: '8px',\r\n        radiusFull: '9999px',\r\n\r\n        widthThin: '2px',\r\n        widthNormal: '3px',\r\n        widthThick: '5px',\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取当前主题\r\n   */\r\n  getCurrentTheme(): Theme | undefined {\r\n    return this.themes.get(this.currentTheme) || this.customThemes.get(this.currentTheme)\r\n  }\r\n\r\n  /**\r\n   * 获取主题名称\r\n   */\r\n  getCurrentThemeName(): string {\r\n    return this.currentTheme\r\n  }\r\n\r\n  /**\r\n   * 获取所有可用主题\r\n   */\r\n  getAvailableThemes(): string[] {\r\n    return [...this.themes.keys(), ...this.customThemes.keys()]\r\n  }\r\n\r\n  /**\r\n   * 设置主题\r\n   */\r\n  setTheme(themeName: string) {\r\n    const theme = this.themes.get(themeName) || this.customThemes.get(themeName)\r\n    if (!theme) {\r\n      console.error(`Theme \"${themeName}\" not found`)\r\n      return\r\n    }\r\n\r\n    const oldTheme = this.currentTheme\r\n    this.currentTheme = themeName\r\n    this.applyTheme(themeName)\r\n\r\n    this.emit('themeChange', { oldTheme, newTheme: themeName })\r\n  }\r\n\r\n  /**\r\n   * 添加自定义主题\r\n   */\r\n  addCustomTheme(theme: Theme) {\r\n    this.customThemes.set(theme.name.toLowerCase(), theme)\r\n  }\r\n\r\n  /**\r\n   * 删除自定义主题\r\n   */\r\n  removeCustomTheme(themeName: string) {\r\n    this.customThemes.delete(themeName)\r\n  }\r\n\r\n  /**\r\n   * 应用主题到 DOM\r\n   */\r\n  private applyTheme(themeName: string) {\r\n    const theme = this.themes.get(themeName) || this.customThemes.get(themeName)\r\n    if (!theme)\r\n      return\r\n\r\n    const root = document.documentElement\r\n\r\n    // 应用颜色变量\r\n    Object.entries(theme.colors).forEach(([key, value]) => {\r\n      root.style.setProperty(`--editor-color-${this.kebabCase(key)}`, value)\r\n    })\r\n\r\n    // 应用字体变量\r\n    Object.entries(theme.fonts).forEach(([key, value]) => {\r\n      root.style.setProperty(`--editor-font-${this.kebabCase(key)}`, String(value))\r\n    })\r\n\r\n    // 应用间距变量\r\n    Object.entries(theme.spacing).forEach(([key, value]) => {\r\n      root.style.setProperty(`--editor-spacing-${key}`, value)\r\n    })\r\n\r\n    // 应用边框变量\r\n    Object.entries(theme.borders).forEach(([key, value]) => {\r\n      root.style.setProperty(`--editor-border-${this.kebabCase(key)}`, value)\r\n    })\r\n\r\n    // 设置主题类名\r\n    root.classList.remove('editor-theme-light', 'editor-theme-dark', 'editor-theme-high-contrast')\r\n    root.classList.add(`editor-theme-${themeName}`)\r\n\r\n    // 设置深色模式标记\r\n    if (theme.isDark)\r\n      root.classList.add('editor-dark')\r\n    else\r\n      root.classList.remove('editor-dark')\r\n  }\r\n\r\n  /**\r\n   * 转换为 kebab-case\r\n   */\r\n  private kebabCase(str: string): string {\r\n    return str.replace(/[A-Z]/g, letter => `-${letter.toLowerCase()}`)\r\n  }\r\n\r\n  /**\r\n   * 从系统偏好检测主题\r\n   */\r\n  detectSystemTheme(): 'light' | 'dark' {\r\n    if (typeof window === 'undefined')\r\n      return 'light'\r\n\r\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n    return prefersDark ? 'dark' : 'light'\r\n  }\r\n\r\n  /**\r\n   * 自动跟随系统主题\r\n   */\r\n  followSystemTheme() {\r\n    const systemTheme = this.detectSystemTheme()\r\n    this.setTheme(systemTheme)\r\n\r\n    // 监听系统主题变化\r\n    if (typeof window !== 'undefined') {\r\n      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\r\n      mediaQuery.addEventListener('change', (e) => {\r\n        this.setTheme(e.matches ? 'dark' : 'light')\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 单例实例\r\nlet themeInstance: ThemeManager | null = null\r\n\r\n/**\r\n * 获取或创建主题管理器实例\r\n */\r\nexport function getThemeManager(): ThemeManager {\r\n  if (!themeInstance)\r\n    themeInstance = new ThemeManager()\r\n\r\n  return themeInstance\r\n}\r\n\r\n/**\r\n * 便捷函数\r\n */\r\nexport function setTheme(themeName: string) {\r\n  getThemeManager().setTheme(themeName)\r\n}\r\n\r\nexport function getCurrentTheme(): Theme | undefined {\r\n  return getThemeManager().getCurrentTheme()\r\n}\r\n\r\nexport function getAvailableThemes(): string[] {\r\n  return getThemeManager().getAvailableThemes()\r\n}\r\n"],"names":["ThemeManager","EventEmitter","constructor","currentTheme","themes","Map","customThemes","loadBuiltinThemes","applyTheme","set","name","isDark","colors","primary","primaryHover","primaryActive","secondary","success","warning","error","info","textPrimary","textSecondary","textDisabled","textInverse","background","backgroundPaper","backgroundOverlay","border","borderLight","borderDark","toolbarBackground","toolbarText","toolbarButtonHover","toolbarButtonActive","editorBackground","editorText","editorCursor","editorSelection","editorPlaceholder","codeBackground","codeText","codeBorder","link","linkHover","linkVisited","shadow","shadowLight","shadowDark","fonts","fontFamily","fontFamilyMonospace","fontSizeXs","fontSizeSm","fontSizeMd","fontSizeLg","fontSizeXl","fontSize2xl","fontSize3xl","fontWeightLight","fontWeightNormal","fontWeightMedium","fontWeightBold","lineHeightTight","lineHeightNormal","lineHeightRelaxed","spacing","borders","radiusNone","radiusSm","radiusMd","radiusLg","radiusFull","widthThin","widthNormal","widthThick","getCurrentTheme","get","getCurrentThemeName","getAvailableThemes","keys","setTheme","themeName","theme","console","oldTheme","emit","newTheme","addCustomTheme","toLowerCase","removeCustomTheme","delete","root","document","documentElement","Object","entries","forEach","key","value","style","setProperty","kebabCase","String","classList","remove","add","str","replace","letter","detectSystemTheme","window","prefersDark","matchMedia","matches","followSystemTheme","systemTheme","mediaQuery","addEventListener","e","themeInstance","getThemeManager"],"mappings":"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"}